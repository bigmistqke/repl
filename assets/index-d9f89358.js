(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const s of c)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(c){const s={};return c.integrity&&(s.integrity=c.integrity),c.referrerPolicy&&(s.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?s.credentials="include":c.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(c){if(c.ep)return;c.ep=!0;const s=n(c);fetch(c.href,s)}})();const Hr=(t,e)=>t===e,Se=Symbol("solid-proxy"),Cn=Symbol("solid-track"),Ht={equals:Hr};let qr=ts;const Pe=1,qt=2,Kr={owned:null,cleanups:null,context:null,owner:null},pn={};var re=null;let gn=null,ni=null,ie=null,pe=null,Ne=null,tn=0;function Je(t,e){const n=ie,r=re,c=t.length===0,s=e===void 0?r:e,a=c?Kr:{owned:null,cleanups:null,context:s?s.context:null,owner:s},o=c?t:()=>t(()=>ce(()=>nn(a)));re=a,ie=null;try{return xe(o,!0)}finally{ie=n,re=r}}function ue(t,e){e=e?Object.assign({},Ht,e):Ht;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=c=>(typeof c=="function"&&(c=c(n.value)),es(n,c));return[Zr.bind(n),r]}function nr(t,e,n){const r=Nt(t,e,!0,Pe);Qe(r)}function me(t,e,n){const r=Nt(t,e,!1,Pe);Qe(r)}function be(t,e,n){qr=ci;const r=Nt(t,e,!1,Pe);(!n||!n.render)&&(r.user=!0),Ne?Ne.push(r):Qe(r)}function fe(t,e,n){n=n?Object.assign({},Ht,n):Ht;const r=Nt(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Qe(r),Zr.bind(r)}function ri(t){return t&&typeof t=="object"&&"then"in t}function Be(t,e,n){let r,c,s;arguments.length===2&&typeof e=="object"||arguments.length===1?(r=!0,c=t,s=e||{}):(r=t,c=e,s=n||{});let a=null,o=pn,f=!1,u="initialValue"in s,v=typeof r=="function"&&fe(r);const m=new Set,[w,I]=(s.storage||ue)(s.initialValue),[_,E]=ue(void 0),[C,p]=ue(void 0,{equals:!1}),[S,A]=ue(u?"ready":"unresolved");function P(d,l,h,b){return a===d&&(a=null,b!==void 0&&(u=!0),(d===o||l===o)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(b,{value:l})),o=pn,y(l,h)),l}function y(d,l){xe(()=>{l===void 0&&I(()=>d),A(l!==void 0?"errored":u?"ready":"unresolved"),E(l);for(const h of m.keys())h.decrement();m.clear()},!1)}function i(){const d=ii,l=w(),h=_();if(h!==void 0&&!a)throw h;return ie&&!ie.user&&d&&nr(()=>{C(),a&&(d.resolved||m.has(d)||(d.increment(),m.add(d)))}),l}function g(d=!0){if(d!==!1&&f)return;f=!1;const l=v?v():r;if(l==null||l===!1){P(a,ce(w));return}const h=o!==pn?o:ce(()=>c(l,{value:w(),refetching:d}));return ri(h)?(a=h,"value"in h?(h.status==="success"?P(a,h.value,void 0,l):P(a,void 0,En(h.value),l),h):(f=!0,queueMicrotask(()=>f=!1),xe(()=>{A(u?"refreshing":"pending"),p()},!1),h.then(b=>P(h,b,void 0,l),b=>P(h,void 0,En(b),l)))):(P(a,h,void 0,l),h)}return Object.defineProperties(i,{state:{get:()=>S()},error:{get:()=>_()},loading:{get(){const d=S();return d==="pending"||d==="refreshing"}},latest:{get(){if(!u)return i();const d=_();if(d&&!a)throw d;return w()}}}),v?nr(()=>g(!1)):g(!1),[i,{refetch:g,mutate:I}]}function rr(t,e=Hr,n){const r=new Map,c=Nt(s=>{const a=t();for(const[o,f]of r.entries())if(e(o,a)!==e(o,s))for(const u of f.values())u.state=Pe,u.pure?pe.push(u):Ne.push(u);return a},void 0,!0,Pe);return Qe(c),s=>{const a=ie;if(a){let o;(o=r.get(s))?o.add(a):r.set(s,o=new Set([a])),Ae(()=>{o.delete(a),!o.size&&r.delete(s)})}return e(s,c.value)}}function Gn(t){return xe(t,!1)}function ce(t){if(ie===null)return t();const e=ie;ie=null;try{return t()}finally{ie=e}}function Vr(t,e,n){const r=Array.isArray(t);let c,s=n&&n.defer;return a=>{let o;if(r){o=Array(t.length);for(let u=0;u<t.length;u++)o[u]=t[u]()}else o=t();if(s)return s=!1,a;const f=ce(()=>e(o,c,a));return c=o,f}}function Xr(t){be(()=>ce(t))}function Ae(t){return re===null||(re.cleanups===null?re.cleanups=[t]:re.cleanups.push(t)),t}function at(){return ie}function Ie(){return re}function Jr(t,e){const n=re,r=ie;re=t,ie=null;try{return xe(e,!0)}catch(c){Bn(c)}finally{re=n,ie=r}}function Yr(t,e){const n=Symbol("context");return{id:n,Provider:li(n),defaultValue:t}}function Qr(t){let e;return re&&re.context&&(e=re.context[t.id])!==void 0?e:t.defaultValue}function si(t){const e=fe(t),n=fe(()=>Pn(e()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let ii;function Zr(){if(this.sources&&this.state)if(this.state===Pe)Qe(this);else{const t=pe;pe=null,xe(()=>Vt(this),!1),pe=t}if(ie){const t=this.observers?this.observers.length:0;ie.sources?(ie.sources.push(this),ie.sourceSlots.push(t)):(ie.sources=[this],ie.sourceSlots=[t]),this.observers?(this.observers.push(ie),this.observerSlots.push(ie.sources.length-1)):(this.observers=[ie],this.observerSlots=[ie.sources.length-1])}return this.value}function es(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&xe(()=>{for(let c=0;c<t.observers.length;c+=1){const s=t.observers[c],a=gn&&gn.running;a&&gn.disposed.has(s),(a?!s.tState:!s.state)&&(s.pure?pe.push(s):Ne.push(s),s.observers&&ns(s)),a||(s.state=Pe)}if(pe.length>1e6)throw pe=[],new Error},!1)),e}function Qe(t){if(!t.fn)return;nn(t);const e=tn;oi(t,t.value,e)}function oi(t,e,n){let r;const c=re,s=ie;ie=re=t;try{r=t.fn(e)}catch(a){return t.pure&&(t.state=Pe,t.owned&&t.owned.forEach(nn),t.owned=null),t.updatedAt=n+1,Bn(a)}finally{ie=s,re=c}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?es(t,r):t.value=r,t.updatedAt=n)}function Nt(t,e,n,r=Pe,c){const s={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:re,context:re?re.context:null,pure:n};return re===null||re!==Kr&&(re.owned?re.owned.push(s):re.owned=[s]),s}function Kt(t){if(t.state===0)return;if(t.state===qt)return Vt(t);if(t.suspense&&ce(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<tn);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===Pe)Qe(t);else if(t.state===qt){const r=pe;pe=null,xe(()=>Vt(t,e[0]),!1),pe=r}}function xe(t,e){if(pe)return t();let n=!1;e||(pe=[]),Ne?n=!0:Ne=[],tn++;try{const r=t();return ai(n),r}catch(r){n||(Ne=null),pe=null,Bn(r)}}function ai(t){if(pe&&(ts(pe),pe=null),t)return;const e=Ne;Ne=null,e.length&&xe(()=>qr(e),!1)}function ts(t){for(let e=0;e<t.length;e++)Kt(t[e])}function ci(t){let e,n=0;for(e=0;e<t.length;e++){const r=t[e];r.user?t[n++]=r:Kt(r)}for(e=0;e<n;e++)Kt(t[e])}function Vt(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const r=t.sources[n];if(r.sources){const c=r.state;c===Pe?r!==e&&(!r.updatedAt||r.updatedAt<tn)&&Kt(r):c===qt&&Vt(r,e)}}}function ns(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=qt,n.pure?pe.push(n):Ne.push(n),n.observers&&ns(n))}}function nn(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),c=n.observers;if(c&&c.length){const s=c.pop(),a=n.observerSlots.pop();r<c.length&&(s.sourceSlots[a]=r,c[r]=s,n.observerSlots[r]=a)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)nn(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function En(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function Bn(t,e=re){throw En(t)}function Pn(t){if(typeof t=="function"&&!t.length)return Pn(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=Pn(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}function li(t,e){return function(r){let c;return me(()=>c=ce(()=>(re.context={...re.context,[t]:r.value},si(()=>r.children))),void 0),c}}const sr=Symbol("fallback");function ir(t){for(let e=0;e<t.length;e++)t[e]()}function ui(t,e,n={}){let r=[],c=[],s=[],a=[],o=0,f;return Ae(()=>ir(s)),()=>{const u=t()||[],v=u.length;return u[Cn],ce(()=>{if(v===0)return o!==0&&(ir(s),s=[],r=[],c=[],o=0,a=[]),n.fallback&&(r=[sr],c[0]=Je(w=>(s[0]=w,n.fallback())),o=1),c;for(r[0]===sr&&(s[0](),s=[],r=[],c=[],o=0),f=0;f<v;f++)f<r.length&&r[f]!==u[f]?a[f](()=>u[f]):f>=r.length&&(c[f]=Je(m));for(;f<r.length;f++)s[f]();return o=a.length=s.length=v,r=u.slice(0),c=c.slice(0,o)});function m(w){s[f]=w;const[I,_]=ue(u[f]);return a[f]=_,e(I,f)}}}function we(t,e){return ce(()=>t(e||{}))}function Mt(){return!0}const On={get(t,e,n){return e===Se?n:t.get(e)},has(t,e){return e===Se?!0:t.has(e)},set:Mt,deleteProperty:Mt,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:Mt,deleteProperty:Mt}},ownKeys(t){return t.keys()}};function mn(t){return(t=typeof t=="function"?t():t)?t:{}}function fi(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function ct(...t){let e=!1;for(let a=0;a<t.length;a++){const o=t[a];e=e||!!o&&Se in o,t[a]=typeof o=="function"?(e=!0,fe(o)):o}if(e)return new Proxy({get(a){for(let o=t.length-1;o>=0;o--){const f=mn(t[o])[a];if(f!==void 0)return f}},has(a){for(let o=t.length-1;o>=0;o--)if(a in mn(t[o]))return!0;return!1},keys(){const a=[];for(let o=0;o<t.length;o++)a.push(...Object.keys(mn(t[o])));return[...new Set(a)]}},On);const n={},r=Object.create(null);for(let a=t.length-1;a>=0;a--){const o=t[a];if(!o)continue;const f=Object.getOwnPropertyNames(o);for(let u=f.length-1;u>=0;u--){const v=f[u];if(v==="__proto__"||v==="constructor")continue;const m=Object.getOwnPropertyDescriptor(o,v);if(!r[v])r[v]=m.get?{enumerable:!0,configurable:!0,get:fi.bind(n[v]=[m.get.bind(o)])}:m.value!==void 0?m:void 0;else{const w=n[v];w&&(m.get?w.push(m.get.bind(o)):m.value!==void 0&&w.push(()=>m.value))}}}const c={},s=Object.keys(r);for(let a=s.length-1;a>=0;a--){const o=s[a],f=r[o];f&&f.get?Object.defineProperty(c,o,f):c[o]=f?f.value:void 0}return c}function Nn(t,...e){if(Se in t){const c=new Set(e.length>1?e.flat():e[0]),s=e.map(a=>new Proxy({get(o){return a.includes(o)?t[o]:void 0},has(o){return a.includes(o)&&o in t},keys(){return a.filter(o=>o in t)}},On));return s.push(new Proxy({get(a){return c.has(a)?void 0:t[a]},has(a){return c.has(a)?!1:a in t},keys(){return Object.keys(t).filter(a=>!c.has(a))}},On)),s}const n={},r=e.map(()=>({}));for(const c of Object.getOwnPropertyNames(t)){const s=Object.getOwnPropertyDescriptor(t,c),a=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let o=!1,f=0;for(const u of e)u.includes(c)&&(o=!0,a?r[f][c]=s.value:Object.defineProperty(r[f],c,s)),++f;o||(a?n[c]=s.value:Object.defineProperty(n,c,s))}return[...r,n]}const hi=t=>`Stale read from <${t}>.`;function or(t){const e="fallback"in t&&{fallback:()=>t.fallback};return fe(ui(()=>t.each,t.children,e||void 0))}function St(t){const e=t.keyed,n=fe(()=>t.when,void 0,{equals:(r,c)=>e?r===c:!r==!c});return fe(()=>{const r=n();if(r){const c=t.children;return typeof c=="function"&&c.length>0?ce(()=>c(e?r:()=>{if(!ce(n))throw hi("Show");return t.when})):c}return t.fallback},void 0,void 0)}const di=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],pi=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...di]),gi=new Set(["innerHTML","textContent","innerText","children"]),mi=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),yi=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function _i(t,e){const n=yi[t];return typeof n=="object"?n[e]?n.$:void 0:n}const bi=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),vi={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function wi(t,e,n){let r=n.length,c=e.length,s=r,a=0,o=0,f=e[c-1].nextSibling,u=null;for(;a<c||o<s;){if(e[a]===n[o]){a++,o++;continue}for(;e[c-1]===n[s-1];)c--,s--;if(c===a){const v=s<r?o?n[o-1].nextSibling:n[s-o]:f;for(;o<s;)t.insertBefore(n[o++],v)}else if(s===o)for(;a<c;)(!u||!u.has(e[a]))&&e[a].remove(),a++;else if(e[a]===n[s-1]&&n[o]===e[c-1]){const v=e[--c].nextSibling;t.insertBefore(n[o++],e[a++].nextSibling),t.insertBefore(n[--s],v),e[c]=n[s]}else{if(!u){u=new Map;let m=o;for(;m<s;)u.set(n[m],m++)}const v=u.get(e[a]);if(v!=null)if(o<v&&v<s){let m=a,w=1,I;for(;++m<c&&m<s&&!((I=u.get(e[m]))==null||I!==v+w);)w++;if(w>v-o){const _=e[a];for(;o<v;)t.insertBefore(n[o++],_)}else t.replaceChild(n[o++],e[a++])}else a++;else e[a++].remove()}}}const ar="_$DX_DELEGATE";function Fn(t,e,n,r={}){let c;return Je(s=>{c=s,e===document?t():Wn(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{c(),e.textContent=""}}function $e(t,e,n){let r;const c=()=>{const a=document.createElement("template");return a.innerHTML=t,n?a.content.firstChild.firstChild:a.content.firstChild},s=e?()=>ce(()=>document.importNode(r||(r=c()),!0)):()=>(r||(r=c())).cloneNode(!0);return s.cloneNode=s,s}function rn(t,e=window.document){const n=e[ar]||(e[ar]=new Set);for(let r=0,c=t.length;r<c;r++){const s=t[r];n.has(s)||(n.add(s),e.addEventListener(s,Oi))}}function lt(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function Si(t,e,n,r){r==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r)}function gt(t,e){e==null?t.removeAttribute("class"):t.className=e}function Ai(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const c=n[0];t.addEventListener(e,n[0]=s=>c.call(t,n[1],s))}else t.addEventListener(e,n)}function Ti(t,e,n={}){const r=Object.keys(e||{}),c=Object.keys(n);let s,a;for(s=0,a=c.length;s<a;s++){const o=c[s];!o||o==="undefined"||e[o]||(cr(t,o,!1),delete n[o])}for(s=0,a=r.length;s<a;s++){const o=r[s],f=!!e[o];!o||o==="undefined"||n[o]===f||!f||(cr(t,o,!0),n[o]=f)}return n}function Ci(t,e,n){if(!e)return n?lt(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let c,s;for(s in n)e[s]==null&&r.removeProperty(s),delete n[s];for(s in e)c=e[s],c!==n[s]&&(r.setProperty(s,c),n[s]=c);return n}function rs(t,e={},n,r){const c={};return r||me(()=>c.children=ut(t,e.children,c.children)),me(()=>typeof e.ref=="function"&&bt(e.ref,t)),me(()=>Ei(t,e,n,!0,c,!0)),c}function bt(t,e,n){return ce(()=>t(e,n))}function Wn(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return ut(t,e,r,n);me(c=>ut(t,e(),c,n),r)}function Ei(t,e,n,r,c={},s=!1){e||(e={});for(const a in c)if(!(a in e)){if(a==="children")continue;c[a]=lr(t,a,null,c[a],n,s)}for(const a in e){if(a==="children"){r||ut(t,e.children);continue}const o=e[a];c[a]=lr(t,a,o,c[a],n,s)}}function Pi(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function cr(t,e,n){const r=e.trim().split(/\s+/);for(let c=0,s=r.length;c<s;c++)t.classList.toggle(r[c],n)}function lr(t,e,n,r,c,s){let a,o,f,u,v;if(e==="style")return Ci(t,n,r);if(e==="classList")return Ti(t,n,r);if(n===r)return r;if(e==="ref")s||n(t);else if(e.slice(0,3)==="on:"){const m=e.slice(3);r&&t.removeEventListener(m,r),n&&t.addEventListener(m,n)}else if(e.slice(0,10)==="oncapture:"){const m=e.slice(10);r&&t.removeEventListener(m,r,!0),n&&t.addEventListener(m,n,!0)}else if(e.slice(0,2)==="on"){const m=e.slice(2).toLowerCase(),w=bi.has(m);if(!w&&r){const I=Array.isArray(r)?r[0]:r;t.removeEventListener(m,I)}(w||n)&&(Ai(t,m,n,w),w&&rn([m]))}else if(e.slice(0,5)==="attr:")lt(t,e.slice(5),n);else if((v=e.slice(0,5)==="prop:")||(f=gi.has(e))||!c&&((u=_i(e,t.tagName))||(o=pi.has(e)))||(a=t.nodeName.includes("-")))v&&(e=e.slice(5),o=!0),e==="class"||e==="className"?gt(t,n):a&&!o&&!f?t[Pi(e)]=n:t[u||e]=n;else{const m=c&&e.indexOf(":")>-1&&vi[e.split(":")[0]];m?Si(t,m,e,n):lt(t,mi[e]||e,n)}return n}function Oi(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[e];if(r&&!n.disabled){const c=n[`${e}Data`];if(c!==void 0?r.call(n,c,t):r.call(n,t),t.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function ut(t,e,n,r,c){for(;typeof n=="function";)n=n();if(e===n)return n;const s=typeof e,a=r!==void 0;if(t=a&&n[0]&&n[0].parentNode||t,s==="string"||s==="number"){if(s==="number"&&(e=e.toString(),e===n))return n;if(a){let o=n[0];o&&o.nodeType===3?o.data!==e&&(o.data=e):o=document.createTextNode(e),n=nt(t,n,r,o)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||s==="boolean")n=nt(t,n,r);else{if(s==="function")return me(()=>{let o=e();for(;typeof o=="function";)o=o();n=ut(t,o,n,r)}),()=>n;if(Array.isArray(e)){const o=[],f=n&&Array.isArray(n);if(kn(o,e,n,c))return me(()=>n=ut(t,o,n,r,!0)),()=>n;if(o.length===0){if(n=nt(t,n,r),a)return n}else f?n.length===0?ur(t,o,r):wi(t,n,o):(n&&nt(t),ur(t,o));n=o}else if(e.nodeType){if(Array.isArray(n)){if(a)return n=nt(t,n,r,e);nt(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function kn(t,e,n,r){let c=!1;for(let s=0,a=e.length;s<a;s++){let o=e[s],f=n&&n[t.length],u;if(!(o==null||o===!0||o===!1))if((u=typeof o)=="object"&&o.nodeType)t.push(o);else if(Array.isArray(o))c=kn(t,o,f)||c;else if(u==="function")if(r){for(;typeof o=="function";)o=o();c=kn(t,Array.isArray(o)?o:[o],Array.isArray(f)?f:[f])||c}else t.push(o),c=!0;else{const v=String(o);f&&f.nodeType===3&&f.data===v?t.push(f):t.push(document.createTextNode(v))}}return c}function ur(t,e,n=null){for(let r=0,c=e.length;r<c;r++)t.insertBefore(e[r],n)}function nt(t,e,n,r){if(n===void 0)return t.textContent="";const c=r||document.createTextNode("");if(e.length){let s=!1;for(let a=e.length-1;a>=0;a--){const o=e[a];if(c!==o){const f=o.parentNode===t;!s&&!a?f?t.replaceChild(c,o):t.insertBefore(c,n):f&&o.remove()}else s=!0}}else t.insertBefore(c,n);return[c]}var Un=(t,e)=>{let n;const r=()=>clearTimeout(n);return Ie()&&Ae(r),Object.assign((...s)=>{n!==void 0&&r(),n=setTimeout(()=>t(...s),e)},{clear:r})};function zn(t){let e=0,n=!1;const[r,c]=ue(void 0,{equals:!1}),s=t(()=>{n=!0,c()});return()=>(n||(s(),r()),n?(n=!!e,!0):(at()&&(e++,Ae(()=>e--)),!1))}class ss extends EventTarget{addEventListener(e,n,r){super.addEventListener(e,n,r)}removeEventListener(e,n,r){super.removeEventListener(e,n,r)}dispatchEvent(e){return super.dispatchEvent(e)}}class is extends Event{constructor(e){super("url"),this.url=e}}class sn extends ss{constructor(e,n,r){super(),this.runtime=e,this.path=n,[this.#e,this.#n]=ue(""),this.#r=()=>r!==void 0?r:!!e.config.controlled}#e;#n;#r;toJSON(){return this.get()}set(e){this.runtime.config.onFileChange?.(this.path,e),this.#r()||this.#n(e)}get(){return this.#r()?this.runtime.config.files[this.path]:this.#e()}get source(){return this.#r()?this.runtime.config.files[this.path]:this.#e()}moduleTransform(){const e=this.url;if(!e)throw`Currently module-url of ${this.path} is undefined.`;return e}}function os(t,e){return`
import { dispose } from "@repl/std"
(() => {
  let stylesheet = document.querySelector('[data-repl-css-id="${t}"]');
  if(!stylesheet){
    stylesheet = document.createElement('style')
    stylesheet.setAttribute('data-repl-css-id', '${t}');
    document.head.appendChild(stylesheet)
    dispose('${t}', () => stylesheet.remove())
  }
  const styles = document.createTextNode(\`${e}\`)
  stylesheet.innerHTML = ''
  stylesheet.appendChild(styles)
})()`}class Ni extends sn{jsFile;constructor(e,n){super(e,n),this.jsFile=e.fs.create(n.replace(".css",".js"));const r=zn(c=>Un(c,250));this.jsFile.addEventListener("url",c=>this.dispatchEvent(c)),be(()=>{r()&&this.jsFile.set(os(n,this.get()))})}generate(){return this.jsFile.generate()}get url(){return this.jsFile.generate()}}function Xe(t,e,n){const r=typeof t=="function"?t():t;return r?e(r):n?n():void 0}function Xt(t,e,n){return()=>Xe(t,e,n)}function Hn(t,e){const n=e.match(/\.\.\//g)?.length||0;return(n>0?[...t.split("/").slice(0,-(n+1)),...e.split("/").slice(n)]:[...t.split("/").slice(0,-1),...e.split("/").slice(1)]).join("/")}const qn=t=>t.startsWith("blob:")||t.startsWith("http:")||t.startsWith("https:"),Kn=t=>t.startsWith("."),ki=/(?:@?[^@\/]*\/)?([^@\/]+)@([^\s\/]+)/,fr=t=>{const e=t.match(ki);if(e){const n=e[1],r=e[2];return[n,r]}else return};class Ke extends sn{constructor(e,n){super(e,n),this.runtime=e,this.path=n,[this.directDependencies,this.#e]=ue([]),[this.#t,this.#s]=ue([]);let r=!1;const c=zn(a=>Un(a,250)),[s]=Be(()=>[this.get(),!r||c()],async([a])=>{r=!0;try{return Array.isArray(e.config.transform)?e.config.transform.reduce((o,f)=>f(o,n),a):e.config.transform(this.get(),this.path)}catch(o){console.error("error while transforming js",o)}});this.#r=fe(a=>Xe(s,o=>{const f=[],u=new Set(ce(this.directDependencies));try{return Gn(()=>e.config.transformModulePaths(o,v=>{if(qn(v))return v;const m=e.fs.alias[v];if(m||Kn(v)){const w=e.fs.resolve(m||Hn(n,v));if(!w)throw`Could not resolve relative module-path to its virtual file. Are you sure ${v} exists?`;return f.push(w),u.delete(w),w.moduleTransform()}else return e.config.importExternalTypes&&e.types.import.fromPackageName(v),`${e.config.cdn}/${v}`}))}catch(v){return console.warn("error",v),a}finally{this.#e(f);for(const v of u)this.#i(v)}},()=>a)),this.#n=fe(a=>Xe(this.generate.bind(this),o=>(this.dispatchEvent(new is(o)),o),()=>a))}directDependencies;#e;#n;#r;#t;#s;onDependencyRemoved(e){this.#s(n=>[...n,e]),Ae(()=>{this.#s(n=>{const r=n.findIndex(c=>c===e);return r!==-1?(n.splice(r,1),[...n]):n})})}#i(e){for(const n of this.#t())n(e)}resolveDependencies(){const e=new Set,n=[...this.directDependencies()];for(;n.length>0;){const r=n.pop();if(r&&!e.has(r)&&(e.add(r),r instanceof Ke))for(const c of r.directDependencies())e.has(c)||n.push(c)}return Array.from(e)}generate(){return Xe(this.#r.bind(this),e=>URL.createObjectURL(new Blob([e],{type:"application/javascript"})))}get url(){return this.#n()}}const as=(t,e)=>t.reduce((n,r,c)=>n+r+(e[c]||""),"");function cs(t,...e){const n=URL.createObjectURL(new Blob([as(t,e)],{type:"text/html"}));return Ae(()=>URL.revokeObjectURL(n)),n}function ls(t,...e){const n=URL.createObjectURL(new Blob([as(t,e)],{type:"text/javascript"}));return Ae(()=>URL.revokeObjectURL(n)),n}class Ri extends sn{#e;generate;constructor(e,n,r){super(e,n,r);const c=zn(s=>Un(s,250));this.generate=()=>{const s=this.get();if(!s)return;const a=Uint8Array.from(atob(s),o=>o.charCodeAt(0));return ls`
const wasmCode = new Uint8Array([${a.toString()}]);
export default (imports) =>  WebAssembly.instantiate(wasmCode, imports).then(result => result.instance);
`},this.#e=fe(s=>{if(!c())return s;const a=this.generate();return a?(this.dispatchEvent(new is(a)),a):s})}get url(){return this.#e()}}const Rn=Symbol("store-raw"),st=Symbol("store-node"),Re=Symbol("store-has"),us=Symbol("store-self");function fs(t){let e=t[Se];if(!e&&(Object.defineProperty(t,Se,{value:e=new Proxy(t,$i)}),!Array.isArray(t))){const n=Object.keys(t),r=Object.getOwnPropertyDescriptors(t);for(let c=0,s=n.length;c<s;c++){const a=n[c];r[a].get&&Object.defineProperty(t,a,{enumerable:r[a].enumerable,get:r[a].get.bind(e)})}}return e}function Jt(t){let e;return t!=null&&typeof t=="object"&&(t[Se]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function At(t,e=new Set){let n,r,c,s;if(n=t!=null&&t[Rn])return n;if(!Jt(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let a=0,o=t.length;a<o;a++)c=t[a],(r=At(c,e))!==c&&(t[a]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const a=Object.keys(t),o=Object.getOwnPropertyDescriptors(t);for(let f=0,u=a.length;f<u;f++)s=a[f],!o[s].get&&(c=t[s],(r=At(c,e))!==c&&(t[s]=r))}return t}function Yt(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function Tt(t,e,n){if(t[e])return t[e];const[r,c]=ue(n,{equals:!1,internal:!0});return r.$=c,t[e]=r}function Ii(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===Se||e===st||(delete n.value,delete n.writable,n.get=()=>t[Se][e]),n}function hs(t){at()&&Tt(Yt(t,st),us)()}function xi(t){return hs(t),Reflect.ownKeys(t)}const $i={get(t,e,n){if(e===Rn)return t;if(e===Se)return n;if(e===Cn)return hs(t),n;const r=Yt(t,st),c=r[e];let s=c?c():t[e];if(e===st||e===Re||e==="__proto__")return s;if(!c){const a=Object.getOwnPropertyDescriptor(t,e);at()&&(typeof s!="function"||t.hasOwnProperty(e))&&!(a&&a.get)&&(s=Tt(r,e,s)())}return Jt(s)?fs(s):s},has(t,e){return e===Rn||e===Se||e===Cn||e===st||e===Re||e==="__proto__"?!0:(at()&&Tt(Yt(t,Re),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:xi,getOwnPropertyDescriptor:Ii};function Qt(t,e,n,r=!1){if(!r&&t[e]===n)return;const c=t[e],s=t.length;n===void 0?(delete t[e],t[Re]&&t[Re][e]&&c!==void 0&&t[Re][e].$()):(t[e]=n,t[Re]&&t[Re][e]&&c===void 0&&t[Re][e].$());let a=Yt(t,st),o;if((o=Tt(a,e,c))&&o.$(()=>n),Array.isArray(t)&&t.length!==s){for(let f=t.length;f<s;f++)(o=a[f])&&o.$();(o=Tt(a,"length",s))&&o.$(t.length)}(o=a[us])&&o.$()}function ds(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const c=n[r];Qt(t,c,e[c])}}function Li(t,e){if(typeof e=="function"&&(e=e(t)),e=At(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){const c=e[n];t[n]!==c&&Qt(t,n,c)}Qt(t,"length",r)}else ds(t,e)}function mt(t,e,n=[]){let r,c=t;if(e.length>1){r=e.shift();const a=typeof r,o=Array.isArray(t);if(Array.isArray(r)){for(let f=0;f<r.length;f++)mt(t,[r[f]].concat(e),n);return}else if(o&&a==="function"){for(let f=0;f<t.length;f++)r(t[f],f)&&mt(t,[f].concat(e),n);return}else if(o&&a==="object"){const{from:f=0,to:u=t.length-1,by:v=1}=r;for(let m=f;m<=u;m+=v)mt(t,[m].concat(e),n);return}else if(e.length>1){mt(t[r],e,[r].concat(n));return}c=t[r],n=[r].concat(n)}let s=e[0];typeof s=="function"&&(s=s(c,n),s===c)||r===void 0&&s==null||(s=At(s),r===void 0||Jt(c)&&Jt(s)&&!Array.isArray(s)?ds(c,s):Qt(t,r,s))}function Ct(...[t,e]){const n=At(t||{}),r=Array.isArray(n),c=fs(n);function s(...a){Gn(()=>{r&&a.length===1?Li(n,a[0]):mt(n,a)})}return[c,s]}class Mi{#e;#n;constructor(){[this.#e,this.#n]=Ct({})}add(e,n){this.#n(e,n)}delete(e){this.#n(e,void 0)}get(e){return this.#e[e]}has(e){return e in this.#e}}class ji{constructor(e){this.iframe=e;const n=e.contentWindow;if(!n)throw"contentWindow is not defined!";this.contentWindow=n}contentWindow;injectModuleUrl(e){const n=this.contentWindow.document.createElement("script");return n.type="module",n.src=e,this.contentWindow.document.head.appendChild(n),()=>{this.contentWindow.document.head.removeChild(n),URL.revokeObjectURL(e)}}injectFile(e){return be(Vr(()=>e.url,()=>Ae(()=>this.dispose(e.path)))),e instanceof Ke&&e.onDependencyRemoved(n=>this.dispose(n.path)),Xe(e.generate(),n=>this.injectModuleUrl(n))}dispose(e){const n=this.contentWindow.repl?.dispose;if(typeof n=="function")return n(e)}reload(){return this.contentWindow.location.reload(),new Promise(e=>{const n=()=>{this.iframe.removeEventListener("load",n),e()};this.iframe.addEventListener("load",n)})}clearBody(){this.contentWindow.document.body.innerHTML=""}}class Di{async parse(e){e.startsWith(".")&&(e=new URL(e,window.location.href.toString()).href);const n=await fetch(`${e}/package.json`).then(s=>s.json()),r=typeof n.exports=="string"?n.exports:this.resolveExportPath(e,n.exports,"default","import")||n.module||n.main;if(!r)throw new Error("No valid module entry found for script.");const c=typeof n.exports!="string"&&this.resolveExportPath(e,n.exports,"default","types")||n.types||n.typings;return{typesUrl:c&&new URL(c,`${e}/`).href,scriptUrl:new URL(r,`${e}/`).href,packageName:n.name}}resolveExportPath(e,n,r,c){if(!n)return;function s(a,o){if(a)return typeof a=="string"?a:s(a[o],o)||s(a.default,o)}return s(n[r],r)||s(n[c],c)}}const Gi=`/**
 * Standard library that is included in each FileSystem, aliased to \`@repl/std\`
 */

const cleanups = new Map<string, () => void>()
/** Add function to clean-up side-effects after module is reload. */
export const dispose = (id: string, callback: () => void) => cleanups.set(id, callback)

// Extend the Window interface in the same file
declare global {
  interface Window {
    repl?: {
      dispose: (id?: string) => void
    }
  }
}

window.repl = {
  dispose(id?: string) {
    if (id) {
      cleanups.get(id)?.()
    } else {
      cleanups.forEach(cleanup => cleanup())
    }
  },
}
`;class Bi extends Event{constructor(e){super("file"),this.file=e}}class Fi extends ss{constructor(e){super(),this.runtime=e;const[n,r]=Ct({});this.#e=n,this.#n=r,[this.alias,this.setAlias]=Ct({"@repl/std":"@repl/std.ts"}),Ae(()=>this.#r.forEach(c=>c()))}alias;setAlias;#e;#n;#r=[];initialize(e){const n={...e,"@repl/std.ts":Gi};for(const[r,c]of Object.entries(n))this.create(r).set(c)}toJSON(){return{sources:Object.fromEntries(Object.entries(this.#e).map(([e,n])=>[e,n.toJSON()])),alias:this.alias}}addProject(e){Object.entries(e).forEach(([n,r])=>{this.create(n).set(r)})}create(e){let n=null;for(const c in this.runtime.extensions)e.endsWith(c)&&c.length>(n?.length||0)&&(n=c);if(n===null)throw"extension type is not supported";const r=new this.runtime.extensions[n](this.runtime,e);return this.#n(e,r),this.dispatchEvent(new Bi(r)),r}has(e){return e in this.#e}get(e){return this.#e[e]}getOrCreate(e){return this.runtime.fs.get(e)||this.runtime.fs.create(e)}resolve(e){return this.#e[e]||this.#e[`${e}/index.ts`]||this.#e[`${e}/index.tsx`]||this.#e[`${e}/index.d.ts`]||this.#e[`${e}/index.js`]||this.#e[`${e}/index.jsx`]||this.#e[`${e}.ts`]||this.#e[`${e}.tsx`]||this.#e[`${e}.d.ts`]||this.#e[`${e}.js`]||this.#e[`${e}.jsx`]}all(){return Object.fromEntries(Object.entries(this.#e).filter(([e])=>e.split("/")[0]!=="node_modules"))}remove(e){this.#n({[e]:void 0})}}class Wi{constructor(e){this.runtime=e}packageJsonParser=new Di;async fromPackageJson(e){const n=s=>qn(s)?new URL(s).pathname:s,[r]=Be(()=>this.packageJsonParser.parse(e)),[c]=Be(r,async({scriptUrl:s,packageName:a})=>{const o={},f=async u=>{const v=n(u),m=await fetch(u).then(_=>{if(_.status!==200)throw new Error(`Error while loading ${u}: ${_.statusText}`);return _.text()}),w=[],I=await this.runtime.config.transformModulePaths(m,_=>(Kn(_)&&w.push(f(Hn(u,_))),_));if(!I)throw new Error(`Transform returned undefined for ${v}`);await Promise.all(w),o[v]=I};return await f(s),this.runtime.fs.setAlias(a,`node_modules${n(s)}`),o});be(Xt(r,({typesUrl:s,packageName:a})=>{s&&this.runtime.types.import.fromUrl(s,a)})),be(Xt(c,s=>Object.entries(s).forEach(([a,o])=>{this.runtime.fs.create(`node_modules${a}`).set(o)})))}}function ps(t,...e){return[`%c[REPL]%c ${t}`,"color: red","",...e]}class Ui{constructor(e,n){this.runtime=e,this.typeRegistry=n}cachedUrls=new Set;cachedPackageNames=new Set;initialize(e){e.sources&&Object.keys(e.sources).forEach(n=>{this.cachedUrls.add(n)}),e.alias&&Object.entries(e.alias).forEach(([n])=>{this.cachedPackageNames.add(n)})}async fromUrl(e,n){const r=this.getVirtualPath(e);if(n&&this.cachedPackageNames.has(n)||this.cachedUrls.has(r))return;this.cachedUrls.add(r),n&&this.cachedPackageNames.add(n);const c=async s=>{const a=this.getVirtualPath(s);if(this.typeRegistry.has(a))return;this.typeRegistry.set(a,null);const o=await fetch(s).then(v=>(v.status,v.text())),f=[],u=await this.runtime.config.transformModulePaths(o,v=>{if(Kn(v)){if(f.push(c(Hn(s,v))),v.endsWith(".js"))return v=v.replace(".js",".d.ts"),v}else if(qn(v)){let m=this.getVirtualPath(v);return Xe(fr(m),([w,I])=>{for(const _ of Object.keys(this.typeRegistry.sources))if(Xe(fr(_),([C,p])=>C===w?(I!==p&&(console.warn(`Conflicting version numbers: Overwriting version number of ${w} from ${I} to ${p}.
Accessed ${v} from ${s}.`),v=v.replace(I,p),m=m.replace(I,p)),!0):!1))break}),f.push(this.fromUrl(v)),this.typeRegistry.aliasPath(m,`file:///node_modules/${m}`),m}else f.push(this.fromPackageName(v));return v});if(!u)throw new Error(`Transform returned undefined for ${a}`);await Promise.all(f),this.typeRegistry.set(a,u)};await c(e),n&&(this.cachedPackageNames.add(n),this.typeRegistry.aliasPath(n,`file:///node_modules/${r}`))}async fromPackageName(e){if(this.cachedPackageNames.has(e))return;this.cachedPackageNames.add(e);const n=await fetch(`${this.runtime.config.cdn}/${e}`).then(c=>c.headers.get("X-TypeScript-Types")).catch(c=>{console.info(c)});if(!n){console.error(...ps("no type url was found for package",e));return}const r=this.getVirtualPath(n);await this.fromUrl(n),this.typeRegistry.aliasPath(e,`file:///node_modules/${r}`)}getVirtualPath(e){return e.replace(`${this.runtime.config.cdn}/`,"").replace("http://","").split("/").slice(1).join("/")}}class zi{constructor(e){this.runtime=e,[this.sources,this.setSources]=Ct({}),[this.alias,this.setAlias]=Ct({}),this.import=new Ui(e,this)}sources;setSources;alias;setAlias;import;toJSON(){return{alias:this.alias,sources:this.sources}}initialize(e){Gn(()=>{e.sources&&this.setSources(e.sources),e.alias&&(this.setAlias(e.alias),Object.entries(e.alias).forEach(([n,r])=>{this.aliasPath(n,r[0])}))}),this.import.initialize(e)}aliasPath(e,n){this.setAlias(e,[n])}set(e,n){this.setSources(e,n)}has(e){return e in this.sources}}class Hi{config;fs;frames;types;import;get extensions(){return{css:Ni,js:Ke,jsx:Ke,ts:Ke,tsx:Ke,wasm:Ri,...this.config.extensions}}initialized=!1;constructor(e){this.config=ct({cdn:"https://esm.sh"},e),this.fs=new Fi(this),this.frames=new Mi,this.import=new Wi(this),this.types=new zi(this)}toJSON(){return{files:this.fs.toJSON(),types:this.types.toJSON()}}initialize(){return this.config.files&&this.fs.initialize(this.config.files),this.initialized=!0,this}download(e="repl.config.json"){const n=this.toJSON(),r=new Blob([JSON.stringify(n)],{type:"text/json"}),c=document.createElement("a");c.download=e,c.href=window.URL.createObjectURL(r),c.dataset.downloadurl=["text/json",c.download,c.href].join(":");const s=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});c.dispatchEvent(s),c.remove()}getFile(e,n=!0){return this.fs.get(e)||ce(()=>n?this.fs.create(e):void 0)}setFile(e,n,r){return this.getFile(e,r)?.set(n)}}function qi(t){const[e,n]=ue(!0);return be(()=>e()&&t()),{stop:()=>n(!1),resume:()=>n(!0)}}function Ki(t){return class extends t{#e=new Set;createEffect(n){this.#i(n)}stopEffects(){this.#o()}#n(n){let r=null;r=qi(()=>{r&&this.#e.add(r),be(n),Ae(()=>this.#e.delete(r))}),this.#e.add(r)}#r(){for(const n of this.#e)n.stop()}#t=null;#s=null;#i(n){if(!this.#t)Je(r=>{this.#t=Ie(),this.#s=r,this.#i(n)});else{let r=Ie();for(;r&&r!==this.#t;)r=r?.owner??null;if(r===this.#t)return be(n);Jr(this.#t,()=>be(n))}}#o(){this.#s?.()}}}function Vi(t,e){let n=t,r;for(;n;){if(r=Object.getOwnPropertyDescriptor(n,e),r)return r.owner=n,r;n=n.__proto__}}const jt=new WeakMap;function Xi(t,...e){const n=e.length?e:Object.keys(t).concat(Object.getOwnPropertySymbols(t));for(const r of n)gs(t,r);return t}let hr=!1;function Ji(){if(hr)throw new Error('Export "createSignalAccessor" is internal to classy-solid only.');return hr=!0,gs}const Wt=new WeakMap;function Yi(t,e){return!!Wt.get(t)?.has(e)}function dr(t,e){Wt.has(t)||Wt.set(t,new Set),Wt.get(t).add(e)}const pr=new WeakSet;function gs(t,e,n=ce(()=>t[e]),r=!1){if(!r&&jt.get(t)?.has(e)||t[Se])return;let s=Vi(t,e),a,o;if(s){if(a=s.get,o=s.set,a&&pr.has(a))return;if(a||o){if(!a||!o){console.warn(`The \`@signal\` decorator was used on an accessor named "${e.toString()}" which had a getter or a setter, but not both. Reactivity on accessors works only when accessors have both get and set. In this case the decorator does not do anything.`);return}delete s.get,delete s.set}else{if(n=s.value,!s.writable){console.warn(`The \`@signal\` decorator was used on a property named "${e.toString()}" that is not writable. Reactivity is not enabled for non-writable properties.`);return}delete s.value,delete s.writable}}const f=ue(n,{equals:!1});s={configurable:!0,enumerable:!0,...s,get:a?function(){return f[0](),a.call(this)}:function(){return f[0]()},set:o?function(u){o.call(this,u),dr(this,e),typeof u=="function"?f[1](()=>u):f[1](u)}:function(u){dr(this,e),typeof u=="function"?f[1](()=>u):f[1](u)}},pr.add(s.get),Object.defineProperty(t,e,s),jt.has(t)||jt.set(t,new Set),jt.get(t).add(e)}let on=new Map,vt=null;function Qi(){if(vt)throw new Error("Attempted use of classy-solid internals.");return vt=Symbol(),vt}function Zi(t){if(t!==vt)throw new Error("Attempted use of classy-solid internals.");return on}function eo(t){if(t!==vt)throw new Error("Attempted use of classy-solid internals.");on=new Map}function to(t){return"private"in t}function ft(t,e){const{kind:n,name:r}=e,c=on;if(to(e)){if(e.private)throw new Error("@signal is not supported on private fields yet.");if(e.static)throw new Error("@signal is not supported on static fields yet.")}if(n==="field")return c.set(r,{initialValue:void 0}),function(s){return c.get(r).initialValue=s,s};if(n==="getter"||n==="setter")c.set(r,{initialValue:void 0});else throw new Error("The @signal decorator is only for use on fields, getters, and setters. Auto accessor support is coming next if there is demand for it.");no(c)}let yn=!1;function no(t){yn||(yn=!0,queueMicrotask(()=>{if(yn=!1,t===on)throw new Error(`Stray @signal-decorated properties detected: ${Array.from(t.keys()).join(", ")}. Did you forget to use the \`@reactive\` decorator on a class that has properties decorated with \`@signal\`?`)}))}const gr=Qi(),ro=Ji(),mr=Object.prototype.hasOwnProperty;function so(t,e){if(typeof t!="function"||e&&e.kind!=="class")throw new TypeError("The @reactive decorator is only for use on classes.");const n=t,r=Zi(gr);eo(gr);class c extends n{constructor(...a){let o;at()?ce(()=>o=Reflect.construct(n,a,new.target)):(super(...a),o=this);for(const[f,{initialValue:u}]of r){if(!(mr.call(o,f)||mr.call(n.prototype,f)))throw new Error(`Property "${f.toString()}" not found on instance of class decorated with \`@reactive\`. Did you forget to use the \`@reactive\` decorator on one of your classes that has a "${f.toString()}" property decorated with \`@signal\`?`);ro(o,f,u,!0)}return o}}return c}var yt;let ht;const io=globalThis.HTMLElement??class{constructor(){throw new Error("@lume/element needs a DOM to operate with! If this code is running during server-side rendering, it means your app is trying to instantiate elements when it shouldn't be, and should be refactored to avoid doing that when no DOM is present.")}};let ke=class extends Ki(io){static elementName="";static defineElement(e,n=customElements){if(e){if(n.get(e))return console.warn(`defineElement(): An element class was already defined for tag name ${e}.`),this;{const r=class extends this{};return r.elementName=e,n.define(e,r),r}}else return e=this.elementName,n.get(e)?(console.warn(`defineElement(): An element class was already defined for tag name ${e}.`),this):(n.define(e,this),this)}static observedAttributes;#e(){const e=Object.keys(this);this._preUpgradeValues=new Map;for(const n of e){const r=Object.getOwnPropertyDescriptor(this,n);"value"in r&&(delete this[n],this._preUpgradeValues.set(n,r.value),queueMicrotask(()=>{if(Yi(this,n))return;n in this.__proto__&&(this[n]=r.value)}))}}#n=this.#e();hasShadow=!0;__root=null;get root(){return this.hasShadow?this.__root?this.__root:this.shadowRoot?this.__root=this.shadowRoot:this.__root=this.attachShadow({mode:"open"}):this}set root(e){if(!this.hasShadow)throw new Error("Can not set root, element.hasShadow is false.");if(this.__root||this.shadowRoot)throw new Error("Element root can only be set once if there is no ShadowRoot.");this.__root=e}get styleRoot(){return this.root}attachShadow(e){return this.__root&&console.warn("Element already has a root defined."),this.__root=super.attachShadow(e)}#r;connectedCallback(){const e=this.template;e&&(this.#r=Fn(typeof e=="function"?e.bind(this):()=>e,this.root)),this.#a()}disconnectedCallback(){this.stopEffects(),this.#r?.(),this.#c()}static __styleRootNodeRefCountPerTagName=new WeakMap;#t=null;#s=e=>`${e} {
		display: block;
	}`;static __elementId=0;#i=yt.__elementId++;#o=null;#a(){ht=this.constructor;const e=typeof ht.css=="function"?ht.css=ht.css():ht.css||"",n=typeof this.css=="function"?this.css():this.css||"";if(this.hasShadow){const r=":host",c=document.createElement("style");c.innerHTML=`
				${this.#s(r)}
				${e}
				${n}
			`,this.styleRoot.appendChild(c)}else{const r=this.getRootNode();this.#t=r===document?document.head:r;let c=yt.__styleRootNodeRefCountPerTagName.get(this.#t);c||yt.__styleRootNodeRefCountPerTagName.set(this.#t,c={});const s=c[this.tagName]||0;if(c[this.tagName]=s+1,s===0){const a=this.tagName.toLowerCase(),o=document.createElement("style");o.innerHTML=`
					${this.#s(a)}
					${e&&e.replaceAll(":host",a)}
				`,o.id=this.tagName.toLowerCase(),this.#t.appendChild(o)}if(n){const a=this.tagName.toLowerCase()+"-"+this.#i;this.setAttribute(a,"");const o=this.#o=document.createElement("style");o.id=a,o.innerHTML=n.replaceAll(":host",`[${a}]`);const f=this.getRootNode();this.#t=f===document?document.head:f,this.#t.appendChild(o)}}}#c(){do{if(this.hasShadow)break;const e=yt.__styleRootNodeRefCountPerTagName.get(this.#t);if(!e)break;let n=e[this.tagName];if(n===void 0)break;e[this.tagName]=--n,n===0&&(delete e[this.tagName],this.#t.querySelector("#"+this.tagName)?.remove())}while(!1);this.#o&&this.#o.remove()}adoptedCallback(){}};yt=ke;Symbol.metadata??=Symbol.for("Symbol.metadata");function oo(t,...e){let n="";for(let r=0;r<e.length;r++)n+=t[r]+String(e[r]);return n+t[t.length-1]}function ao(t){return t.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}function co(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0,enumerable:!0})}const In=[];function Et(t,e){if(arguments.length===2)return yr(t,e,void 0);const n=t;return(r,c)=>yr(r,c,n)}function yr(t,e,n={}){const{kind:r,name:c,private:s,static:a,metadata:o}=e,u=!(Object.hasOwn(o,"noSignal")&&o.noSignal||void 0)?.has(c);if(typeof c=="symbol")throw new Error("@attribute is not supported on symbol fields yet.");if(s)throw new Error("@attribute is not supported on private fields yet.");if(a)throw new Error("@attribute is not supported on static fields.");if(In.push(v=>ms(v,c,n)),r==="field"){const v=u?ft(t,e):m=>m;return function(m){return m=v(m),"default"in n||(n.default=m),m}}else if(r==="getter"||r==="setter")u&&ft(t,e);else throw new Error("@attribute is only for use on fields, getters, and setters. Auto accessor support is coming next if there is demand for it.")}function ms(t,e,n){if(!t.observedAttributes||!t.hasOwnProperty("observedAttributes")){const c=t.__proto__.observedAttributes;if(c&&!Array.isArray(c))throw new TypeError("observedAttributes is in the wrong format. Did you forget to decorate your custom element class with the `@element` decorator?");co(t,"observedAttributes",[...c||[]])}if(!Array.isArray(t.observedAttributes))throw new TypeError("observedAttributes is in the wrong format. Maybe you forgot to decorate your custom element class with the `@element` decorator.");const r=ao(e);t.observedAttributes.includes(r)||t.observedAttributes.push(r),lo(t.prototype,r,e,n)}function lo(t,e,n,r){if(!t.__hasAttributeChangedCallback){t.__hasAttributeChangedCallback=!0;const c=t.attributeChangedCallback;t.attributeChangedCallback=function(s,a,o){c?c.call(this,s,a,o):t.__proto__?.attributeChangedCallback?.call(this,s,a,o);const f=this.__attributesToProps&&this.__attributesToProps[s];if(f){const u=f.attributeHandler;this[f.name]=u?o===null?"default"in u?u.default:null:u.from?u.from(o):o:o}}}t.hasOwnProperty("__attributesToProps")||Object.defineProperty(t,"__attributesToProps",{value:{__proto__:t.__attributesToProps||Object.prototype}}),t.__attributesToProps[e]={name:n,attributeHandler:r}}const uo=t=>t;Et.string=()=>({from:uo});function Zt(t,e){return Et(Et.string())(t,e)}const fo=t=>+t;Et.number=()=>({from:fo});const ho=t=>t!=="false";Et.boolean=()=>({from:ho});function an(t,e){let n="",r=!!(e??!0);return typeof t=="string"?(n=t,(a,o)=>_r(a,o,n,r)):(r=!1,_r(t,e,n,r))}function _r(t,e,n,r){if(typeof t!="function"||e&&e.kind!=="class")throw new Error("@element is only for use on classes.");const{metadata:c={}}=e??{},s=Object.hasOwn(c,"noSignal")&&c.noSignal||void 0;let a=t;const o=a.observedAttributes;if(a.hasOwnProperty("elementName")?n=a.elementName||n:a.elementName=n,!Array.isArray(o)){if(o&&typeof o=="object"){a.observedAttributes=void 0;for(const m in o)ms(a,m,o[m])}}a=so(a,e);class f extends a{constructor(...w){super(...w),ce(()=>{po(this);const I=[],_=f.prototype.__attributesToProps??{};for(const E of Object.values(_)){const C=E.name;!s?.has(C)&&I.push(C);const S=E.attributeHandler;S&&!("default"in S)&&(S.default=this[C])}I.length&&Xi(this,...I)})}}const u=[...In];In.length=0;function v(){for(const m of u)m(f);n&&r&&globalThis.window?.customElements?.define(n,f)}return e?.addInitializer?e.addInitializer(v):v(),f}function po(t){if(t instanceof ke)for(const[e,n]of t._preUpgradeValues){if(!(e in t))continue;t._preUpgradeValues.delete(e);const r=Object.getOwnPropertyDescriptor(t,e);r&&"value"in r&&delete t[e],t[e]=n}}const go=oo;var mo=Object.defineProperty,yo=(t,e,n)=>e in t?mo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_o=(t,e,n)=>(yo(t,typeof e!="symbol"?e+"":e,n),n);let ys;var bo=$e("<slot>");function _s(t,e,n,r,c,s){function a(_,E,C){return function(p,S){return C&&C(p),_[E].call(p,S)}}function o(_,E){for(var C=0;C<_.length;C++)_[C].call(E);return E}function f(_,E,C,p){if(typeof _!="function"&&(p||_!==void 0))throw new TypeError(E+" must "+(C||"be")+" a function"+(p?"":" or undefined"));return _}function u(_,E,C,p,S,A,P,y,i,g,d,l,h){function b(j){if(!h(j))throw new TypeError("Attempted to access private element on non-instance")}var T,N=E[0],k=E[3],x=!y;if(!x){C||Array.isArray(N)||(N=[N]);var O={},F=[],G=S===3?"get":S===4||l?"set":"value";g?(d||l?O={get:br(function(){return k(this)},p,"get"),set:function(j){E[4](this,j)}}:O[G]=k,d||br(O[G],p,S===2?"":G)):d||(O=Object.getOwnPropertyDescriptor(_,p))}for(var M=_,X=N.length-1;X>=0;X-=C?2:1){var ne=N[X],ee=C?N[X-1]:void 0,V={},z={kind:["field","accessor","method","getter","setter","class"][S],name:p,metadata:A,addInitializer:function(j,U){if(j.v)throw Error("attempted to call addInitializer after decoration was finished");f(U,"An initializer","be",!0),P.push(U)}.bind(null,V)};try{if(x)(T=f(ne.call(ee,M,z),"class decorators","return"))&&(M=T);else{var q,te;z.static=i,z.private=g,g?S===2?q=function(j){return b(j),O.value}:(S<4&&(q=a(O,"get",b)),S!==3&&(te=a(O,"set",b))):(q=function(j){return j[p]},(S<2||S===4)&&(te=function(j,U){j[p]=U}));var L=z.access={has:g?h.bind():function(j){return p in j}};if(q&&(L.get=q),te&&(L.set=te),M=ne.call(ee,l?{get:O.get,set:O.set}:O[G],z),l){if(typeof M=="object"&&M)(T=f(M.get,"accessor.get"))&&(O.get=T),(T=f(M.set,"accessor.set"))&&(O.set=T),(T=f(M.init,"accessor.init"))&&F.push(T);else if(M!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(M,(d?"field":"method")+" decorators","return")&&(d?F.push(M):O[G]=M)}}finally{V.v=!0}}return(d||l)&&y.push(function(j,U){for(var Z=F.length-1;Z>=0;Z--)U=F[Z].call(j,U);return U}),d||x||(g?l?y.push(a(O,"get"),a(O,"set")):y.push(S===2?O[G]:a.call.bind(O[G])):Object.defineProperty(_,p,O)),M}function v(_,E){return Object.defineProperty(_,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:E})}if(arguments.length>=6)var m=s[Symbol.metadata||Symbol.for("Symbol.metadata")];var w=Object.create(m??null),I=function(_,E,C,p){var S,A,P=[],y=function(G){return So(G)===_},i=new Map;function g(G){G&&P.push(o.bind(null,G))}for(var d=0;d<E.length;d++){var l=E[d];if(Array.isArray(l)){var h=l[1],b=l[2],T=l.length>3,N=16&h,k=!!(8&h),x=(h&=7)==0,O=b+"/"+k;if(!x&&!T){var F=i.get(O);if(F===!0||F===3&&h!==4||F===4&&h!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+b);i.set(O,!(h>2)||h)}u(k?_:_.prototype,l,N,T?"#"+b:vo(b),h,p,k?A=A||[]:S=S||[],P,k,T,x,h===1,k&&T?y:C)}}return g(S),g(A),P}(t,e,c,w);return n.length||v(t,w),{e:I,get c(){var _=[];return n.length&&[v(u(t,[n],r,t.name,5,w,_),w),o.bind(null,_,t)]}}}function vo(t){var e=wo(t,"string");return typeof e=="symbol"?e:e+""}function wo(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function br(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function So(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}const Vn=class extends ke{value=ys(this,void 0);template=()=>(()=>{var e=bo();return e._$owner=Ie(),e})()};[ys]=_s(Vn,[[ft,0,"value"]],[],0,void 0,ke).e;_o(Vn,"css",go`
    :host {
      display: contents;
    }
  `);let vr=Vn;function Ao(t,e){let n,r;r=[an(t)];let c;return[c,n]=_s(class extends vr{},[],r,0,void 0,vr).c,n(),function(o){let f=o.parentElement;for(;f;){if(f instanceof c)return()=>f.value;f=f.parentElement}if(e)return e;throw`Should use ${o.tagName} inside ${t} tag`}}const[To,xc]=Je(()=>{const[t,e]=ue();return[t,e]}),Xn=Ao("repl-runtime",To);function bs(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var c=t.length;for(e=0;e<c;e++)t[e]&&(n=bs(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Co(){for(var t,e,n=0,r="",c=arguments.length;n<c;n++)(t=arguments[n])&&(e=bs(t))&&(r&&(r+=" "),r+=e);return r}const Eo="_repl_ogjuc_1",Po="_resizing_ogjuc_17",Oo="_editor_ogjuc_7",No="_frame_ogjuc_25",ko={repl:Eo,"editor-container":"_editor-container_ogjuc_7",resizing:Po,editor:Oo,frame:No};var wr=Object.freeze,Ro=Object.defineProperty,Io=(t,e)=>wr(Ro(t,"raw",{value:wr(e||t.slice())})),Sr,xo=$e("<iframe>");function Jn(t){const e=Lo();return we(Jn.Standalone,ct({runtime:e},t))}Jn.Standalone=function(t){const e=ct({name:"default"},t),[,n]=Nn(e,["class"]),r=cs(Sr||(Sr=Io([`<!doctype html>
    <html lang="en">
      <meta charset="utf-8" />
      <title>DevTools</title>
      <style>
        @media (prefers-color-scheme: dark) {
          body {
            background-color: rgb(41 42 45);
          }
        }
      </style>
      <meta name="referrer" content="no-referrer" />
      <script src="https://unpkg.com/@ungap/custom-elements/es.js"><\/script>
      <script
        type="module"
        src="https://cdn.jsdelivr.net/npm/chii@1.8.0/public/front_end/entrypoints/chii_app/chii_app.js"
      ><\/script>
      <body class="undocked" id="-blink-dev-tools"></body>
    </html>`]))),c=ls`
    import('https://cdn.jsdelivr.net/npm/chobitsu').then(shobitsu => {
      const sendToDevtools = (message) => {
        window.parent.postMessage(JSON.stringify(message), '*');
      };
      let id = 0;
      const sendToChobitsu = (message) => {
        message.id = 'tmp' + ++id;
        chobitsu.sendRawMessage(JSON.stringify(message));
      };
      chobitsu.setOnMessage((message) => {
        if (message.includes('"id":"tmp')) return;
        window.parent.postMessage(message, '*');
      });
      window.addEventListener('message', ({ data }) => {
        try {
          const { event, value } = data;
          if (event === 'DEV') {
            chobitsu.sendRawMessage(data.data);
          } else if (event === 'LOADED') {
            sendToDevtools({
              method: 'Page.frameNavigated',
              params: {
                frame: {
                  id: '1',
                  mimeType: 'text/html',
                  securityOrigin: location.origin,
                  url: location.href,
                },
                type: 'Navigation',
              },
            });
            sendToChobitsu({ method: 'Network.enable' });
            sendToDevtools({ method: 'Runtime.executionContextsCleared' });
            sendToChobitsu({ method: 'Runtime.enable' });
            sendToChobitsu({ method: 'Debugger.enable' });
            sendToChobitsu({ method: 'DOMStorage.enable' });
            sendToChobitsu({ method: 'DOM.enable' });
            sendToChobitsu({ method: 'CSS.enable' });
            sendToChobitsu({ method: 'Overlay.enable' });
            sendToDevtools({ method: 'DOM.documentUpdated' });
          }
        } catch (e) {
          console.error(e);
        }
      });
    })`,s=(()=>{var o=xo();return rs(o,ct({get src(){return`${r}#?embedded=${encodeURIComponent(location.origin)}`},get class(){return Co(e.class,ko.frame)}},n),!1,!1),o})(),[a]=Be(()=>t.runtime.frames.get(e.name),o=>o.contentWindow.document.readyState==="interactive"?o:new Promise(f=>{const u=()=>{f(o),o.contentWindow.removeEventListener("DOMContentLoaded",u)};o.contentWindow.addEventListener("DOMContentLoaded",u)}));return be(Xt(a,o=>{const f=u=>{u.source===o.contentWindow&&s.contentWindow.postMessage(u.data,"*"),u.source===s.contentWindow&&o.contentWindow.postMessage({event:"DEV",data:u.data},"*")};window.addEventListener("message",f),Ae(()=>window.removeEventListener("message",f))})),be(Xt(a,o=>o.injectModuleUrl(c))),s};const $o=Yr(),Lo=()=>{const t=Qr($o);if(!t)throw"useRuntime should be used inside <Repl/>";return t};let vs,ws,Ss;function Mo(t,e,n,r,c,s){function a(_,E,C){return function(p,S){return C&&C(p),_[E].call(p,S)}}function o(_,E){for(var C=0;C<_.length;C++)_[C].call(E);return E}function f(_,E,C,p){if(typeof _!="function"&&(p||_!==void 0))throw new TypeError(E+" must "+(C||"be")+" a function"+(p?"":" or undefined"));return _}function u(_,E,C,p,S,A,P,y,i,g,d,l,h){function b(j){if(!h(j))throw new TypeError("Attempted to access private element on non-instance")}var T,N=E[0],k=E[3],x=!y;if(!x){C||Array.isArray(N)||(N=[N]);var O={},F=[],G=S===3?"get":S===4||l?"set":"value";g?(d||l?O={get:Ar(function(){return k(this)},p,"get"),set:function(j){E[4](this,j)}}:O[G]=k,d||Ar(O[G],p,S===2?"":G)):d||(O=Object.getOwnPropertyDescriptor(_,p))}for(var M=_,X=N.length-1;X>=0;X-=C?2:1){var ne=N[X],ee=C?N[X-1]:void 0,V={},z={kind:["field","accessor","method","getter","setter","class"][S],name:p,metadata:A,addInitializer:function(j,U){if(j.v)throw Error("attempted to call addInitializer after decoration was finished");f(U,"An initializer","be",!0),P.push(U)}.bind(null,V)};try{if(x)(T=f(ne.call(ee,M,z),"class decorators","return"))&&(M=T);else{var q,te;z.static=i,z.private=g,g?S===2?q=function(j){return b(j),O.value}:(S<4&&(q=a(O,"get",b)),S!==3&&(te=a(O,"set",b))):(q=function(j){return j[p]},(S<2||S===4)&&(te=function(j,U){j[p]=U}));var L=z.access={has:g?h.bind():function(j){return p in j}};if(q&&(L.get=q),te&&(L.set=te),M=ne.call(ee,l?{get:O.get,set:O.set}:O[G],z),l){if(typeof M=="object"&&M)(T=f(M.get,"accessor.get"))&&(O.get=T),(T=f(M.set,"accessor.set"))&&(O.set=T),(T=f(M.init,"accessor.init"))&&F.push(T);else if(M!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(M,(d?"field":"method")+" decorators","return")&&(d?F.push(M):O[G]=M)}}finally{V.v=!0}}return(d||l)&&y.push(function(j,U){for(var Z=F.length-1;Z>=0;Z--)U=F[Z].call(j,U);return U}),d||x||(g?l?y.push(a(O,"get"),a(O,"set")):y.push(S===2?O[G]:a.call.bind(O[G])):Object.defineProperty(_,p,O)),M}function v(_,E){return Object.defineProperty(_,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:E})}if(arguments.length>=6)var m=s[Symbol.metadata||Symbol.for("Symbol.metadata")];var w=Object.create(m??null),I=function(_,E,C,p){var S,A,P=[],y=function(G){return Go(G)===_},i=new Map;function g(G){G&&P.push(o.bind(null,G))}for(var d=0;d<E.length;d++){var l=E[d];if(Array.isArray(l)){var h=l[1],b=l[2],T=l.length>3,N=16&h,k=!!(8&h),x=(h&=7)==0,O=b+"/"+k;if(!x&&!T){var F=i.get(O);if(F===!0||F===3&&h!==4||F===4&&h!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+b);i.set(O,!(h>2)||h)}u(k?_:_.prototype,l,N,T?"#"+b:jo(b),h,p,k?A=A||[]:S=S||[],P,k,T,x,h===1,k&&T?y:C)}}return g(S),g(A),P}(t,e,c,w);return n.length||v(t,w),{e:I,get c(){var _=[];return n.length&&[v(u(t,[n],r,t.name,5,w,_),w),o.bind(null,_,t)]}}}function jo(t){var e=Do(t,"string");return typeof e=="symbol"?e:e+""}function Do(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ar(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function Go(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}ws=[an("repl-devtools")];let As;const Bo=class extends ke{name=Ss(this,"default");template=()=>{const e=this,n=Xn(this);return we(St,{get when(){return n()},children:r=>we(Jn.Standalone,{get name(){return e.name},get runtime(){return r()}})})}};({e:[Ss],c:[As,vs]}=Mo(Bo,[[Zt,0,"name"]],ws,0,void 0,ke));vs();function Fo(){customElements.get("repl-frame")||customElements.define("repl-frame",As)}var _n;let Tr,Ts,Cr,Er,Pr;var Wo=$e("<iframe class=iframe>");function Uo(t,e,n,r,c,s){function a(_,E,C){return function(p,S){return C&&C(p),_[E].call(p,S)}}function o(_,E){for(var C=0;C<_.length;C++)_[C].call(E);return E}function f(_,E,C,p){if(typeof _!="function"&&(p||_!==void 0))throw new TypeError(E+" must "+(C||"be")+" a function"+(p?"":" or undefined"));return _}function u(_,E,C,p,S,A,P,y,i,g,d,l,h){function b(j){if(!h(j))throw new TypeError("Attempted to access private element on non-instance")}var T,N=E[0],k=E[3],x=!y;if(!x){C||Array.isArray(N)||(N=[N]);var O={},F=[],G=S===3?"get":S===4||l?"set":"value";g?(d||l?O={get:Or(function(){return k(this)},p,"get"),set:function(j){E[4](this,j)}}:O[G]=k,d||Or(O[G],p,S===2?"":G)):d||(O=Object.getOwnPropertyDescriptor(_,p))}for(var M=_,X=N.length-1;X>=0;X-=C?2:1){var ne=N[X],ee=C?N[X-1]:void 0,V={},z={kind:["field","accessor","method","getter","setter","class"][S],name:p,metadata:A,addInitializer:function(j,U){if(j.v)throw Error("attempted to call addInitializer after decoration was finished");f(U,"An initializer","be",!0),P.push(U)}.bind(null,V)};try{if(x)(T=f(ne.call(ee,M,z),"class decorators","return"))&&(M=T);else{var q,te;z.static=i,z.private=g,g?S===2?q=function(j){return b(j),O.value}:(S<4&&(q=a(O,"get",b)),S!==3&&(te=a(O,"set",b))):(q=function(j){return j[p]},(S<2||S===4)&&(te=function(j,U){j[p]=U}));var L=z.access={has:g?h.bind():function(j){return p in j}};if(q&&(L.get=q),te&&(L.set=te),M=ne.call(ee,l?{get:O.get,set:O.set}:O[G],z),l){if(typeof M=="object"&&M)(T=f(M.get,"accessor.get"))&&(O.get=T),(T=f(M.set,"accessor.set"))&&(O.set=T),(T=f(M.init,"accessor.init"))&&F.push(T);else if(M!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(M,(d?"field":"method")+" decorators","return")&&(d?F.push(M):O[G]=M)}}finally{V.v=!0}}return(d||l)&&y.push(function(j,U){for(var Z=F.length-1;Z>=0;Z--)U=F[Z].call(j,U);return U}),d||x||(g?l?y.push(a(O,"get"),a(O,"set")):y.push(S===2?O[G]:a.call.bind(O[G])):Object.defineProperty(_,p,O)),M}function v(_,E){return Object.defineProperty(_,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:E})}if(arguments.length>=6)var m=s[Symbol.metadata||Symbol.for("Symbol.metadata")];var w=Object.create(m??null),I=function(_,E,C,p){var S,A,P=[],y=function(G){return qo(G)===_},i=new Map;function g(G){G&&P.push(o.bind(null,G))}for(var d=0;d<E.length;d++){var l=E[d];if(Array.isArray(l)){var h=l[1],b=l[2],T=l.length>3,N=16&h,k=!!(8&h),x=(h&=7)==0,O=b+"/"+k;if(!x&&!T){var F=i.get(O);if(F===!0||F===3&&h!==4||F===4&&h!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+b);i.set(O,!(h>2)||h)}u(k?_:_.prototype,l,N,T?"#"+b:zo(b),h,p,k?A=A||[]:S=S||[],P,k,T,x,h===1,k&&T?y:C)}}return g(S),g(A),P}(t,e,c,w);return n.length||v(t,w),{e:I,get c(){var _=[];return n.length&&[v(u(t,[n],r,t.name,5,w,_),w),o.bind(null,_,t)]}}}function zo(t){var e=Ho(t,"string");return typeof e=="symbol"?e:e+""}function Ho(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Or(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function qo(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}function Ko(t){return t}class Vo extends Event{constructor(e){super("ready"),this.frame=e}}Ts=[an("repl-frame")];let xn;new class extends Ko{static[(_n=class extends ke{name=Cr(this,"default");runtime=Er(this,null);frame=Pr(this,null);template=()=>{const t=this,e=Xn(this),n=()=>this.runtime===null?e():this.runtime;return(()=>{var r=Wo();return bt(c=>{Xr(()=>{if(!c.contentWindow){console.error(...ps("contentWindow is not defined on iframe:",c));return}const s=()=>{t.frame=new ji(c),c.contentWindow?.removeEventListener("DOMContentLoaded",s),t.dispatchEvent(new Vo(t.frame))};c.contentWindow.addEventListener("DOMContentLoaded",s),t.createEffect(Vr(n,a=>{if(a){if(a.frames.has(t.name)){console.warn(`A frame with the same name already exist: ${t.name}`);return}a.frames.add(t.name,t.frame),Ae(()=>a.frames.delete(t.name))}}))})},r),lt(r,"src",cs`<!doctype html>
          <html>
            <head>
              <meta charset="UTF-8" />
              <meta name="viewport" content="width=device-width, initial-scale=1.0" />
            </head>
            <body></body>
          </html>`),r})()}},{e:[Cr,Er,Pr],c:[xn,Tr]}=Uo(_n,[[Zt,0,"name"],[ft,0,"runtime"],[ft,0,"frame"]],Ts,0,void 0,ke),_n)];css=`
    :host {
      display: block;

      & iframe {
        border: none;
        position: absolute;
        height: 100%;
        width: 100%;
      }
    }
  `;constructor(){super(xn),Tr()}};function Xo(){customElements.get("repl-frame")||customElements.define("repl-frame",xn)}Xo();Fo();const Jo=t=>t[t.length-1];let bn="https://esm.sh";const vn={theme:{},grammar:{}};function Cs(t,e){switch(t){case"theme":return`${bn}/tm-themes/themes/${e}.json`;case"grammar":return`${bn}/tm-grammars/grammars/${e}.json`;case"oniguruma":return`${bn}/vscode-oniguruma/release/onig.wasm`}}async function Es(t,e){if(e in vn[t])return vn[t][e];const n=Cs(t,e);return vn[t][e]=typeof n!="string"?n:fetch(n).then(r=>r.ok?r.json():null).catch(console.error)}var Yo=Object.defineProperty,Qo=(t,e,n)=>e in t?Yo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zo=(t,e,n)=>(Qo(t,typeof e!="symbol"?e+"":e,n),n),ea=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Ve=(t,e,n)=>(ea(t,e,"read from private field"),n?n.call(t):e.get(t)),Ps=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},rt,_t;function ta(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const c in r)if(c!=="default"&&!(c in t)){const s=Object.getOwnPropertyDescriptor(r,c);s&&Object.defineProperty(t,c,s.get?s:{enumerable:!0,get:()=>r[c]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Nr={equals:!1};function na(t,e,n){let r=!1,c=!0;const[s,a]=ue(void 0,Nr),o=fe(f=>r?t(f):(c=!s(),f),e,Nr);return()=>{r=!0,c&&(c=a());const f=o();return r=!1,f}}function Os(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var c=t.length;for(e=0;e<c;e++)t[e]&&(n=Os(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ra(){for(var t,e,n=0,r="",c=arguments.length;n<c;n++)(t=arguments[n])&&(e=Os(t))&&(r&&(r+=" "),r+=e);return r}var Ns=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ks={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ns,()=>{return n={770:function(c,s,a){var o=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(s,"__esModule",{value:!0}),s.setDefaultDebugCall=s.createOnigScanner=s.createOnigString=s.loadWASM=s.OnigScanner=s.OnigString=void 0;const f=o(a(418));let u=null,v=!1;class m{static _utf8ByteLength(p){let S=0;for(let A=0,P=p.length;A<P;A++){const y=p.charCodeAt(A);let i=y,g=!1;if(y>=55296&&y<=56319&&A+1<P){const d=p.charCodeAt(A+1);d>=56320&&d<=57343&&(i=65536+(y-55296<<10)|d-56320,g=!0)}S+=i<=127?1:i<=2047?2:i<=65535?3:4,g&&A++}return S}constructor(p){const S=p.length,A=m._utf8ByteLength(p),P=A!==S,y=P?new Uint32Array(S+1):null;P&&(y[S]=A);const i=P?new Uint32Array(A+1):null;P&&(i[A]=S);const g=new Uint8Array(A);let d=0;for(let l=0;l<S;l++){const h=p.charCodeAt(l);let b=h,T=!1;if(h>=55296&&h<=56319&&l+1<S){const N=p.charCodeAt(l+1);N>=56320&&N<=57343&&(b=65536+(h-55296<<10)|N-56320,T=!0)}P&&(y[l]=d,T&&(y[l+1]=d),b<=127?i[d+0]=l:b<=2047?(i[d+0]=l,i[d+1]=l):b<=65535?(i[d+0]=l,i[d+1]=l,i[d+2]=l):(i[d+0]=l,i[d+1]=l,i[d+2]=l,i[d+3]=l)),b<=127?g[d++]=b:b<=2047?(g[d++]=192|(1984&b)>>>6,g[d++]=128|(63&b)>>>0):b<=65535?(g[d++]=224|(61440&b)>>>12,g[d++]=128|(4032&b)>>>6,g[d++]=128|(63&b)>>>0):(g[d++]=240|(1835008&b)>>>18,g[d++]=128|(258048&b)>>>12,g[d++]=128|(4032&b)>>>6,g[d++]=128|(63&b)>>>0),T&&l++}this.utf16Length=S,this.utf8Length=A,this.utf16Value=p,this.utf8Value=g,this.utf16OffsetToUtf8=y,this.utf8OffsetToUtf16=i}createString(p){const S=p._omalloc(this.utf8Length);return p.HEAPU8.set(this.utf8Value,S),S}}class w{constructor(p){if(this.id=++w.LAST_ID,!u)throw new Error("Must invoke loadWASM first.");this._onigBinding=u,this.content=p;const S=new m(p);this.utf16Length=S.utf16Length,this.utf8Length=S.utf8Length,this.utf16OffsetToUtf8=S.utf16OffsetToUtf8,this.utf8OffsetToUtf16=S.utf8OffsetToUtf16,this.utf8Length<1e4&&!w._sharedPtrInUse?(w._sharedPtr||(w._sharedPtr=u._omalloc(1e4)),w._sharedPtrInUse=!0,u.HEAPU8.set(S.utf8Value,w._sharedPtr),this.ptr=w._sharedPtr):this.ptr=S.createString(u)}convertUtf8OffsetToUtf16(p){return this.utf8OffsetToUtf16?p<0?0:p>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[p]:p}convertUtf16OffsetToUtf8(p){return this.utf16OffsetToUtf8?p<0?0:p>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[p]:p}dispose(){this.ptr===w._sharedPtr?w._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}s.OnigString=w,w.LAST_ID=0,w._sharedPtr=0,w._sharedPtrInUse=!1;class I{constructor(p,S){var A,P;if(!u)throw new Error("Must invoke loadWASM first.");const y=[],i=[];for(let T=0,N=p.length;T<N;T++){const k=new m(p[T]);y[T]=k.createString(u),i[T]=k.utf8Length}const g=u._omalloc(4*p.length);u.HEAPU32.set(y,g/4);const d=u._omalloc(4*p.length);u.HEAPU32.set(i,d/4),this._onigBinding=u,this._options=(A=S?.options)!==null&&A!==void 0?A:[10];const l=this.onigOptions(this._options),h=this.onigSyntax((P=S?.syntax)!==null&&P!==void 0?P:0),b=u._createOnigScanner(g,d,p.length,l,h);this._ptr=b;for(let T=0,N=p.length;T<N;T++)u._ofree(y[T]);u._ofree(d),u._ofree(g),b===0&&function(T){throw new Error(T.UTF8ToString(T._getLastOnigError()))}(u)}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(p,S,A){let P=v,y=this._options;if(Array.isArray(A)?(A.includes(25)&&(P=!0),y=y.concat(A)):typeof A=="boolean"&&(P=A),typeof p=="string"){p=new w(p);const i=this._findNextMatchSync(p,S,P,y);return p.dispose(),i}return this._findNextMatchSync(p,S,P,y)}_findNextMatchSync(p,S,A,P){const y=this._onigBinding,i=this.onigOptions(P);let g;if(g=A?y._findNextOnigScannerMatchDbg(this._ptr,p.id,p.ptr,p.utf8Length,p.convertUtf16OffsetToUtf8(S),i):y._findNextOnigScannerMatch(this._ptr,p.id,p.ptr,p.utf8Length,p.convertUtf16OffsetToUtf8(S),i),g===0)return null;const d=y.HEAPU32;let l=g/4;const h=d[l++],b=d[l++];let T=[];for(let N=0;N<b;N++){const k=p.convertUtf8OffsetToUtf16(d[l++]),x=p.convertUtf8OffsetToUtf16(d[l++]);T[N]={start:k,end:x,length:x-k}}return{index:h,captureIndices:T}}onigOptions(p){return p.map(S=>this.onigOption(S)).reduce((S,A)=>S|A,this._onigBinding.ONIG_OPTION_NONE)}onigSyntax(p){switch(p){case 0:return this._onigBinding.ONIG_SYNTAX_DEFAULT;case 1:return this._onigBinding.ONIG_SYNTAX_ASIS;case 2:return this._onigBinding.ONIG_SYNTAX_POSIX_BASIC;case 3:return this._onigBinding.ONIG_SYNTAX_POSIX_EXTENDED;case 4:return this._onigBinding.ONIG_SYNTAX_EMACS;case 5:return this._onigBinding.ONIG_SYNTAX_GREP;case 6:return this._onigBinding.ONIG_SYNTAX_GNU_REGEX;case 7:return this._onigBinding.ONIG_SYNTAX_JAVA;case 8:return this._onigBinding.ONIG_SYNTAX_PERL;case 9:return this._onigBinding.ONIG_SYNTAX_PERL_NG;case 10:return this._onigBinding.ONIG_SYNTAX_RUBY;case 11:return this._onigBinding.ONIG_SYNTAX_PYTHON;case 12:return this._onigBinding.ONIG_SYNTAX_ONIGURUMA}}onigOption(p){switch(p){case 1:return this._onigBinding.ONIG_OPTION_NONE;case 0:case 25:return this._onigBinding.ONIG_OPTION_DEFAULT;case 2:return this._onigBinding.ONIG_OPTION_IGNORECASE;case 3:return this._onigBinding.ONIG_OPTION_EXTEND;case 4:return this._onigBinding.ONIG_OPTION_MULTILINE;case 5:return this._onigBinding.ONIG_OPTION_SINGLELINE;case 6:return this._onigBinding.ONIG_OPTION_FIND_LONGEST;case 7:return this._onigBinding.ONIG_OPTION_FIND_NOT_EMPTY;case 8:return this._onigBinding.ONIG_OPTION_NEGATE_SINGLELINE;case 9:return this._onigBinding.ONIG_OPTION_DONT_CAPTURE_GROUP;case 10:return this._onigBinding.ONIG_OPTION_CAPTURE_GROUP;case 11:return this._onigBinding.ONIG_OPTION_NOTBOL;case 12:return this._onigBinding.ONIG_OPTION_NOTEOL;case 13:return this._onigBinding.ONIG_OPTION_CHECK_VALIDITY_OF_STRING;case 14:return this._onigBinding.ONIG_OPTION_IGNORECASE_IS_ASCII;case 15:return this._onigBinding.ONIG_OPTION_WORD_IS_ASCII;case 16:return this._onigBinding.ONIG_OPTION_DIGIT_IS_ASCII;case 17:return this._onigBinding.ONIG_OPTION_SPACE_IS_ASCII;case 18:return this._onigBinding.ONIG_OPTION_POSIX_IS_ASCII;case 19:return this._onigBinding.ONIG_OPTION_TEXT_SEGMENT_EXTENDED_GRAPHEME_CLUSTER;case 20:return this._onigBinding.ONIG_OPTION_TEXT_SEGMENT_WORD;case 21:return this._onigBinding.ONIG_OPTION_NOT_BEGIN_STRING;case 22:return this._onigBinding.ONIG_OPTION_NOT_END_STRING;case 23:return this._onigBinding.ONIG_OPTION_NOT_BEGIN_POSITION;case 24:return this._onigBinding.ONIG_OPTION_CALLBACK_EACH_MATCH}}}s.OnigScanner=I;let _=!1,E=null;s.loadWASM=function(C){if(_)return E;let p,S,A,P;if(_=!0,function(y){return typeof y.instantiator=="function"}(C))p=C.instantiator,S=C.print;else{let y;(function(i){return i.data!==void 0})(C)?(y=C.data,S=C.print):y=C,p=function(i){return typeof Response<"u"&&i instanceof Response}(y)?typeof WebAssembly.instantiateStreaming=="function"?function(i){return g=>WebAssembly.instantiateStreaming(i,g)}(y):function(i){return async g=>{const d=await i.arrayBuffer();return WebAssembly.instantiate(d,g)}}(y):function(i){return g=>WebAssembly.instantiate(i,g)}(y)}return E=new Promise((y,i)=>{A=y,P=i}),function(y,i,g,d){(0,f.default)({print:i,instantiateWasm:(l,h)=>{if(typeof performance>"u"){const b=()=>Date.now();l.env.emscripten_get_now=b,l.wasi_snapshot_preview1.emscripten_get_now=b}return y(l).then(b=>h(b.instance),d),{}}}).then(l=>{u=l,g()})}(p,S,A,P),E},s.createOnigString=function(C){return new w(C)},s.createOnigScanner=function(C){return new I(C)},s.setDefaultDebugCall=function(C){v=C}},418:c=>{var s=(typeof document<"u"&&document.currentScript&&document.currentScript.src,function(a={}){var o,f,u=a;u.ready=new Promise((R,$)=>{o=R,f=$});var v,m=Object.assign({},u);typeof read<"u"&&read,v=R=>{if(typeof readbuffer=="function")return new Uint8Array(readbuffer(R));let $=read(R,"binary");return typeof $=="object"||x(B),$;var B},typeof clearTimeout>"u"&&(globalThis.clearTimeout=R=>{}),typeof setTimeout>"u"&&(globalThis.setTimeout=R=>typeof R=="function"?R():x()),typeof scriptArgs<"u"&&scriptArgs,typeof onig_print<"u"&&(typeof console>"u"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr<"u"?printErr:onig_print);var w,I,_=u.print||console.log.bind(console),E=u.printErr||console.error.bind(console);Object.assign(u,m),m=null,u.arguments&&u.arguments,u.thisProgram&&u.thisProgram,u.quit&&u.quit,u.wasmBinary&&(w=u.wasmBinary),u.noExitRuntime,typeof WebAssembly!="object"&&x("no native wasm support detected");var C,p,S,A,P,y,i,g,d=!1;function l(){var R=I.buffer;u.HEAP8=C=new Int8Array(R),u.HEAP16=S=new Int16Array(R),u.HEAPU8=p=new Uint8Array(R),u.HEAPU16=A=new Uint16Array(R),u.HEAP32=P=new Int32Array(R),u.HEAPU32=y=new Uint32Array(R),u.HEAPF32=i=new Float32Array(R),u.HEAPF64=g=new Float64Array(R)}var h=[],b=[],T=[],N=0,k=null;function x(R){u.onAbort&&u.onAbort(R),E(R="Aborted("+R+")"),d=!0,R+=". Build with -sASSERTIONS for more info.";var $=new WebAssembly.RuntimeError(R);throw f($),$}var O,F;function G(R){return R.startsWith("data:application/octet-stream;base64,")}function M(R){if(R==O&&w)return new Uint8Array(w);if(v)return v(R);throw"both async and sync fetching of the wasm failed"}function X(R,$,B){return function(D){return Promise.resolve().then(()=>M(D))}(R).then(D=>WebAssembly.instantiate(D,$)).then(D=>D).then(B,D=>{E(`failed to asynchronously prepare wasm: ${D}`),x(D)})}G(O="onig.wasm")||(F=O,O=u.locateFile?u.locateFile(F,""):""+F);var ne=R=>{for(;R.length>0;)R.shift()(u)},ee=void 0,V=R=>{for(var $="",B=R;p[B];)$+=ee[p[B++]];return $},z={},q={},te=void 0,L=R=>{throw new te(R)},j=void 0,U=(R,$,B)=>{function D(Y){var J=B(Y);J.length!==R.length&&(le=>{throw new j(le)})("Mismatched type converter count");for(var Q=0;Q<R.length;++Q)Z(R[Q],J[Q])}R.forEach(function(Y){});var W=new Array($.length),H=[],K=0;$.forEach((Y,J)=>{q.hasOwnProperty(Y)?W[J]=q[Y]:(H.push(Y),z.hasOwnProperty(Y)||(z[Y]=[]),z[Y].push(()=>{W[J]=q[Y],++K===H.length&&D(W)}))}),H.length===0&&D(W)};function Z(R,$,B={}){if(!("argPackAdvance"in $))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(D,W,H={}){var K=W.name;if(D||L(`type "${K}" must have a positive integer typeid pointer`),q.hasOwnProperty(D)){if(H.ignoreDuplicateRegistrations)return;L(`Cannot register type '${K}' twice`)}if(q[D]=W,z.hasOwnProperty(D)){var Y=z[D];delete z[D],Y.forEach(J=>J())}}(R,$,B)}function Le(){this.allocated=[void 0],this.freelist=[]}var ye=new Le,We=()=>{for(var R=0,$=ye.reserved;$<ye.allocated.length;++$)ye.allocated[$]!==void 0&&++R;return R},Me=R=>(R||L("Cannot use deleted val. handle = "+R),ye.get(R).value),Ze=R=>{switch(R){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ye.allocate({refcount:1,value:R})}};function je(R){return this.fromWireType(P[R>>2])}var Ue=(R,$)=>{switch($){case 4:return function(B){return this.fromWireType(i[B>>2])};case 8:return function(B){return this.fromWireType(g[B>>3])};default:throw new TypeError(`invalid float width (${$}): ${R}`)}},ze=(R,$,B)=>{switch($){case 1:return B?D=>C[D>>0]:D=>p[D>>0];case 2:return B?D=>S[D>>1]:D=>A[D>>1];case 4:return B?D=>P[D>>2]:D=>y[D>>2];default:throw new TypeError(`invalid integer width (${$}): ${R}`)}};function De(R){return this.fromWireType(y[R>>2])}var ve,He=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,et=(R,$,B)=>{for(var D=$+B,W=$;R[W]&&!(W>=D);)++W;if(W-$>16&&R.buffer&&He)return He.decode(R.subarray($,W));for(var H="";$<W;){var K=R[$++];if(128&K){var Y=63&R[$++];if((224&K)!=192){var J=63&R[$++];if((K=(240&K)==224?(15&K)<<12|Y<<6|J:(7&K)<<18|Y<<12|J<<6|63&R[$++])<65536)H+=String.fromCharCode(K);else{var Q=K-65536;H+=String.fromCharCode(55296|Q>>10,56320|1023&Q)}}else H+=String.fromCharCode((31&K)<<6|Y)}else H+=String.fromCharCode(K)}return H},kt=(R,$)=>R?et(p,R,$):"",qe=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,un=(R,$)=>{for(var B=R,D=B>>1,W=D+$/2;!(D>=W)&&A[D];)++D;if((B=D<<1)-R>32&&qe)return qe.decode(p.subarray(R,B));for(var H="",K=0;!(K>=$/2);++K){var Y=S[R+2*K>>1];if(Y==0)break;H+=String.fromCharCode(Y)}return H},Rt=(R,$,B)=>{if(B===void 0&&(B=2147483647),B<2)return 0;for(var D=$,W=(B-=2)<2*R.length?B/2:R.length,H=0;H<W;++H){var K=R.charCodeAt(H);S[$>>1]=K,$+=2}return S[$>>1]=0,$-D},fn=R=>2*R.length,tt=(R,$)=>{for(var B=0,D="";!(B>=$/4);){var W=P[R+4*B>>2];if(W==0)break;if(++B,W>=65536){var H=W-65536;D+=String.fromCharCode(55296|H>>10,56320|1023&H)}else D+=String.fromCharCode(W)}return D},It=(R,$,B)=>{if(B===void 0&&(B=2147483647),B<4)return 0;for(var D=$,W=D+B-4,H=0;H<R.length;++H){var K=R.charCodeAt(H);if(K>=55296&&K<=57343&&(K=65536+((1023&K)<<10)|1023&R.charCodeAt(++H)),P[$>>2]=K,($+=4)+4>W)break}return P[$>>2]=0,$-D},Zs=R=>{for(var $=0,B=0;B<R.length;++B){var D=R.charCodeAt(B);D>=55296&&D<=57343&&++B,$+=4}return $};ve=()=>performance.now();var ei=R=>{var $=(R-I.buffer.byteLength+65535)/65536;try{return I.grow($),l(),1}catch{}},ti=[null,[],[]];(()=>{for(var R=new Array(256),$=0;$<256;++$)R[$]=String.fromCharCode($);ee=R})(),te=u.BindingError=class extends Error{constructor(R){super(R),this.name="BindingError"}},j=u.InternalError=class extends Error{constructor(R){super(R),this.name="InternalError"}},Object.assign(Le.prototype,{get(R){return this.allocated[R]},has(R){return this.allocated[R]!==void 0},allocate(R){var $=this.freelist.pop()||this.allocated.length;return this.allocated[$]=R,$},free(R){this.allocated[R]=void 0,this.freelist.push(R)}}),ye.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),ye.reserved=ye.allocated.length,u.count_emval_handles=We;var xt,er={_embind_register_bigint:(R,$,B,D,W)=>{},_embind_register_bool:(R,$,B,D)=>{Z(R,{name:$=V($),fromWireType:function(W){return!!W},toWireType:function(W,H){return H?B:D},argPackAdvance:8,readValueFromPointer:function(W){return this.fromWireType(p[W])},destructorFunction:null})},_embind_register_constant:(R,$,B)=>{R=V(R),U([],[$],function(D){return D=D[0],u[R]=D.fromWireType(B),[]})},_embind_register_emval:(R,$)=>{Z(R,{name:$=V($),fromWireType:B=>{var D=Me(B);return(W=>{W>=ye.reserved&&--ye.get(W).refcount==0&&ye.free(W)})(B),D},toWireType:(B,D)=>Ze(D),argPackAdvance:8,readValueFromPointer:je,destructorFunction:null})},_embind_register_float:(R,$,B)=>{Z(R,{name:$=V($),fromWireType:D=>D,toWireType:(D,W)=>W,argPackAdvance:8,readValueFromPointer:Ue($,B),destructorFunction:null})},_embind_register_integer:(R,$,B,D,W)=>{$=V($);var H=J=>J;if(D===0){var K=32-8*B;H=J=>J<<K>>>K}var Y=$.includes("unsigned");Z(R,{name:$,fromWireType:H,toWireType:Y?function(J,Q){return this.name,Q>>>0}:function(J,Q){return this.name,Q},argPackAdvance:8,readValueFromPointer:ze($,B,D!==0),destructorFunction:null})},_embind_register_memory_view:(R,$,B)=>{var D=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][$];function W(H){var K=y[H>>2],Y=y[H+4>>2];return new D(C.buffer,Y,K)}Z(R,{name:B=V(B),fromWireType:W,argPackAdvance:8,readValueFromPointer:W},{ignoreDuplicateRegistrations:!0})},_embind_register_std_string:(R,$)=>{var B=($=V($))==="std::string";Z(R,{name:$,fromWireType:D=>{var W,H=y[D>>2],K=D+4;if(B)for(var Y=K,J=0;J<=H;++J){var Q=K+J;if(J==H||p[Q]==0){var le=kt(Y,Q-Y);W===void 0?W=le:(W+=String.fromCharCode(0),W+=le),Y=Q+1}}else{var oe=new Array(H);for(J=0;J<H;++J)oe[J]=String.fromCharCode(p[K+J]);W=oe.join("")}return Ge(D),W},toWireType:(D,W)=>{var H;W instanceof ArrayBuffer&&(W=new Uint8Array(W));var K=typeof W=="string";K||W instanceof Uint8Array||W instanceof Uint8ClampedArray||W instanceof Int8Array||L("Cannot pass non-string to std::string"),H=B&&K?(oe=>{for(var ae=0,se=0;se<oe.length;++se){var Ce=oe.charCodeAt(se);Ce<=127?ae++:Ce<=2047?ae+=2:Ce>=55296&&Ce<=57343?(ae+=4,++se):ae+=3}return ae})(W):W.length;var Y=hn(4+H+1),J=Y+4;if(y[Y>>2]=H,B&&K)((oe,ae,se,Ce)=>{if(!(Ce>0))return 0;for(var dn=se,$t=se+Ce-1,Lt=0;Lt<oe.length;++Lt){var he=oe.charCodeAt(Lt);if(he>=55296&&he<=57343&&(he=65536+((1023&he)<<10)|1023&oe.charCodeAt(++Lt)),he<=127){if(se>=$t)break;ae[se++]=he}else if(he<=2047){if(se+1>=$t)break;ae[se++]=192|he>>6,ae[se++]=128|63&he}else if(he<=65535){if(se+2>=$t)break;ae[se++]=224|he>>12,ae[se++]=128|he>>6&63,ae[se++]=128|63&he}else{if(se+3>=$t)break;ae[se++]=240|he>>18,ae[se++]=128|he>>12&63,ae[se++]=128|he>>6&63,ae[se++]=128|63&he}}ae[se]=0})(W,p,J,H+1);else if(K)for(var Q=0;Q<H;++Q){var le=W.charCodeAt(Q);le>255&&(Ge(J),L("String has UTF-16 code units that do not fit in 8 bits")),p[J+Q]=le}else for(Q=0;Q<H;++Q)p[J+Q]=W[Q];return D!==null&&D.push(Ge,Y),Y},argPackAdvance:8,readValueFromPointer:De,destructorFunction:D=>Ge(D)})},_embind_register_std_wstring:(R,$,B)=>{var D,W,H,K,Y;B=V(B),$===2?(D=un,W=Rt,K=fn,H=()=>A,Y=1):$===4&&(D=tt,W=It,K=Zs,H=()=>y,Y=2),Z(R,{name:B,fromWireType:J=>{for(var Q,le=y[J>>2],oe=H(),ae=J+4,se=0;se<=le;++se){var Ce=J+4+se*$;if(se==le||oe[Ce>>Y]==0){var dn=D(ae,Ce-ae);Q===void 0?Q=dn:(Q+=String.fromCharCode(0),Q+=dn),ae=Ce+$}}return Ge(J),Q},toWireType:(J,Q)=>{typeof Q!="string"&&L(`Cannot pass non-string to C++ string type ${B}`);var le=K(Q),oe=hn(4+le+$);return y[oe>>2]=le>>Y,W(Q,oe+4,le+$),J!==null&&J.push(Ge,oe),oe},argPackAdvance:8,readValueFromPointer:je,destructorFunction:J=>Ge(J)})},_embind_register_void:(R,$)=>{Z(R,{isVoid:!0,name:$=V($),argPackAdvance:0,fromWireType:()=>{},toWireType:(B,D)=>{}})},emscripten_get_now:ve,emscripten_memcpy_big:(R,$,B)=>p.copyWithin(R,$,$+B),emscripten_resize_heap:R=>{var $=p.length,B=2147483648;if((R>>>=0)>B)return!1;for(var D,W=1;W<=4;W*=2){var H=$*(1+.2/W);H=Math.min(H,R+100663296);var K=Math.min(B,(D=Math.max(R,H))+(65536-D%65536)%65536);if(ei(K))return!0}return!1},fd_write:(R,$,B,D)=>{for(var W=0,H=0;H<B;H++){var K=y[$>>2],Y=y[$+4>>2];$+=8;for(var J=0;J<Y;J++)Q=R,le=p[K+J],oe=void 0,oe=ti[Q],le===0||le===10?((Q===1?_:E)(et(oe,0)),oe.length=0):oe.push(le);W+=Y}var Q,le,oe;return y[D>>2]=W,0}},_e=function(){var R,$,B,D,W={env:er,wasi_snapshot_preview1:er};function H(K,Y){var J,Q=K.exports;return I=(_e=Q).memory,l(),_e.__indirect_function_table,J=_e.__wasm_call_ctors,b.unshift(J),function(le){if(N--,u.monitorRunDependencies&&u.monitorRunDependencies(N),N==0&&k){var oe=k;k=null,oe()}}(),Q}if(N++,u.monitorRunDependencies&&u.monitorRunDependencies(N),u.instantiateWasm)try{return u.instantiateWasm(W,H)}catch(K){E(`Module.instantiateWasm callback failed with error: ${K}`),f(K)}return(R=w,$=O,B=W,D=function(K){H(K.instance)},R||typeof WebAssembly.instantiateStreaming!="function"||G($)||typeof fetch!="function"?X($,B,D):fetch($,{credentials:"same-origin"}).then(K=>WebAssembly.instantiateStreaming(K,B).then(D,function(Y){return E(`wasm streaming compile failed: ${Y}`),E("falling back to ArrayBuffer instantiation"),X($,B,D)}))).catch(f),{}}(),hn=R=>(hn=_e.malloc)(R),Ge=R=>(Ge=_e.free)(R);function tr(){function R(){xt||(xt=!0,u.calledRun=!0,d||(ne(b),o(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),function(){if(u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;)$=u.postRun.shift(),T.unshift($);var $;ne(T)}()))}N>0||(function(){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)$=u.preRun.shift(),h.unshift($);var $;ne(h)}(),N>0||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),R()},1)):R()))}if(u._omalloc=R=>(u._omalloc=_e.omalloc)(R),u._ofree=R=>(u._ofree=_e.ofree)(R),u._getLastOnigError=()=>(u._getLastOnigError=_e.getLastOnigError)(),u._createOnigScanner=(R,$,B,D,W)=>(u._createOnigScanner=_e.createOnigScanner)(R,$,B,D,W),u._freeOnigScanner=R=>(u._freeOnigScanner=_e.freeOnigScanner)(R),u._findNextOnigScannerMatch=(R,$,B,D,W,H)=>(u._findNextOnigScannerMatch=_e.findNextOnigScannerMatch)(R,$,B,D,W,H),u._findNextOnigScannerMatchDbg=(R,$,B,D,W,H)=>(u._findNextOnigScannerMatchDbg=_e.findNextOnigScannerMatchDbg)(R,$,B,D,W,H),u.__embind_initialize_bindings=()=>(u.__embind_initialize_bindings=_e._embind_initialize_bindings)(),u.dynCall_jiji=(R,$,B,D,W)=>(u.dynCall_jiji=_e.dynCall_jiji)(R,$,B,D,W),u.UTF8ToString=kt,k=function R(){xt||tr(),xt||(k=R)},u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();return tr(),a.ready});c.exports=s}},r={},function c(s){var a=r[s];if(a!==void 0)return a.exports;var o=r[s]={exports:{}};return n[s].call(o.exports,o,o.exports,c),o.exports}(770);var n,r})})(ks);var Yn=ks.exports;const ia=sa(Yn),oa=ta({__proto__:null,default:ia},[Yn]);var Rs={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ns,()=>(()=>{var n={350:(c,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UseOnigurumaFindOptions=s.DebugFlags=void 0,s.DebugFlags={InDebugMode:typeof process<"u"&&!!{}.VSCODE_TEXTMATE_DEBUG},s.UseOnigurumaFindOptions=!1},442:(c,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.applyStateStackDiff=s.diffStateStacksRefEq=void 0;const o=a(391);s.diffStateStacksRefEq=function(f,u){let v=0;const m=[];let w=f,I=u;for(;w!==I;)w&&(!I||w.depth>=I.depth)?(v++,w=w.parent):(m.push(I.toStateStackFrame()),I=I.parent);return{pops:v,newFrames:m.reverse()}},s.applyStateStackDiff=function(f,u){let v=f;for(let m=0;m<u.pops;m++)v=v.parent;for(const m of u.newFrames)v=o.StateStackImpl.pushFrame(v,m);return v}},36:(c,s)=>{var a;Object.defineProperty(s,"__esModule",{value:!0}),s.toOptionalTokenType=s.EncodedTokenAttributes=void 0,(a=s.EncodedTokenAttributes||(s.EncodedTokenAttributes={})).toBinaryStr=function(o){return o.toString(2).padStart(32,"0")},a.print=function(o){const f=a.getLanguageId(o),u=a.getTokenType(o),v=a.getFontStyle(o),m=a.getForeground(o),w=a.getBackground(o);console.log({languageId:f,tokenType:u,fontStyle:v,foreground:m,background:w})},a.getLanguageId=function(o){return(255&o)>>>0},a.getTokenType=function(o){return(768&o)>>>8},a.containsBalancedBrackets=function(o){return(1024&o)!=0},a.getFontStyle=function(o){return(30720&o)>>>11},a.getForeground=function(o){return(16744448&o)>>>15},a.getBackground=function(o){return(4278190080&o)>>>24},a.set=function(o,f,u,v,m,w,I){let _=a.getLanguageId(o),E=a.getTokenType(o),C=a.containsBalancedBrackets(o)?1:0,p=a.getFontStyle(o),S=a.getForeground(o),A=a.getBackground(o);return f!==0&&(_=f),u!==8&&(E=u),v!==null&&(C=v?1:0),m!==-1&&(p=m),w!==0&&(S=w),I!==0&&(A=I),(_<<0|E<<8|C<<10|p<<11|S<<15|A<<24)>>>0},s.toOptionalTokenType=function(o){return o}},996:(c,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BasicScopeAttributesProvider=s.BasicScopeAttributes=void 0;const o=a(878);class f{constructor(w,I){this.languageId=w,this.tokenType=I}}s.BasicScopeAttributes=f;class u{constructor(w,I){this._getBasicScopeAttributes=new o.CachedFn(_=>{const E=this._scopeToLanguage(_),C=this._toStandardTokenType(_);return new f(E,C)}),this._defaultAttributes=new f(w,8),this._embeddedLanguagesMatcher=new v(Object.entries(I||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(w){return w===null?u._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(w)}_scopeToLanguage(w){return this._embeddedLanguagesMatcher.match(w)||0}_toStandardTokenType(w){const I=w.match(u.STANDARD_TOKEN_TYPE_REGEXP);if(!I)return 8;switch(I[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}}s.BasicScopeAttributesProvider=u,u._NULL_SCOPE_METADATA=new f(0,0),u.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/;class v{constructor(w){if(w.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(w);const I=w.map(([_,E])=>o.escapeRegExpCharacters(_));I.sort(),I.reverse(),this.scopesRegExp=new RegExp(`^((${I.join(")|(")}))($|\\.)`,"")}}match(w){if(!this.scopesRegExp)return;const I=w.match(this.scopesRegExp);return I?this.values.get(I[1]):void 0}}},947:(c,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LineTokens=s.BalancedBracketSelectors=s.StateStackImpl=s.AttributedScopeStack=s.Grammar=s.createGrammar=void 0;const o=a(350),f=a(36),u=a(736),v=a(44),m=a(792),w=a(583),I=a(878),_=a(996),E=a(47);function C(d,l,h,b,T){const N=u.createMatchers(l,p),k=m.RuleFactory.getCompiledRuleId(h,b,T.repository);for(const x of N)d.push({debugSelector:l,matcher:x.matcher,ruleId:k,grammar:T,priority:x.priority})}function p(d,l){if(l.length<d.length)return!1;let h=0;return d.every(b=>{for(let T=h;T<l.length;T++)if(S(l[T],b))return h=T+1,!0;return!1})}function S(d,l){if(!d)return!1;if(d===l)return!0;const h=l.length;return d.length>h&&d.substr(0,h)===l&&d[h]==="."}s.createGrammar=function(d,l,h,b,T,N,k,x){return new A(d,l,h,b,T,N,k,x)};class A{constructor(l,h,b,T,N,k,x,O){if(this._rootScopeName=l,this.balancedBracketSelectors=k,this._onigLib=O,this._basicScopeAttributesProvider=new _.BasicScopeAttributesProvider(b,T),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=x,this._grammar=P(h,null),this._injections=null,this._tokenTypeMatchers=[],N)for(const F of Object.keys(N)){const G=u.createMatchers(F,p);for(const M of G)this._tokenTypeMatchers.push({matcher:M.matcher,type:N[F]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const l of this._ruleId2desc)l&&l.dispose()}createOnigScanner(l){return this._onigLib.createOnigScanner(l)}createOnigString(l){return this._onigLib.createOnigString(l)}getMetadataForScope(l){return this._basicScopeAttributesProvider.getBasicScopeAttributes(l)}_collectInjections(){const l=[],h=this._rootScopeName,b=(T=>T===this._rootScopeName?this._grammar:this.getExternalGrammar(T))(h);if(b){const T=b.injections;if(T)for(let k in T)C(l,k,T[k],this,b);const N=this._grammarRepository.injections(h);N&&N.forEach(k=>{const x=this.getExternalGrammar(k);if(x){const O=x.injectionSelector;O&&C(l,O,x,this,x)}})}return l.sort((T,N)=>T.priority-N.priority),l}getInjections(){if(this._injections===null&&(this._injections=this._collectInjections(),o.DebugFlags.InDebugMode&&this._injections.length>0)){console.log(`Grammar ${this._rootScopeName} contains the following injections:`);for(const l of this._injections)console.log(`  - ${l.debugSelector}`)}return this._injections}registerRule(l){const h=++this._lastRuleId,b=l(m.ruleIdFromNumber(h));return this._ruleId2desc[h]=b,b}getRule(l){return this._ruleId2desc[m.ruleIdToNumber(l)]}getExternalGrammar(l,h){if(this._includedGrammars[l])return this._includedGrammars[l];if(this._grammarRepository){const b=this._grammarRepository.lookup(l);if(b)return this._includedGrammars[l]=P(b,h&&h.$base),this._includedGrammars[l]}}tokenizeLine(l,h,b=0){const T=this._tokenize(l,h,!1,b);return{tokens:T.lineTokens.getResult(T.ruleStack,T.lineLength),ruleStack:T.ruleStack,stoppedEarly:T.stoppedEarly}}tokenizeLine2(l,h,b=0){const T=this._tokenize(l,h,!0,b);return{tokens:T.lineTokens.getBinaryResult(T.ruleStack,T.lineLength),ruleStack:T.ruleStack,stoppedEarly:T.stoppedEarly}}_tokenize(l,h,b,T){let N;if(this._rootId===-1&&(this._rootId=m.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections()),h&&h!==i.NULL)N=!1,h.reset();else{N=!0;const G=this._basicScopeAttributesProvider.getDefaultAttributes(),M=this.themeProvider.getDefaults(),X=f.EncodedTokenAttributes.set(0,G.languageId,G.tokenType,null,M.fontStyle,M.foregroundId,M.backgroundId),ne=this.getRule(this._rootId).getName(null,null);let ee;ee=ne?y.createRootAndLookUpScopeName(ne,X,this):y.createRoot("unknown",X),h=new i(null,this._rootId,-1,-1,!1,null,ee,ee)}l+=`
`;const k=this.createOnigString(l),x=k.content.length,O=new g(b,l,this._tokenTypeMatchers,this.balancedBracketSelectors),F=E._tokenizeString(this,k,N,0,h,O,!0,T);return v.disposeOnigString(k),{lineLength:x,lineTokens:O,ruleStack:F.stack,stoppedEarly:F.stoppedEarly}}}function P(d,l){return(d=I.clone(d)).repository=d.repository||{},d.repository.$self={$vscodeTextmateLocation:d.$vscodeTextmateLocation,patterns:d.patterns,name:d.scopeName},d.repository.$base=l||d.repository.$self,d}s.Grammar=A;class y{constructor(l,h,b){this.parent=l,this.scopePath=h,this.tokenAttributes=b}static fromExtension(l,h){let b=l,T=l?.scopePath??null;for(const N of h)T=w.ScopeStack.push(T,N.scopeNames),b=new y(b,T,N.encodedTokenAttributes);return b}static createRoot(l,h){return new y(null,new w.ScopeStack(null,l),h)}static createRootAndLookUpScopeName(l,h,b){const T=b.getMetadataForScope(l),N=new w.ScopeStack(null,l),k=b.themeProvider.themeMatch(N),x=y.mergeAttributes(h,T,k);return new y(null,N,x)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(l){return y.equals(this,l)}static equals(l,h){for(;;){if(l===h||!l&&!h)return!0;if(!l||!h||l.scopeName!==h.scopeName||l.tokenAttributes!==h.tokenAttributes)return!1;l=l.parent,h=h.parent}}static mergeAttributes(l,h,b){let T=-1,N=0,k=0;return b!==null&&(T=b.fontStyle,N=b.foregroundId,k=b.backgroundId),f.EncodedTokenAttributes.set(l,h.languageId,h.tokenType,null,T,N,k)}pushAttributed(l,h){if(l===null)return this;if(l.indexOf(" ")===-1)return y._pushAttributed(this,l,h);const b=l.split(/ /g);let T=this;for(const N of b)T=y._pushAttributed(T,N,h);return T}static _pushAttributed(l,h,b){const T=b.getMetadataForScope(h),N=l.scopePath.push(h),k=b.themeProvider.themeMatch(N),x=y.mergeAttributes(l.tokenAttributes,T,k);return new y(l,N,x)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(l){var h;const b=[];let T=this;for(;T&&T!==l;)b.push({encodedTokenAttributes:T.tokenAttributes,scopeNames:T.scopePath.getExtensionIfDefined(((h=T.parent)==null?void 0:h.scopePath)??null)}),T=T.parent;return T===l?b.reverse():void 0}}s.AttributedScopeStack=y;class i{constructor(l,h,b,T,N,k,x,O){this.parent=l,this.ruleId=h,this.beginRuleCapturedEOL=N,this.endRule=k,this.nameScopesList=x,this.contentNameScopesList=O,this._stackElementBrand=void 0,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=b,this._anchorPos=T}equals(l){return l!==null&&i._equals(this,l)}static _equals(l,h){return l===h||!!this._structuralEquals(l,h)&&y.equals(l.contentNameScopesList,h.contentNameScopesList)}static _structuralEquals(l,h){for(;;){if(l===h||!l&&!h)return!0;if(!l||!h||l.depth!==h.depth||l.ruleId!==h.ruleId||l.endRule!==h.endRule)return!1;l=l.parent,h=h.parent}}clone(){return this}static _reset(l){for(;l;)l._enterPos=-1,l._anchorPos=-1,l=l.parent}reset(){i._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(l,h,b,T,N,k,x){return new i(this,l,h,b,T,N,k,x)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(l){return l.getRule(this.ruleId)}toString(){const l=[];return this._writeString(l,0),"["+l.join(",")+"]"}_writeString(l,h){var b,T;return this.parent&&(h=this.parent._writeString(l,h)),l[h++]=`(${this.ruleId}, ${(b=this.nameScopesList)==null?void 0:b.toString()}, ${(T=this.contentNameScopesList)==null?void 0:T.toString()})`,h}withContentNameScopesList(l){return this.contentNameScopesList===l?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,l)}withEndRule(l){return this.endRule===l?this:new i(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,l,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(l){let h=this;for(;h&&h._enterPos===l._enterPos;){if(h.ruleId===l.ruleId)return!0;h=h.parent}return!1}toStateStackFrame(){var l,h,b;return{ruleId:m.ruleIdToNumber(this.ruleId),beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:((h=this.nameScopesList)==null?void 0:h.getExtensionIfDefined(((l=this.parent)==null?void 0:l.nameScopesList)??null))??[],contentNameScopesList:((b=this.contentNameScopesList)==null?void 0:b.getExtensionIfDefined(this.nameScopesList))??[]}}static pushFrame(l,h){const b=y.fromExtension(l?.nameScopesList??null,h.nameScopesList);return new i(l,m.ruleIdFromNumber(h.ruleId),h.enterPos??-1,h.anchorPos??-1,h.beginRuleCapturedEOL,h.endRule,b,y.fromExtension(b,h.contentNameScopesList))}}s.StateStackImpl=i,i.NULL=new i(null,0,0,0,!1,null,null,null),s.BalancedBracketSelectors=class{constructor(d,l){this.allowAny=!1,this.balancedBracketScopes=d.flatMap(h=>h==="*"?(this.allowAny=!0,[]):u.createMatchers(h,p).map(b=>b.matcher)),this.unbalancedBracketScopes=l.flatMap(h=>u.createMatchers(h,p).map(b=>b.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(d){for(const l of this.unbalancedBracketScopes)if(l(d))return!1;for(const l of this.balancedBracketScopes)if(l(d))return!0;return this.allowAny}};class g{constructor(l,h,b,T){this.balancedBracketSelectors=T,this._emitBinaryTokens=l,this._tokenTypeOverrides=b,o.DebugFlags.InDebugMode?this._lineText=h:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(l,h){this.produceFromScopes(l.contentNameScopesList,h)}produceFromScopes(l,h){var b;if(this._lastTokenEndIndex>=h)return;if(this._emitBinaryTokens){let N=l?.tokenAttributes??0,k=!1;if((b=this.balancedBracketSelectors)!=null&&b.matchesAlways&&(k=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const x=l?.getScopeNames()??[];for(const O of this._tokenTypeOverrides)O.matcher(x)&&(N=f.EncodedTokenAttributes.set(N,0,f.toOptionalTokenType(O.type),null,-1,0,0));this.balancedBracketSelectors&&(k=this.balancedBracketSelectors.match(x))}if(k&&(N=f.EncodedTokenAttributes.set(N,0,8,k,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===N)return void(this._lastTokenEndIndex=h);if(o.DebugFlags.InDebugMode){const x=l?.getScopeNames()??[];console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,h).replace(/\n$/,"\\n")+"|");for(let O=0;O<x.length;O++)console.log("      * "+x[O])}return this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(N),void(this._lastTokenEndIndex=h)}const T=l?.getScopeNames()??[];if(o.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,h).replace(/\n$/,"\\n")+"|");for(let N=0;N<T.length;N++)console.log("      * "+T[N])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:h,scopes:T}),this._lastTokenEndIndex=h}getResult(l,h){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===h-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(l,h),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(l,h){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===h-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(l,h),this._binaryTokens[this._binaryTokens.length-2]=0);const b=new Uint32Array(this._binaryTokens.length);for(let T=0,N=this._binaryTokens.length;T<N;T++)b[T]=this._binaryTokens[T];return b}}s.LineTokens=g},965:(c,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.parseInclude=s.TopLevelRepositoryReference=s.TopLevelReference=s.RelativeReference=s.SelfReference=s.BaseReference=s.ScopeDependencyProcessor=s.ExternalReferenceCollector=s.TopLevelRepositoryRuleReference=s.TopLevelRuleReference=void 0;const o=a(878);class f{constructor(i){this.scopeName=i}toKey(){return this.scopeName}}s.TopLevelRuleReference=f;class u{constructor(i,g){this.scopeName=i,this.ruleName=g}toKey(){return`${this.scopeName}#${this.ruleName}`}}s.TopLevelRepositoryRuleReference=u;class v{constructor(){this._references=[],this._seenReferenceKeys=new Set,this.visitedRule=new Set}get references(){return this._references}add(i){const g=i.toKey();this._seenReferenceKeys.has(g)||(this._seenReferenceKeys.add(g),this._references.push(i))}}function m(y,i,g,d){const l=g.lookup(y.scopeName);if(!l){if(y.scopeName===i)throw new Error(`No grammar provided for <${i}>`);return}const h=g.lookup(i);y instanceof f?I({baseGrammar:h,selfGrammar:l},d):w(y.ruleName,{baseGrammar:h,selfGrammar:l,repository:l.repository},d);const b=g.injections(y.scopeName);if(b)for(const T of b)d.add(new f(T))}function w(y,i,g){i.repository&&i.repository[y]&&_([i.repository[y]],i,g)}function I(y,i){y.selfGrammar.patterns&&Array.isArray(y.selfGrammar.patterns)&&_(y.selfGrammar.patterns,{...y,repository:y.selfGrammar.repository},i),y.selfGrammar.injections&&_(Object.values(y.selfGrammar.injections),{...y,repository:y.selfGrammar.repository},i)}function _(y,i,g){for(const d of y){if(g.visitedRule.has(d))continue;g.visitedRule.add(d);const l=d.repository?o.mergeObjects({},i.repository,d.repository):i.repository;Array.isArray(d.patterns)&&_(d.patterns,{...i,repository:l},g);const h=d.include;if(!h)continue;const b=P(h);switch(b.kind){case 0:I({...i,selfGrammar:i.baseGrammar},g);break;case 1:I(i,g);break;case 2:w(b.ruleName,{...i,repository:l},g);break;case 3:case 4:const T=b.scopeName===i.selfGrammar.scopeName?i.selfGrammar:b.scopeName===i.baseGrammar.scopeName?i.baseGrammar:void 0;if(T){const N={baseGrammar:i.baseGrammar,selfGrammar:T,repository:l};b.kind===4?w(b.ruleName,N,g):I(N,g)}else b.kind===4?g.add(new u(b.scopeName,b.ruleName)):g.add(new f(b.scopeName))}}}s.ExternalReferenceCollector=v,s.ScopeDependencyProcessor=class{constructor(y,i){this.repo=y,this.initialScopeName=i,this.seenFullScopeRequests=new Set,this.seenPartialScopeRequests=new Set,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new f(this.initialScopeName)]}processQueue(){const y=this.Q;this.Q=[];const i=new v;for(const g of y)m(g,this.initialScopeName,this.repo,i);for(const g of i.references)if(g instanceof f){if(this.seenFullScopeRequests.has(g.scopeName))continue;this.seenFullScopeRequests.add(g.scopeName),this.Q.push(g)}else{if(this.seenFullScopeRequests.has(g.scopeName)||this.seenPartialScopeRequests.has(g.toKey()))continue;this.seenPartialScopeRequests.add(g.toKey()),this.Q.push(g)}}};class E{constructor(){this.kind=0}}s.BaseReference=E;class C{constructor(){this.kind=1}}s.SelfReference=C;class p{constructor(i){this.ruleName=i,this.kind=2}}s.RelativeReference=p;class S{constructor(i){this.scopeName=i,this.kind=3}}s.TopLevelReference=S;class A{constructor(i,g){this.scopeName=i,this.ruleName=g,this.kind=4}}function P(y){if(y==="$base")return new E;if(y==="$self")return new C;const i=y.indexOf("#");if(i===-1)return new S(y);if(i===0)return new p(y.substring(1));{const g=y.substring(0,i),d=y.substring(i+1);return new A(g,d)}}s.TopLevelRepositoryReference=A,s.parseInclude=P},391:function(c,s,a){var o=this&&this.__createBinding||(Object.create?function(u,v,m,w){w===void 0&&(w=m),Object.defineProperty(u,w,{enumerable:!0,get:function(){return v[m]}})}:function(u,v,m,w){w===void 0&&(w=m),u[w]=v[m]}),f=this&&this.__exportStar||function(u,v){for(var m in u)m==="default"||Object.prototype.hasOwnProperty.call(v,m)||o(v,u,m)};Object.defineProperty(s,"__esModule",{value:!0}),f(a(947),s)},47:(c,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LocalStackElement=s._tokenizeString=void 0;const o=a(350),f=a(44),u=a(792),v=a(878);class m{constructor(A,P){this.stack=A,this.stoppedEarly=P}}function w(S,A,P,y,i,g,d,l){const h=A.content.length;let b=!1,T=-1;if(d){const x=function(O,F,G,M,X,ne){let ee=X.beginRuleCapturedEOL?0:-1;const V=[];for(let z=X;z;z=z.pop()){const q=z.getRule(O);q instanceof u.BeginWhileRule&&V.push({rule:q,stack:z})}for(let z=V.pop();z;z=V.pop()){const{ruleScanner:q,findOptions:te}=_(z.rule,O,z.stack.endRule,G,M===ee),L=q.findNextMatchSync(F,M,te);if(o.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(q.toString())),!L){o.DebugFlags.InDebugMode&&console.log("  popping "+z.rule.debugName+" - "+z.rule.debugWhileRegExp),X=z.stack.pop();break}if(L.ruleId!==u.whileRuleId){X=z.stack.pop();break}L.captureIndices&&L.captureIndices.length&&(ne.produce(z.stack,L.captureIndices[0].start),C(O,F,G,z.stack,ne,z.rule.whileCaptures,L.captureIndices),ne.produce(z.stack,L.captureIndices[0].end),ee=L.captureIndices[0].end,L.captureIndices[0].end>M&&(M=L.captureIndices[0].end,G=!1))}return{stack:X,linePos:M,anchorPosition:ee,isFirstLine:G}}(S,A,P,y,i,g);i=x.stack,y=x.linePos,P=x.isFirstLine,T=x.anchorPosition}const N=Date.now();for(;!b;){if(l!==0&&Date.now()-N>l)return new m(i,!0);k()}return new m(i,!1);function k(){o.DebugFlags.InDebugMode&&(console.log(""),console.log(`@@scanNext ${y}: |${A.content.substr(y).replace(/\n$/,"\\n")}|`));const x=function(M,X,ne,ee,V,z){const q=function(Z,Le,ye,We,Me,Ze){const je=Me.getRule(Z),{ruleScanner:Ue,findOptions:ze}=I(je,Z,Me.endRule,ye,We===Ze);let De=0;o.DebugFlags.InDebugMode&&(De=v.performanceNow());const ve=Ue.findNextMatchSync(Le,We,ze);if(o.DebugFlags.InDebugMode){const He=v.performanceNow()-De;He>5&&console.warn(`Rule ${je.debugName} (${je.id}) matching took ${He} against '${Le}'`),console.log(`  scanning for (linePos: ${We}, anchorPosition: ${Ze})`),console.log(Ue.toString()),ve&&console.log(`matched rule id: ${ve.ruleId} from ${ve.captureIndices[0].start} to ${ve.captureIndices[0].end}`)}return ve?{captureIndices:ve.captureIndices,matchedRuleId:ve.ruleId}:null}(M,X,ne,ee,V,z),te=M.getInjections();if(te.length===0)return q;const L=function(Z,Le,ye,We,Me,Ze,je){let Ue,ze=Number.MAX_VALUE,De=null,ve=0;const He=Ze.contentNameScopesList.getScopeNames();for(let et=0,kt=Z.length;et<kt;et++){const qe=Z[et];if(!qe.matcher(He))continue;const un=Le.getRule(qe.ruleId),{ruleScanner:Rt,findOptions:fn}=I(un,Le,null,We,Me===je),tt=Rt.findNextMatchSync(ye,Me,fn);if(!tt)continue;o.DebugFlags.InDebugMode&&(console.log(`  matched injection: ${qe.debugSelector}`),console.log(Rt.toString()));const It=tt.captureIndices[0].start;if(!(It>=ze)&&(ze=It,De=tt.captureIndices,Ue=tt.ruleId,ve=qe.priority,ze===Me))break}return De?{priorityMatch:ve===-1,captureIndices:De,matchedRuleId:Ue}:null}(te,M,X,ne,ee,V,z);if(!L)return q;if(!q)return L;const j=q.captureIndices[0].start,U=L.captureIndices[0].start;return U<j||L.priorityMatch&&U===j?L:q}(S,A,P,y,i,T);if(!x)return o.DebugFlags.InDebugMode&&console.log("  no more matches."),g.produce(i,h),void(b=!0);const O=x.captureIndices,F=x.matchedRuleId,G=!!(O&&O.length>0)&&O[0].end>y;if(F===u.endRuleId){const M=i.getRule(S);o.DebugFlags.InDebugMode&&console.log("  popping "+M.debugName+" - "+M.debugEndRegExp),g.produce(i,O[0].start),i=i.withContentNameScopesList(i.nameScopesList),C(S,A,P,i,g,M.endCaptures,O),g.produce(i,O[0].end);const X=i;if(i=i.parent,T=X.getAnchorPos(),!G&&X.getEnterPos()===y)return o.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),i=X,g.produce(i,h),void(b=!0)}else{const M=S.getRule(F);g.produce(i,O[0].start);const X=i,ne=M.getName(A.content,O),ee=i.contentNameScopesList.pushAttributed(ne,S);if(i=i.push(F,y,T,O[0].end===h,null,ee,ee),M instanceof u.BeginEndRule){const V=M;o.DebugFlags.InDebugMode&&console.log("  pushing "+V.debugName+" - "+V.debugBeginRegExp),C(S,A,P,i,g,V.beginCaptures,O),g.produce(i,O[0].end),T=O[0].end;const z=V.getContentName(A.content,O),q=ee.pushAttributed(z,S);if(i=i.withContentNameScopesList(q),V.endHasBackReferences&&(i=i.withEndRule(V.getEndWithResolvedBackReferences(A.content,O))),!G&&X.hasSameRuleAs(i))return o.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),i=i.pop(),g.produce(i,h),void(b=!0)}else if(M instanceof u.BeginWhileRule){const V=M;o.DebugFlags.InDebugMode&&console.log("  pushing "+V.debugName),C(S,A,P,i,g,V.beginCaptures,O),g.produce(i,O[0].end),T=O[0].end;const z=V.getContentName(A.content,O),q=ee.pushAttributed(z,S);if(i=i.withContentNameScopesList(q),V.whileHasBackReferences&&(i=i.withEndRule(V.getWhileWithResolvedBackReferences(A.content,O))),!G&&X.hasSameRuleAs(i))return o.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),i=i.pop(),g.produce(i,h),void(b=!0)}else{const V=M;if(o.DebugFlags.InDebugMode&&console.log("  matched "+V.debugName+" - "+V.debugMatchRegExp),C(S,A,P,i,g,V.captures,O),g.produce(i,O[0].end),i=i.pop(),!G)return o.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),i=i.safePop(),g.produce(i,h),void(b=!0)}}O[0].end>y&&(y=O[0].end,P=!1)}}function I(S,A,P,y,i){return o.UseOnigurumaFindOptions?{ruleScanner:S.compile(A,P),findOptions:E(y,i)}:{ruleScanner:S.compileAG(A,P,y,i),findOptions:0}}function _(S,A,P,y,i){return o.UseOnigurumaFindOptions?{ruleScanner:S.compileWhile(A,P),findOptions:E(y,i)}:{ruleScanner:S.compileWhileAG(A,P,y,i),findOptions:0}}function E(S,A){let P=0;return S||(P|=1),A||(P|=4),P}function C(S,A,P,y,i,g,d){if(g.length===0)return;const l=A.content,h=Math.min(g.length,d.length),b=[],T=d[0].end;for(let N=0;N<h;N++){const k=g[N];if(k===null)continue;const x=d[N];if(x.length===0)continue;if(x.start>T)break;for(;b.length>0&&b[b.length-1].endPos<=x.start;)i.produceFromScopes(b[b.length-1].scopes,b[b.length-1].endPos),b.pop();if(b.length>0?i.produceFromScopes(b[b.length-1].scopes,x.start):i.produce(y,x.start),k.retokenizeCapturedWithRuleId){const F=k.getName(l,d),G=y.contentNameScopesList.pushAttributed(F,S),M=k.getContentName(l,d),X=G.pushAttributed(M,S),ne=y.push(k.retokenizeCapturedWithRuleId,x.start,-1,!1,null,G,X),ee=S.createOnigString(l.substring(0,x.end));w(S,ee,P&&x.start===0,x.start,ne,i,!1,0),f.disposeOnigString(ee);continue}const O=k.getName(l,d);if(O!==null){const F=(b.length>0?b[b.length-1].scopes:y.contentNameScopesList).pushAttributed(O,S);b.push(new p(F,x.end))}}for(;b.length>0;)i.produceFromScopes(b[b.length-1].scopes,b[b.length-1].endPos),b.pop()}s._tokenizeString=w;class p{constructor(A,P){this.scopes=A,this.endPos=P}}s.LocalStackElement=p},974:(c,s)=>{function a(v,m){throw new Error("Near offset "+v.pos+": "+m+" ~~~"+v.source.substr(v.pos,50)+"~~~")}Object.defineProperty(s,"__esModule",{value:!0}),s.parseJSON=void 0,s.parseJSON=function(v,m,w){let I=new o(v),_=new f,E=0,C=null,p=[],S=[];function A(){p.push(E),S.push(C)}function P(){E=p.pop(),C=S.pop()}function y(i){a(I,i)}for(;u(I,_);){if(E===0){if(C!==null&&y("too many constructs in root"),_.type===3){C={},w&&(C.$vscodeTextmateLocation=_.toLocation(m)),A(),E=1;continue}if(_.type===2){C=[],A(),E=4;continue}y("unexpected token in root")}if(E===2){if(_.type===5){P();continue}if(_.type===7){E=3;continue}y("expected , or }")}if(E===1||E===3){if(E===1&&_.type===5){P();continue}if(_.type===1){let i=_.value;if(u(I,_)&&_.type===6||y("expected colon"),u(I,_)||y("expected value"),E=2,_.type===1){C[i]=_.value;continue}if(_.type===8){C[i]=null;continue}if(_.type===9){C[i]=!0;continue}if(_.type===10){C[i]=!1;continue}if(_.type===11){C[i]=parseFloat(_.value);continue}if(_.type===2){let g=[];C[i]=g,A(),E=4,C=g;continue}if(_.type===3){let g={};w&&(g.$vscodeTextmateLocation=_.toLocation(m)),C[i]=g,A(),E=1,C=g;continue}}y("unexpected token in dict")}if(E===5){if(_.type===4){P();continue}if(_.type===7){E=6;continue}y("expected , or ]")}if(E===4||E===6){if(E===4&&_.type===4){P();continue}if(E=5,_.type===1){C.push(_.value);continue}if(_.type===8){C.push(null);continue}if(_.type===9){C.push(!0);continue}if(_.type===10){C.push(!1);continue}if(_.type===11){C.push(parseFloat(_.value));continue}if(_.type===2){let i=[];C.push(i),A(),E=4,C=i;continue}if(_.type===3){let i={};w&&(i.$vscodeTextmateLocation=_.toLocation(m)),C.push(i),A(),E=1,C=i;continue}y("unexpected token in array")}y("unknown state")}return S.length!==0&&y("unclosed constructs"),C};class o{constructor(m){this.source=m,this.pos=0,this.len=m.length,this.line=1,this.char=0}}class f{constructor(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}toLocation(m){return{filename:m,line:this.line,char:this.char}}}function u(v,m){m.value=null,m.type=0,m.offset=-1,m.len=-1,m.line=-1,m.char=-1;let w,I=v.source,_=v.pos,E=v.len,C=v.line,p=v.char;for(;;){if(_>=E)return!1;if(w=I.charCodeAt(_),w!==32&&w!==9&&w!==13){if(w!==10)break;_++,C++,p=0}else _++,p++}if(m.offset=_,m.line=C,m.char=p,w===34){for(m.type=1,_++,p++;;){if(_>=E)return!1;if(w=I.charCodeAt(_),_++,p++,w!==92){if(w===34)break}else _++,p++}m.value=I.substring(m.offset+1,_-1).replace(/\\u([0-9A-Fa-f]{4})/g,(S,A)=>String.fromCodePoint(parseInt(A,16))).replace(/\\(.)/g,(S,A)=>{switch(A){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:a(v,"invalid escape sequence")}throw new Error("unreachable")})}else if(w===91)m.type=2,_++,p++;else if(w===123)m.type=3,_++,p++;else if(w===93)m.type=4,_++,p++;else if(w===125)m.type=5,_++,p++;else if(w===58)m.type=6,_++,p++;else if(w===44)m.type=7,_++,p++;else if(w===110){if(m.type=8,_++,p++,w=I.charCodeAt(_),w!==117||(_++,p++,w=I.charCodeAt(_),w!==108)||(_++,p++,w=I.charCodeAt(_),w!==108))return!1;_++,p++}else if(w===116){if(m.type=9,_++,p++,w=I.charCodeAt(_),w!==114||(_++,p++,w=I.charCodeAt(_),w!==117)||(_++,p++,w=I.charCodeAt(_),w!==101))return!1;_++,p++}else if(w===102){if(m.type=10,_++,p++,w=I.charCodeAt(_),w!==97||(_++,p++,w=I.charCodeAt(_),w!==108)||(_++,p++,w=I.charCodeAt(_),w!==115)||(_++,p++,w=I.charCodeAt(_),w!==101))return!1;_++,p++}else for(m.type=11;;){if(_>=E)return!1;if(w=I.charCodeAt(_),!(w===46||w>=48&&w<=57||w===101||w===69||w===45||w===43))break;_++,p++}return m.len=_-m.offset,m.value===null&&(m.value=I.substr(m.offset,m.len)),v.pos=_,v.line=C,v.char=p,!0}},787:function(c,s,a){var o=this&&this.__createBinding||(Object.create?function(E,C,p,S){S===void 0&&(S=p),Object.defineProperty(E,S,{enumerable:!0,get:function(){return C[p]}})}:function(E,C,p,S){S===void 0&&(S=p),E[S]=C[p]}),f=this&&this.__exportStar||function(E,C){for(var p in E)p==="default"||Object.prototype.hasOwnProperty.call(C,p)||o(C,E,p)};Object.defineProperty(s,"__esModule",{value:!0}),s.applyStateStackDiff=s.diffStateStacksRefEq=s.parseRawGrammar=s.INITIAL=s.Registry=void 0;const u=a(391),v=a(50),m=a(652),w=a(583),I=a(965),_=a(442);Object.defineProperty(s,"applyStateStackDiff",{enumerable:!0,get:function(){return _.applyStateStackDiff}}),Object.defineProperty(s,"diffStateStacksRefEq",{enumerable:!0,get:function(){return _.diffStateStacksRefEq}}),f(a(44),s),s.Registry=class{constructor(E){this._options=E,this._syncRegistry=new m.SyncRegistry(w.Theme.createFromRawTheme(E.theme,E.colorMap),E.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(E,C){this._syncRegistry.setTheme(w.Theme.createFromRawTheme(E,C))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(E,C,p){return this.loadGrammarWithConfiguration(E,C,{embeddedLanguages:p})}loadGrammarWithConfiguration(E,C,p){return this._loadGrammar(E,C,p.embeddedLanguages,p.tokenTypes,new u.BalancedBracketSelectors(p.balancedBracketSelectors||[],p.unbalancedBracketSelectors||[]))}loadGrammar(E){return this._loadGrammar(E,0,null,null,null)}async _loadGrammar(E,C,p,S,A){const P=new I.ScopeDependencyProcessor(this._syncRegistry,E);for(;P.Q.length>0;)await Promise.all(P.Q.map(y=>this._loadSingleGrammar(y.scopeName))),P.processQueue();return this._grammarForScopeName(E,C,p,S,A)}async _loadSingleGrammar(E){return this._ensureGrammarCache.has(E)||this._ensureGrammarCache.set(E,this._doLoadSingleGrammar(E)),this._ensureGrammarCache.get(E)}async _doLoadSingleGrammar(E){const C=await this._options.loadGrammar(E);if(C){const p=typeof this._options.getInjections=="function"?this._options.getInjections(E):void 0;this._syncRegistry.addGrammar(C,p)}}async addGrammar(E,C=[],p=0,S=null){return this._syncRegistry.addGrammar(E,C),await this._grammarForScopeName(E.scopeName,p,S)}_grammarForScopeName(E,C=0,p=null,S=null,A=null){return this._syncRegistry.grammarForScopeName(E,C,p,S,A)}},s.INITIAL=u.StateStackImpl.NULL,s.parseRawGrammar=v.parseRawGrammar},736:(c,s)=>{function a(o){return!!o&&!!o.match(/[\w\.:]+/)}Object.defineProperty(s,"__esModule",{value:!0}),s.createMatchers=void 0,s.createMatchers=function(o,f){const u=[],v=function(_){let E=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,C=E.exec(_);return{next:()=>{if(!C)return null;const p=C[0];return C=E.exec(_),p}}}(o);let m=v.next();for(;m!==null;){let _=0;if(m.length===2&&m.charAt(1)===":"){switch(m.charAt(0)){case"R":_=1;break;case"L":_=-1;break;default:console.log(`Unknown priority ${m} in scope selector`)}m=v.next()}let E=I();if(u.push({matcher:E,priority:_}),m!==",")break;m=v.next()}return u;function w(){if(m==="-"){m=v.next();const _=w();return E=>!!_&&!_(E)}if(m==="("){m=v.next();const _=function(){const E=[];let C=I();for(;C&&(E.push(C),m==="|"||m===",");){do m=v.next();while(m==="|"||m===",");C=I()}return p=>E.some(S=>S(p))}();return m===")"&&(m=v.next()),_}if(a(m)){const _=[];do _.push(m),m=v.next();while(a(m));return E=>f(_,E)}return null}function I(){const _=[];let E=w();for(;E;)_.push(E),E=w();return C=>_.every(p=>p(C))}}},44:(c,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.disposeOnigString=void 0,s.disposeOnigString=function(a){typeof a.dispose=="function"&&a.dispose()}},50:(c,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.parseRawGrammar=void 0;const o=a(69),f=a(350),u=a(974);s.parseRawGrammar=function(v,m=null){return m!==null&&/\.json$/.test(m)?(w=v,I=m,f.DebugFlags.InDebugMode?u.parseJSON(w,I,!0):JSON.parse(w)):function(_,E){return f.DebugFlags.InDebugMode?o.parseWithLocation(_,E,"$vscodeTextmateLocation"):o.parsePLIST(_)}(v,m);var w,I}},69:(c,s)=>{function a(o,f,u){const v=o.length;let m=0,w=1,I=0;function _(L){if(u===null)m+=L;else for(;L>0;)o.charCodeAt(m)===10?(m++,w++,I=0):(m++,I++),L--}function E(L){u===null?m=L:_(L-m)}function C(){for(;m<v;){let L=o.charCodeAt(m);if(L!==32&&L!==9&&L!==13&&L!==10)break;_(1)}}function p(L){return o.substr(m,L.length)===L&&(_(L.length),!0)}function S(L){let j=o.indexOf(L,m);E(j!==-1?j+L.length:v)}function A(L){let j=o.indexOf(L,m);if(j!==-1){let U=o.substring(m,j);return E(j+L.length),U}{let U=o.substr(m);return E(v),U}}v>0&&o.charCodeAt(0)===65279&&(m=1);let P=0,y=null,i=[],g=[],d=null;function l(L,j){i.push(P),g.push(y),P=L,y=j}function h(){if(i.length===0)return b("illegal state stack");P=i.pop(),y=g.pop()}function b(L){throw new Error("Near offset "+m+": "+L+" ~~~"+o.substr(m,50)+"~~~")}const T=function(){if(d===null)return b("missing <key>");let L={};u!==null&&(L[u]={filename:f,line:w,char:I}),y[d]=L,d=null,l(1,L)},N=function(){if(d===null)return b("missing <key>");let L=[];y[d]=L,d=null,l(2,L)},k=function(){let L={};u!==null&&(L[u]={filename:f,line:w,char:I}),y.push(L),l(1,L)},x=function(){let L=[];y.push(L),l(2,L)};function O(){if(P!==1)return b("unexpected </dict>");h()}function F(){return P===1||P!==2?b("unexpected </array>"):void h()}function G(L){if(P===1){if(d===null)return b("missing <key>");y[d]=L,d=null}else P===2?y.push(L):y=L}function M(L){if(isNaN(L))return b("cannot parse float");if(P===1){if(d===null)return b("missing <key>");y[d]=L,d=null}else P===2?y.push(L):y=L}function X(L){if(isNaN(L))return b("cannot parse integer");if(P===1){if(d===null)return b("missing <key>");y[d]=L,d=null}else P===2?y.push(L):y=L}function ne(L){if(P===1){if(d===null)return b("missing <key>");y[d]=L,d=null}else P===2?y.push(L):y=L}function ee(L){if(P===1){if(d===null)return b("missing <key>");y[d]=L,d=null}else P===2?y.push(L):y=L}function V(L){if(P===1){if(d===null)return b("missing <key>");y[d]=L,d=null}else P===2?y.push(L):y=L}function z(){let L=A(">"),j=!1;return L.charCodeAt(L.length-1)===47&&(j=!0,L=L.substring(0,L.length-1)),{name:L.trim(),isClosed:j}}function q(L){if(L.isClosed)return"";let j=A("</");return S(">"),j.replace(/&#([0-9]+);/g,function(U,Z){return String.fromCodePoint(parseInt(Z,10))}).replace(/&#x([0-9a-f]+);/g,function(U,Z){return String.fromCodePoint(parseInt(Z,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(U){switch(U){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return U})}for(;m<v&&(C(),!(m>=v));){const L=o.charCodeAt(m);if(_(1),L!==60)return b("expected <");if(m>=v)return b("unexpected end of input");const j=o.charCodeAt(m);if(j===63){_(1),S("?>");continue}if(j===33){if(_(1),p("--")){S("-->");continue}S(">");continue}if(j===47){if(_(1),C(),p("plist")){S(">");continue}if(p("dict")){S(">"),O();continue}if(p("array")){S(">"),F();continue}return b("unexpected closed tag")}let U=z();switch(U.name){case"dict":P===1?T():P===2?k():(y={},u!==null&&(y[u]={filename:f,line:w,char:I}),l(1,y)),U.isClosed&&O();continue;case"array":P===1?N():P===2?x():(y=[],l(2,y)),U.isClosed&&F();continue;case"key":te=q(U),P!==1?b("unexpected <key>"):d!==null?b("too many <key>"):d=te;continue;case"string":G(q(U));continue;case"real":M(parseFloat(q(U)));continue;case"integer":X(parseInt(q(U),10));continue;case"date":ne(new Date(q(U)));continue;case"data":ee(q(U));continue;case"true":q(U),V(!0);continue;case"false":q(U),V(!1);continue}if(!/^plist/.test(U.name))return b("unexpected opened tag "+U.name)}var te;return y}Object.defineProperty(s,"__esModule",{value:!0}),s.parsePLIST=s.parseWithLocation=void 0,s.parseWithLocation=function(o,f,u){return a(o,f,u)},s.parsePLIST=function(o){return a(o,null,null)}},652:(c,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SyncRegistry=void 0;const o=a(391);s.SyncRegistry=class{constructor(f,u){this._onigLibPromise=u,this._grammars=new Map,this._rawGrammars=new Map,this._injectionGrammars=new Map,this._theme=f}dispose(){for(const f of this._grammars.values())f.dispose()}setTheme(f){this._theme=f}getColorMap(){return this._theme.getColorMap()}addGrammar(f,u){this._rawGrammars.set(f.scopeName,f),u&&this._injectionGrammars.set(f.scopeName,u)}lookup(f){return this._rawGrammars.get(f)}injections(f){return this._injectionGrammars.get(f)}getDefaults(){return this._theme.getDefaults()}themeMatch(f){return this._theme.match(f)}async grammarForScopeName(f,u,v,m,w){if(!this._grammars.has(f)){let I=this._rawGrammars.get(f);if(!I)return null;this._grammars.set(f,o.createGrammar(f,I,u,v,m,w,this,await this._onigLibPromise))}return this._grammars.get(f)}}},792:(c,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CompiledRule=s.RegExpSourceList=s.RegExpSource=s.RuleFactory=s.BeginWhileRule=s.BeginEndRule=s.IncludeOnlyRule=s.MatchRule=s.CaptureRule=s.Rule=s.ruleIdToNumber=s.ruleIdFromNumber=s.whileRuleId=s.endRuleId=void 0;const o=a(878),f=a(965),u=/\\(\d+)/,v=/\\(\d+)/g;s.endRuleId=-1,s.whileRuleId=-2,s.ruleIdFromNumber=function(y){return y},s.ruleIdToNumber=function(y){return y};class m{constructor(i,g,d,l){this.$location=i,this.id=g,this._name=d||null,this._nameIsCapturing=o.RegexSource.hasCaptures(this._name),this._contentName=l||null,this._contentNameIsCapturing=o.RegexSource.hasCaptures(this._contentName)}get debugName(){const i=this.$location?`${o.basename(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${i}`}getName(i,g){return this._nameIsCapturing&&this._name!==null&&i!==null&&g!==null?o.RegexSource.replaceCaptures(this._name,i,g):this._name}getContentName(i,g){return this._contentNameIsCapturing&&this._contentName!==null?o.RegexSource.replaceCaptures(this._contentName,i,g):this._contentName}}s.Rule=m;class w extends m{constructor(i,g,d,l,h){super(i,g,d,l),this.retokenizeCapturedWithRuleId=h}dispose(){}collectPatterns(i,g){throw new Error("Not supported!")}compile(i,g){throw new Error("Not supported!")}compileAG(i,g,d,l){throw new Error("Not supported!")}}s.CaptureRule=w;class I extends m{constructor(i,g,d,l,h){super(i,g,d,null),this._match=new S(l,this.id),this.captures=h,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(i,g){g.push(this._match)}compile(i,g){return this._getCachedCompiledPatterns(i).compile(i)}compileAG(i,g,d,l){return this._getCachedCompiledPatterns(i).compileAG(i,d,l)}_getCachedCompiledPatterns(i){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new A,this.collectPatterns(i,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}s.MatchRule=I;class _ extends m{constructor(i,g,d,l,h){super(i,g,d,l),this.patterns=h.patterns,this.hasMissingPatterns=h.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(i,g){for(const d of this.patterns)i.getRule(d).collectPatterns(i,g)}compile(i,g){return this._getCachedCompiledPatterns(i).compile(i)}compileAG(i,g,d,l){return this._getCachedCompiledPatterns(i).compileAG(i,d,l)}_getCachedCompiledPatterns(i){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new A,this.collectPatterns(i,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}s.IncludeOnlyRule=_;class E extends m{constructor(i,g,d,l,h,b,T,N,k,x){super(i,g,d,l),this._begin=new S(h,this.id),this.beginCaptures=b,this._end=new S(T||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=N,this.applyEndPatternLast=k||!1,this.patterns=x.patterns,this.hasMissingPatterns=x.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(i,g){return this._end.resolveBackReferences(i,g)}collectPatterns(i,g){g.push(this._begin)}compile(i,g){return this._getCachedCompiledPatterns(i,g).compile(i)}compileAG(i,g,d,l){return this._getCachedCompiledPatterns(i,g).compileAG(i,d,l)}_getCachedCompiledPatterns(i,g){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new A;for(const d of this.patterns)i.getRule(d).collectPatterns(i,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,g):this._cachedCompiledPatterns.setSource(0,g)),this._cachedCompiledPatterns}}s.BeginEndRule=E;class C extends m{constructor(i,g,d,l,h,b,T,N,k){super(i,g,d,l),this._begin=new S(h,this.id),this.beginCaptures=b,this.whileCaptures=N,this._while=new S(T,s.whileRuleId),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=k.patterns,this.hasMissingPatterns=k.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(i,g){return this._while.resolveBackReferences(i,g)}collectPatterns(i,g){g.push(this._begin)}compile(i,g){return this._getCachedCompiledPatterns(i).compile(i)}compileAG(i,g,d,l){return this._getCachedCompiledPatterns(i).compileAG(i,d,l)}_getCachedCompiledPatterns(i){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new A;for(const g of this.patterns)i.getRule(g).collectPatterns(i,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(i,g){return this._getCachedCompiledWhilePatterns(i,g).compile(i)}compileWhileAG(i,g,d,l){return this._getCachedCompiledWhilePatterns(i,g).compileAG(i,d,l)}_getCachedCompiledWhilePatterns(i,g){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new A,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,g||""),this._cachedCompiledWhilePatterns}}s.BeginWhileRule=C;class p{static createCaptureRule(i,g,d,l,h){return i.registerRule(b=>new w(g,b,d,l,h))}static getCompiledRuleId(i,g,d){return i.id||g.registerRule(l=>{if(i.id=l,i.match)return new I(i.$vscodeTextmateLocation,i.id,i.name,i.match,p._compileCaptures(i.captures,g,d));if(i.begin===void 0){i.repository&&(d=o.mergeObjects({},d,i.repository));let h=i.patterns;return h===void 0&&i.include&&(h=[{include:i.include}]),new _(i.$vscodeTextmateLocation,i.id,i.name,i.contentName,p._compilePatterns(h,g,d))}return i.while?new C(i.$vscodeTextmateLocation,i.id,i.name,i.contentName,i.begin,p._compileCaptures(i.beginCaptures||i.captures,g,d),i.while,p._compileCaptures(i.whileCaptures||i.captures,g,d),p._compilePatterns(i.patterns,g,d)):new E(i.$vscodeTextmateLocation,i.id,i.name,i.contentName,i.begin,p._compileCaptures(i.beginCaptures||i.captures,g,d),i.end,p._compileCaptures(i.endCaptures||i.captures,g,d),i.applyEndPatternLast,p._compilePatterns(i.patterns,g,d))}),i.id}static _compileCaptures(i,g,d){let l=[];if(i){let h=0;for(const b in i){if(b==="$vscodeTextmateLocation")continue;const T=parseInt(b,10);T>h&&(h=T)}for(let b=0;b<=h;b++)l[b]=null;for(const b in i){if(b==="$vscodeTextmateLocation")continue;const T=parseInt(b,10);let N=0;i[b].patterns&&(N=p.getCompiledRuleId(i[b],g,d)),l[T]=p.createCaptureRule(g,i[b].$vscodeTextmateLocation,i[b].name,i[b].contentName,N)}}return l}static _compilePatterns(i,g,d){let l=[];if(i)for(let h=0,b=i.length;h<b;h++){const T=i[h];let N=-1;if(T.include){const k=f.parseInclude(T.include);switch(k.kind){case 0:case 1:N=p.getCompiledRuleId(d[T.include],g,d);break;case 2:let x=d[k.ruleName];x&&(N=p.getCompiledRuleId(x,g,d));break;case 3:case 4:const O=k.scopeName,F=k.kind===4?k.ruleName:null,G=g.getExternalGrammar(O,d);if(G)if(F){let M=G.repository[F];M&&(N=p.getCompiledRuleId(M,g,G.repository))}else N=p.getCompiledRuleId(G.repository.$self,g,G.repository)}}else N=p.getCompiledRuleId(T,g,d);if(N!==-1){const k=g.getRule(N);let x=!1;if((k instanceof _||k instanceof E||k instanceof C)&&k.hasMissingPatterns&&k.patterns.length===0&&(x=!0),x)continue;l.push(N)}}return{patterns:l,hasMissingPatterns:(i?i.length:0)!==l.length}}}s.RuleFactory=p;class S{constructor(i,g){if(i){const d=i.length;let l=0,h=[],b=!1;for(let T=0;T<d;T++)if(i.charAt(T)==="\\"&&T+1<d){const N=i.charAt(T+1);N==="z"?(h.push(i.substring(l,T)),h.push("$(?!\\n)(?<!\\n)"),l=T+2):N!=="A"&&N!=="G"||(b=!0),T++}this.hasAnchor=b,l===0?this.source=i:(h.push(i.substring(l,d)),this.source=h.join(""))}else this.hasAnchor=!1,this.source=i;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=g,this.hasBackReferences=u.test(this.source)}clone(){return new S(this.source,this.ruleId)}setSource(i){this.source!==i&&(this.source=i,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(i,g){let d=g.map(l=>i.substring(l.start,l.end));return v.lastIndex=0,this.source.replace(v,(l,h)=>o.escapeRegExpCharacters(d[parseInt(h,10)]||""))}_buildAnchorCache(){let i,g,d,l,h=[],b=[],T=[],N=[];for(i=0,g=this.source.length;i<g;i++)d=this.source.charAt(i),h[i]=d,b[i]=d,T[i]=d,N[i]=d,d==="\\"&&i+1<g&&(l=this.source.charAt(i+1),l==="A"?(h[i+1]="",b[i+1]="",T[i+1]="A",N[i+1]="A"):l==="G"?(h[i+1]="",b[i+1]="G",T[i+1]="",N[i+1]="G"):(h[i+1]=l,b[i+1]=l,T[i+1]=l,N[i+1]=l),i++);return{A0_G0:h.join(""),A0_G1:b.join(""),A1_G0:T.join(""),A1_G1:N.join("")}}resolveAnchors(i,g){return this.hasAnchor&&this._anchorCache?i?g?this._anchorCache.A1_G1:this._anchorCache.A1_G0:g?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source}}s.RegExpSource=S;class A{constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(i){this._items.push(i),this._hasAnchors=this._hasAnchors||i.hasAnchor}unshift(i){this._items.unshift(i),this._hasAnchors=this._hasAnchors||i.hasAnchor}length(){return this._items.length}setSource(i,g){this._items[i].source!==g&&(this._disposeCaches(),this._items[i].setSource(g))}compile(i){if(!this._cached){let g=this._items.map(d=>d.source);this._cached=new P(i,g,this._items.map(d=>d.ruleId))}return this._cached}compileAG(i,g,d){return this._hasAnchors?g?d?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(i,g,d)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(i,g,d)),this._anchorCache.A1_G0):d?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(i,g,d)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(i,g,d)),this._anchorCache.A0_G0):this.compile(i)}_resolveAnchors(i,g,d){let l=this._items.map(h=>h.resolveAnchors(g,d));return new P(i,l,this._items.map(h=>h.ruleId))}}s.RegExpSourceList=A;class P{constructor(i,g,d){this.regExps=g,this.rules=d,this.scanner=i.createOnigScanner(g)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const i=[];for(let g=0,d=this.rules.length;g<d;g++)i.push("   - "+this.rules[g]+": "+this.regExps[g]);return i.join(`
`)}findNextMatchSync(i,g,d){const l=this.scanner.findNextMatchSync(i,g,d);return l?{ruleId:this.rules[l.index],captureIndices:l.captureIndices}:null}}s.CompiledRule=P},583:(c,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ThemeTrieElement=s.ThemeTrieElementRule=s.ColorMap=s.fontStyleToString=s.ParsedThemeRule=s.parseTheme=s.StyleAttributes=s.ScopeStack=s.Theme=void 0;const o=a(878);class f{constructor(A,P,y){this._colorMap=A,this._defaults=P,this._root=y,this._cachedMatchRoot=new o.CachedFn(i=>this._root.match(i))}static createFromRawTheme(A,P){return this.createFromParsedTheme(w(A),P)}static createFromParsedTheme(A,P){return function(y,i){y.sort((N,k)=>{let x=o.strcmp(N.scope,k.scope);return x!==0?x:(x=o.strArrCmp(N.parentScopes,k.parentScopes),x!==0?x:N.index-k.index)});let g=0,d="#000000",l="#ffffff";for(;y.length>=1&&y[0].scope==="";){let N=y.shift();N.fontStyle!==-1&&(g=N.fontStyle),N.foreground!==null&&(d=N.foreground),N.background!==null&&(l=N.background)}let h=new _(i),b=new m(g,h.getId(d),h.getId(l)),T=new p(new C(0,null,-1,0,0),[]);for(let N=0,k=y.length;N<k;N++){let x=y[N];T.insert(0,x.scope,x.parentScopes,x.fontStyle,h.getId(x.foreground),h.getId(x.background))}return new f(h,b,T)}(A,P)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(A){if(A===null)return this._defaults;const P=A.scopeName,y=this._cachedMatchRoot.get(P).find(i=>function(g,d){if(d.length===0)return!0;for(let l=0;l<d.length;l++){let h=d[l],b=!1;if(h===">"){if(l===d.length-1)return!1;h=d[++l],b=!0}for(;g&&!v(g.scopeName,h);){if(b)return!1;g=g.parent}if(!g)return!1;g=g.parent}return!0}(A.parent,i.parentScopes));return y?new m(y.fontStyle,y.foreground,y.background):null}}s.Theme=f;class u{constructor(A,P){this.parent=A,this.scopeName=P}static push(A,P){for(const y of P)A=new u(A,y);return A}static from(...A){let P=null;for(let y=0;y<A.length;y++)P=new u(P,A[y]);return P}push(A){return new u(this,A)}getSegments(){let A=this;const P=[];for(;A;)P.push(A.scopeName),A=A.parent;return P.reverse(),P}toString(){return this.getSegments().join(" ")}extends(A){return this===A||this.parent!==null&&this.parent.extends(A)}getExtensionIfDefined(A){const P=[];let y=this;for(;y&&y!==A;)P.push(y.scopeName),y=y.parent;return y===A?P.reverse():void 0}}function v(S,A){return A===S||S.startsWith(A)&&S[A.length]==="."}s.ScopeStack=u;class m{constructor(A,P,y){this.fontStyle=A,this.foregroundId=P,this.backgroundId=y}}function w(S){if(!S)return[];if(!S.settings||!Array.isArray(S.settings))return[];let A=S.settings,P=[],y=0;for(let i=0,g=A.length;i<g;i++){let d,l=A[i];if(!l.settings)continue;if(typeof l.scope=="string"){let N=l.scope;N=N.replace(/^[,]+/,""),N=N.replace(/[,]+$/,""),d=N.split(",")}else d=Array.isArray(l.scope)?l.scope:[""];let h=-1;if(typeof l.settings.fontStyle=="string"){h=0;let N=l.settings.fontStyle.split(" ");for(let k=0,x=N.length;k<x;k++)switch(N[k]){case"italic":h|=1;break;case"bold":h|=2;break;case"underline":h|=4;break;case"strikethrough":h|=8}}let b=null;typeof l.settings.foreground=="string"&&o.isValidHexColor(l.settings.foreground)&&(b=l.settings.foreground);let T=null;typeof l.settings.background=="string"&&o.isValidHexColor(l.settings.background)&&(T=l.settings.background);for(let N=0,k=d.length;N<k;N++){let x=d[N].trim().split(" "),O=x[x.length-1],F=null;x.length>1&&(F=x.slice(0,x.length-1),F.reverse()),P[y++]=new I(O,F,i,h,b,T)}}return P}s.StyleAttributes=m,s.parseTheme=w;class I{constructor(A,P,y,i,g,d){this.scope=A,this.parentScopes=P,this.index=y,this.fontStyle=i,this.foreground=g,this.background=d}}s.ParsedThemeRule=I,s.fontStyleToString=function(S){if(S===-1)return"not set";let A="";return 1&S&&(A+="italic "),2&S&&(A+="bold "),4&S&&(A+="underline "),8&S&&(A+="strikethrough "),A===""&&(A="none"),A.trim()};class _{constructor(A){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(A)){this._isFrozen=!0;for(let P=0,y=A.length;P<y;P++)this._color2id[A[P]]=P,this._id2color[P]=A[P]}else this._isFrozen=!1}getId(A){if(A===null)return 0;A=A.toUpperCase();let P=this._color2id[A];if(P)return P;if(this._isFrozen)throw new Error(`Missing color in color map - ${A}`);return P=++this._lastColorId,this._color2id[A]=P,this._id2color[P]=A,P}getColorMap(){return this._id2color.slice(0)}}s.ColorMap=_;const E=Object.freeze([]);class C{constructor(A,P,y,i,g){this.scopeDepth=A,this.parentScopes=P||E,this.fontStyle=y,this.foreground=i,this.background=g}clone(){return new C(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(A){let P=[];for(let y=0,i=A.length;y<i;y++)P[y]=A[y].clone();return P}acceptOverwrite(A,P,y,i){this.scopeDepth>A?console.log("how did this happen?"):this.scopeDepth=A,P!==-1&&(this.fontStyle=P),y!==0&&(this.foreground=y),i!==0&&(this.background=i)}}s.ThemeTrieElementRule=C;class p{constructor(A,P=[],y={}){this._mainRule=A,this._children=y,this._rulesWithParentScopes=P}static _cmpBySpecificity(A,P){if(A.scopeDepth!==P.scopeDepth)return P.scopeDepth-A.scopeDepth;let y=0,i=0;for(;A.parentScopes[y]===">"&&y++,P.parentScopes[i]===">"&&i++,!(y>=A.parentScopes.length||i>=P.parentScopes.length);){const g=P.parentScopes[i].length-A.parentScopes[y].length;if(g!==0)return g;y++,i++}return P.parentScopes.length-A.parentScopes.length}match(A){if(A!==""){let y,i,g=A.indexOf(".");if(g===-1?(y=A,i=""):(y=A.substring(0,g),i=A.substring(g+1)),this._children.hasOwnProperty(y))return this._children[y].match(i)}const P=this._rulesWithParentScopes.concat(this._mainRule);return P.sort(p._cmpBySpecificity),P}insert(A,P,y,i,g,d){if(P==="")return void this._doInsertHere(A,y,i,g,d);let l,h,b,T=P.indexOf(".");T===-1?(l=P,h=""):(l=P.substring(0,T),h=P.substring(T+1)),this._children.hasOwnProperty(l)?b=this._children[l]:(b=new p(this._mainRule.clone(),C.cloneArr(this._rulesWithParentScopes)),this._children[l]=b),b.insert(A+1,h,y,i,g,d)}_doInsertHere(A,P,y,i,g){if(P!==null){for(let d=0,l=this._rulesWithParentScopes.length;d<l;d++){let h=this._rulesWithParentScopes[d];if(o.strArrCmp(h.parentScopes,P)===0)return void h.acceptOverwrite(A,y,i,g)}y===-1&&(y=this._mainRule.fontStyle),i===0&&(i=this._mainRule.foreground),g===0&&(g=this._mainRule.background),this._rulesWithParentScopes.push(new C(A,P,y,i,g))}else this._mainRule.acceptOverwrite(A,y,i,g)}}s.ThemeTrieElement=p},878:(c,s)=>{function a(u){return Array.isArray(u)?function(v){let m=[];for(let w=0,I=v.length;w<I;w++)m[w]=a(v[w]);return m}(u):typeof u=="object"?function(v){let m={};for(let w in v)m[w]=a(v[w]);return m}(u):u}Object.defineProperty(s,"__esModule",{value:!0}),s.performanceNow=s.CachedFn=s.escapeRegExpCharacters=s.isValidHexColor=s.strArrCmp=s.strcmp=s.RegexSource=s.basename=s.mergeObjects=s.clone=void 0,s.clone=function(u){return a(u)},s.mergeObjects=function(u,...v){return v.forEach(m=>{for(let w in m)u[w]=m[w]}),u},s.basename=function u(v){const m=~v.lastIndexOf("/")||~v.lastIndexOf("\\");return m===0?v:~m==v.length-1?u(v.substring(0,v.length-1)):v.substr(1+~m)};let o=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g;function f(u,v){return u<v?-1:u>v?1:0}s.RegexSource=class{static hasCaptures(u){return u!==null&&(o.lastIndex=0,o.test(u))}static replaceCaptures(u,v,m){return u.replace(o,(w,I,_,E)=>{let C=m[parseInt(I||_,10)];if(!C)return w;{let p=v.substring(C.start,C.end);for(;p[0]===".";)p=p.substring(1);switch(E){case"downcase":return p.toLowerCase();case"upcase":return p.toUpperCase();default:return p}}})}},s.strcmp=f,s.strArrCmp=function(u,v){if(u===null&&v===null)return 0;if(!u)return-1;if(!v)return 1;let m=u.length,w=v.length;if(m===w){for(let I=0;I<m;I++){let _=f(u[I],v[I]);if(_!==0)return _}return 0}return m-w},s.isValidHexColor=function(u){return!!(/^#[0-9a-f]{6}$/i.test(u)||/^#[0-9a-f]{8}$/i.test(u)||/^#[0-9a-f]{3}$/i.test(u)||/^#[0-9a-f]{4}$/i.test(u))},s.escapeRegExpCharacters=function(u){return u.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},s.CachedFn=class{constructor(u){this.fn=u,this.cache=new Map}get(u){if(this.cache.has(u))return this.cache.get(u);const v=this.fn(u);return this.cache.set(u,v),v}},s.performanceNow=typeof performance>"u"?function(){return Date.now()}:function(){return performance.now()}}},r={};return function c(s){var a=r[s];if(a!==void 0)return a.exports;var o=r[s]={exports:{}};return n[s].call(o.exports,o,o.exports,c),o.exports}(787)})())})(Rs);var $n=Rs.exports;function kr(t,e,n){let r;me(()=>{var c;const s=(c=e.style)==null?void 0:c[n];s!==r&&((r=s)!=null?t.style.setProperty(n,typeof s>"u"?null:s.toString()):t.style.removeProperty(n))})}function aa(t){let e=parseInt(t.slice(1),16),n=e>>16&255,r=e>>8&255,c=e&255;return[n,r,c]}function ca(t,e,n){const r=[t,e,n].map(c=>(c/=255,c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)));return r[0]*.2126+r[1]*.7152+r[2]*.0722}function la(t,e,n){const r=typeof t=="function"?t():t;return r?e(r):n?n():void 0}function wn(t,e,n){return()=>la(t,e,n)}function Rr(...t){function e(){const n=new Array(t.length);for(let r=0;r<t.length;r++){const c=typeof t[r]=="function"?t[r]():t[r];if(!c)return;n[r]=c}return n}return e}function ua(t){return t===0?1:Math.floor(Math.log10(Math.abs(t)))+1}function Ir(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function fa(t){let e=0;for(const n of t)n.length>e&&(e=n.length);return e}class ha{constructor(){Ps(this,rt,[])}peek(){return Ve(this,rt)[Ve(this,rt).length-1]}push(e){Ve(this,rt).push(e)}pop(){return Ve(this,rt).pop()}}rt=new WeakMap;var da=$e("<pre part=line>"),pa=$e("<div part=root><code part=code></code><textarea part=textarea autocomplete=off inputmode=none></textarea><code aria-hidden>&nbsp;");const Ee=100,Dt=50,Sn={},ga=new $n.Registry({onigLib:oa,loadGrammar:t=>Es("grammar",t).then(e=>(e.scopeName=t,e))}),[ma]=Je(()=>Be(async()=>fetch(Cs("oniguruma",null)).then(t=>t.arrayBuffer()).then(t=>Yn.loadWASM(t)).then(()=>!0)));class ya{constructor(e){Zo(this,"themeData"),Ps(this,_t,{}),this.themeData=e}resolveScope(e){const n=e.join("-");if(Ve(this,_t)[n])return Ve(this,_t)[n];let r={};for(let c=0;c<e.length;c++){const s=e[c];for(const a of this.themeData.tokenColors){const o=Array.isArray(a.scope)?a.scope:[a.scope];for(const f of o)s.startsWith(f||"")&&(r={...r,...a.settings})}}return Ve(this,_t)[n]=r}getBackgroundColor(){var e;return((e=this.themeData.colors)==null?void 0:e["editor.background"])||void 0}getForegroundColor(){var e;return((e=this.themeData.colors)==null?void 0:e["editor.foreground"])||void 0}}_t=new WeakMap;function _a(t,e){let n=!1;return t===e?!0:!t||!e?!1:(t.ruleId!==e.ruleId&&(n=!0),t.depth!==e.depth&&(n=!0),xr(t.nameScopesList,e.nameScopesList)||(n=!0),xr(t.contentNameScopesList,e.contentNameScopesList)||(n=!0),!n)}function xr(t,e){var n,r;return!t&&!e?!0:!(!t||!e||((n=t.scopePath)==null?void 0:n.scopeName)!==((r=e.scopePath)==null?void 0:r.scopeName)||t.tokenAttributes!==e.tokenAttributes)}const Is=Yr(null);function ba(){const t=Qr(Is);if(!t)throw"useTextarea should be used in a descendant of TmTextarea";return t}function va(t){function e(n){const r=ba(),c=r.segments.peek(),[s,a]=ue(c?.stack||$n.INITIAL,{equals:_a}),o=n.index*Ee,f=o+Ee,u=na(wn(Rr(()=>r.tokenizer,()=>r.theme),([v,m])=>{let w=c?.stack||$n.INITIAL;const I=r.lines.slice(o,f).map(_=>{const{ruleStack:E,tokens:C}=v.tokenizeLine(_,w);return w=E,C.map(p=>{const S=m.resolveScope(p.scopes),A=_.slice(p.startIndex,p.endIndex);return`<span style="${S.foreground?`color:${S.foreground};`:""}${S.fontStyle?`text-decoration:${S.fontStyle}`:""}">${Ir(A)}</span>`}).join("")});return a(w),I},()=>r.lines.slice(o,f).map(Ir)));return r.segments.push({get stack(){return s()}}),Ae(()=>r.segments.pop()),we(St,{get when(){return r.isSegmentVisible(n.index*Ee)},get children(){return we(or,{get each(){return Array.from({length:Ee})},children:(v,m)=>we(St,{get when(){return r.isVisible(n.index*Ee+m)},get children(){var w=da();return me(I=>{var _,E=t.line,C=(_=u())==null?void 0:_[m],p=n.index*Ee+m;return E!==I.e&&gt(w,I.e=E),C!==I.t&&(w.innerHTML=I.t=C),p!==I.a&&((I.a=p)!=null?w.style.setProperty("--tm-line-number",p):w.style.removeProperty("--tm-line-number")),I},{e:void 0,t:void 0,a:void 0}),w}})})}})}return function(r){const[c,s]=Nn(ct({editable:!0},r),["class","grammar","onInput","value","style","theme","editable","onScroll","textareaRef"]);let a;const[o,f]=ue(),[u,v]=ue(),[m,w]=ue(0),[I,_]=ue(r.value),[E]=Be(Rr(()=>r.grammar,ma),async([l])=>l in Sn?Sn[l]:Sn[l]=await ga.loadGrammar(l)),[C]=Be(()=>r.theme,async l=>Es("theme",l).then(h=>new ya(h))),p=fe(()=>I().split(`
`)),S=fe(()=>fa(p())),A=fe(()=>{var l;return Math.floor(m()/(((l=o())==null?void 0:l.height)||1))}),P=fe(()=>{var l,h;return Math.floor((m()+(((l=u())==null?void 0:l.height)||0))/(((h=o())==null?void 0:h.height)||1))}),y=fe(()=>Math.floor(A()/Ee)),i=fe(()=>Math.ceil(P()/Ee)),g=wn(C,l=>{const h=l.getBackgroundColor(),b=ca(...aa(h));return`rgba(98, 114, 164, ${b>.9?.1:b<.1?.25:.175})`}),d=wn(()=>c.style,l=>Nn(l,["width","height"])[1]);return Xr(()=>new ResizeObserver(([l])=>v(l?.contentRect)).observe(a)),me(()=>_(r.value)),me(()=>{var l;return console.log((l=C())==null?void 0:l.getForegroundColor())}),we(Is.Provider,{get value(){return{get viewport(){return u()},get character(){return o()},get scrollTop(){return m()},get lines(){return p()},get theme(){return C()},get tokenizer(){return E()},segments:new ha,isVisible:rr(()=>[A(),P()],(l,[h,b])=>l>p().length-1?!1:l+Dt>h&&l-Dt<b),isSegmentVisible:rr(()=>[y(),i()],l=>{const h=Math.floor((l-Dt)/Ee),b=Math.ceil((l+Dt)/Ee);return h<=y()&&b>=i()||h>=y()&&h<=i()||b>=y()&&b<=i()})}},get children(){var l=pa(),h=l.firstChild,b=h.nextSibling,T=b.nextSibling;l.addEventListener("scroll",k=>{var x;w(k.currentTarget.scrollTop),(x=r.onScroll)==null||x.call(r,k)}),bt(k=>{a=k,kr(k,r,"width"),kr(k,r,"height")},l),rs(l,ct({get class(){return ra(t.container,c.class)},get style(){var k,x,O,F;return{"--tm-background-color":(k=C())==null?void 0:k.getBackgroundColor(),"--tm-char-height":`${((x=o())==null?void 0:x.height)||0}px`,"--tm-char-width":`${((O=o())==null?void 0:O.width)||0}px`,"--tm-foreground-color":(F=C())==null?void 0:F.getForegroundColor(),"--tm-line-count":p().length,"--tm-line-size":S(),"--tm-selection-color":g(),"--tm-line-digits":ua(p().length),...d()}}},s),!1,!0),Wn(h,we(or,{get each(){return Array.from({length:Math.ceil(p().length/Ee)})},children:(k,x)=>we(e,{index:x})})),b.$$keydown=k=>{if(k.key==="Enter"){k.preventDefault();const x=a.scrollTop,O=k.currentTarget.selectionStart,F=k.currentTarget.selectionEnd,G=k.currentTarget.value;k.currentTarget.value=_(G.substring(0,O)+`
`+G.substring(F)),k.currentTarget.selectionStart=k.currentTarget.selectionEnd=O+1,a.scrollTop=x}},b.addEventListener("scroll",k=>{k.preventDefault(),k.stopPropagation()});var N=c.textareaRef;return typeof N=="function"?bt(N,b):c.textareaRef=b,lt(b,"spellcheck",!1),b.addEventListener("input",k=>{var x;const F=k.currentTarget.value;_(F),(x=c.onInput)==null||x.call(c,k)}),bt(k=>{new ResizeObserver(([x])=>{const{height:O,width:F}=getComputedStyle(x.target);f({height:Number(O.replace("px","")),width:Number(F.replace("px",""))})}).observe(k)},T),me(k=>{var x=t.code,O=t.textarea,F=!c.editable,G=p().length,M=t.character;return x!==k.e&&gt(h,k.e=x),O!==k.t&&gt(b,k.t=O),F!==k.a&&(b.disabled=k.a=F),G!==k.o&&lt(b,"rows",k.o=G),M!==k.i&&gt(T,k.i=M),k},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),me(()=>b.value=c.value),l}})}}rn(["keydown"]);var wa=Object.defineProperty,Sa=(t,e,n)=>e in t?wa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Te=(t,e,n)=>(Sa(t,typeof e!="symbol"?e+"":e,n),n),Qn=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},de=(t,e,n)=>(Qn(t,e,"read from private field"),n?n.call(t):e.get(t)),ge=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},it=(t,e,n,r)=>(Qn(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ot=(t,e,n)=>(Qn(t,e,"access private method"),n),Ln,xs,$s,Ut,Oe,en,Zn,Pt,Mn,Ls,jn,Ms;function Aa(t){var e,n,r,c,s,a,o,f,u,v;return v=class extends t{constructor(){super(...arguments),ge(this,n),ge(this,r),ge(this,a),ge(this,f),ge(this,e,new Set),ge(this,c,null),ge(this,s,null)}createEffect(m){ot(this,a,o).call(this,m)}stopEffects(){ot(this,f,u).call(this)}},e=new WeakMap,n=new WeakSet,r=new WeakSet,c=new WeakMap,s=new WeakMap,a=new WeakSet,o=function(m){if(!de(this,c))Je(w=>{it(this,c,Ie()),it(this,s,w),ot(this,a,o).call(this,m)});else{let w=Ie();for(;w&&w!==de(this,c);)w=w?.owner??null;if(w===de(this,c))return be(m);Jr(de(this,c),()=>be(m))}},f=new WeakSet,u=function(){var m;(m=de(this,s))==null||m.call(this)},v}function Ta(t,e){let n=t,r;for(;n;){if(r=Object.getOwnPropertyDescriptor(n,e),r)return r.owner=n,r;n=n.__proto__}}const Gt=new WeakMap;function Ca(t,...e){const n=e.length?e:Object.keys(t).concat(Object.getOwnPropertySymbols(t));for(const r of n)js(t,r);return t}let $r=!1;function Ea(){if($r)throw new Error('Export "createSignalAccessor" is internal to classy-solid only.');return $r=!0,js}const zt=new WeakMap;function Pa(t,e){var n;return!!((n=zt.get(t))!=null&&n.has(e))}function Lr(t,e){zt.has(t)||zt.set(t,new Set),zt.get(t).add(e)}const Mr=new WeakSet;function js(t,e,n=ce(()=>t[e]),r=!1){var c;if(!r&&((c=Gt.get(t))!=null&&c.has(e))||t[Se])return;let a=Ta(t,e),o,f;if(a){if(o=a.get,f=a.set,o&&Mr.has(o))return;if(o||f){if(!o||!f){console.warn(`The \`@signal\` decorator was used on an accessor named "${e.toString()}" which had a getter or a setter, but not both. Reactivity on accessors works only when accessors have both get and set. In this case the decorator does not do anything.`);return}delete a.get,delete a.set}else{if(n=a.value,!a.writable){console.warn(`The \`@signal\` decorator was used on a property named "${e.toString()}" that is not writable. Reactivity is not enabled for non-writable properties.`);return}delete a.value,delete a.writable}}const u=ue(n,{equals:!1});a={configurable:!0,enumerable:!0,...a,get:o?function(){return u[0](),o.call(this)}:function(){return u[0]()},set:f?function(v){f.call(this,v),Lr(this,e),typeof v=="function"?u[1](()=>v):u[1](v)}:function(v){Lr(this,e),typeof v=="function"?u[1](()=>v):u[1](v)}},Mr.add(a.get),Object.defineProperty(t,e,a),Gt.has(t)||Gt.set(t,new Set),Gt.get(t).add(e)}let cn=new Map,wt=null;function Oa(){if(wt)throw new Error("Attempted use of classy-solid internals.");return wt=Symbol(),wt}function Na(t){if(t!==wt)throw new Error("Attempted use of classy-solid internals.");return cn}function ka(t){if(t!==wt)throw new Error("Attempted use of classy-solid internals.");cn=new Map}function Ra(t){return"private"in t}function jr(t,e){const{kind:n,name:r}=e,c=cn;if(Ra(e)){if(e.private)throw new Error("@signal is not supported on private fields yet.");if(e.static)throw new Error("@signal is not supported on static fields yet.")}if(n==="field")return c.set(r,{initialValue:void 0}),function(s){return c.get(r).initialValue=s,s};if(n==="getter"||n==="setter")c.set(r,{initialValue:void 0});else throw new Error("The @signal decorator is only for use on fields, getters, and setters. Auto accessor support is coming next if there is demand for it.");Ia(c)}let An=!1;function Ia(t){An||(An=!0,queueMicrotask(()=>{if(An=!1,t===cn)throw new Error(`Stray @signal-decorated properties detected: ${Array.from(t.keys()).join(", ")}. Did you forget to use the \`@reactive\` decorator on a class that has properties decorated with \`@signal\`?`)}))}const Dr=Oa(),xa=Ea(),Gr=Object.prototype.hasOwnProperty;function $a(t,e){if(typeof t!="function"||e&&e.kind!=="class")throw new TypeError("The @reactive decorator is only for use on classes.");const n=t,r=Na(Dr);ka(Dr);class c extends n{constructor(...a){let o;at()?ce(()=>o=Reflect.construct(n,a,new.target)):(super(...a),o=this);for(const[f,{initialValue:u}]of r){if(!(Gr.call(o,f)||Gr.call(n.prototype,f)))throw new Error(`Property "${f.toString()}" not found on instance of class decorated with \`@reactive\`. Did you forget to use the \`@reactive\` decorator on one of your classes that has a "${f.toString()}" property decorated with \`@signal\`?`);xa(o,f,u,!0)}return o}}return c}var Ot;let dt;const La=globalThis.HTMLElement??class{constructor(){throw new Error("@lume/element needs a DOM to operate with! If this code is running during server-side rendering, it means your app is trying to instantiate elements when it shouldn't be, and should be refactored to avoid doing that when no DOM is present.")}};class Fe extends Aa(La){constructor(){super(...arguments),ge(this,Ln),ge(this,Mn),ge(this,jn),ge(this,$s,ot(this,Ln,xs).call(this)),Te(this,"hasShadow",!0),Te(this,"__root",null),ge(this,Ut,void 0),ge(this,Oe,null),ge(this,en,e=>`${e} {
		display: block;
	}`),ge(this,Zn,Ot.__elementId++),ge(this,Pt,null)}static defineElement(e,n=customElements){if(e){if(n.get(e))return console.warn(`defineElement(): An element class was already defined for tag name ${e}.`),this;{const r=class extends this{};return r.elementName=e,n.define(e,r),r}}else return e=this.elementName,n.get(e)?(console.warn(`defineElement(): An element class was already defined for tag name ${e}.`),this):(n.define(e,this),this)}get root(){return this.hasShadow?this.__root?this.__root:this.shadowRoot?this.__root=this.shadowRoot:this.__root=this.attachShadow({mode:"open"}):this}set root(e){if(!this.hasShadow)throw new Error("Can not set root, element.hasShadow is false.");if(this.__root||this.shadowRoot)throw new Error("Element root can only be set once if there is no ShadowRoot.");this.__root=e}get styleRoot(){return this.root}attachShadow(e){return this.__root&&console.warn("Element already has a root defined."),this.__root=super.attachShadow(e)}connectedCallback(){const e=this.template;e&&it(this,Ut,Fn(typeof e=="function"?e.bind(this):()=>e,this.root)),ot(this,Mn,Ls).call(this)}disconnectedCallback(){var e;this.stopEffects(),(e=de(this,Ut))==null||e.call(this),ot(this,jn,Ms).call(this)}adoptedCallback(){}}Ln=new WeakSet;xs=function(){const t=Object.keys(this);this._preUpgradeValues=new Map;for(const e of t){const n=Object.getOwnPropertyDescriptor(this,e);"value"in n&&(delete this[e],this._preUpgradeValues.set(e,n.value),queueMicrotask(()=>{if(Pa(this,e))return;e in this.__proto__&&(this[e]=n.value)}))}};$s=new WeakMap;Ut=new WeakMap;Oe=new WeakMap;en=new WeakMap;Zn=new WeakMap;Pt=new WeakMap;Mn=new WeakSet;Ls=function(){dt=this.constructor;const t=typeof dt.css=="function"?dt.css=dt.css():dt.css||"",e=typeof this.css=="function"?this.css():this.css||"";if(this.hasShadow){const n=":host",r=document.createElement("style");r.innerHTML=`
				${de(this,en).call(this,n)}
				${t}
				${e}
			`,this.styleRoot.appendChild(r)}else{const n=this.getRootNode();it(this,Oe,n===document?document.head:n);let r=Ot.__styleRootNodeRefCountPerTagName.get(de(this,Oe));r||Ot.__styleRootNodeRefCountPerTagName.set(de(this,Oe),r={});const c=r[this.tagName]||0;if(r[this.tagName]=c+1,c===0){const s=this.tagName.toLowerCase(),a=document.createElement("style");a.innerHTML=`
					${de(this,en).call(this,s)}
					${t&&t.replaceAll(":host",s)}
				`,a.id=this.tagName.toLowerCase(),de(this,Oe).appendChild(a)}if(e){const s=this.tagName.toLowerCase()+"-"+de(this,Zn);this.setAttribute(s,"");const a=it(this,Pt,document.createElement("style"));a.id=s,a.innerHTML=e.replaceAll(":host",`[${s}]`);const o=this.getRootNode();it(this,Oe,o===document?document.head:o),de(this,Oe).appendChild(a)}}};jn=new WeakSet;Ms=function(){do{if(this.hasShadow)break;const t=Ot.__styleRootNodeRefCountPerTagName.get(de(this,Oe));if(!t)break;let e=t[this.tagName];if(e===void 0)break;if(t[this.tagName]=--e,e===0){delete t[this.tagName];const n=de(this,Oe).querySelector("#"+this.tagName);n?.remove()}}while(!1);de(this,Pt)&&de(this,Pt).remove()};Te(Fe,"elementName","");Te(Fe,"observedAttributes");Te(Fe,"__styleRootNodeRefCountPerTagName",new WeakMap);Te(Fe,"__elementId",0);Ot=Fe;Symbol.metadata??(Symbol.metadata=Symbol.for("Symbol.metadata"));function Ma(t){return t.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}function ja(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0,enumerable:!0})}const Dn=[];function Ye(t,e){if(arguments.length===2)return Br(t,e,void 0);const n=t;return(r,c)=>Br(r,c,n)}function Br(t,e,n={}){const{kind:r,name:c,private:s,static:a,metadata:o}=e,f=Object.hasOwn(o,"noSignal")&&o.noSignal||void 0,u=!f?.has(c);if(typeof c=="symbol")throw new Error("@attribute is not supported on symbol fields yet.");if(s)throw new Error("@attribute is not supported on private fields yet.");if(a)throw new Error("@attribute is not supported on static fields.");if(Dn.push(v=>Ds(v,c,n)),r==="field"){const v=u?jr(t,e):m=>m;return function(m){return m=v(m),"default"in n||(n.default=m),m}}else if(r==="getter"||r==="setter")u&&jr(t,e);else throw new Error("@attribute is only for use on fields, getters, and setters. Auto accessor support is coming next if there is demand for it.")}function Ds(t,e,n){if(!t.observedAttributes||!t.hasOwnProperty("observedAttributes")){const c=t.__proto__.observedAttributes;if(c&&!Array.isArray(c))throw new TypeError("observedAttributes is in the wrong format. Did you forget to decorate your custom element class with the `@element` decorator?");ja(t,"observedAttributes",[...c||[]])}if(!Array.isArray(t.observedAttributes))throw new TypeError("observedAttributes is in the wrong format. Maybe you forgot to decorate your custom element class with the `@element` decorator.");const r=Ma(e);t.observedAttributes.includes(r)||t.observedAttributes.push(r),Da(t.prototype,r,e,n)}function Da(t,e,n,r){if(!t.__hasAttributeChangedCallback){t.__hasAttributeChangedCallback=!0;const c=t.attributeChangedCallback;t.attributeChangedCallback=function(s,a,o){var f,u;c?c.call(this,s,a,o):(u=(f=t.__proto__)==null?void 0:f.attributeChangedCallback)==null||u.call(this,s,a,o);const v=this.__attributesToProps&&this.__attributesToProps[s];if(v){const m=v.attributeHandler;this[v.name]=m?o===null?"default"in m?m.default:null:m.from?m.from(o):o:o}}}t.hasOwnProperty("__attributesToProps")||Object.defineProperty(t,"__attributesToProps",{value:{__proto__:t.__attributesToProps||Object.prototype}}),t.__attributesToProps[e]={name:n,attributeHandler:r}}const Ga=t=>t;Ye.string=()=>({from:Ga});function Bt(t,e){return Ye(Ye.string())(t,e)}const Ba=t=>+t;Ye.number=()=>({from:Ba});const Fa=t=>t!=="false";Ye.boolean=()=>({from:Fa});function Wa(t,e){return Ye(Ye.boolean())(t,e)}function Ua(t,e){let n="",r=!0;return n=t,(c,s)=>za(c,s,n,r)}function za(t,e,n,r){if(typeof t!="function"||e&&e.kind!=="class")throw new Error("@element is only for use on classes.");const{metadata:c={}}=e??{},s=Object.hasOwn(c,"noSignal")&&c.noSignal||void 0;let a=t;const o=a.observedAttributes;if(a.hasOwnProperty("elementName")?n=a.elementName||n:a.elementName=n,!Array.isArray(o)){if(o&&typeof o=="object"){a.observedAttributes=void 0;for(const m in o)Ds(a,m,o[m])}}a=$a(a,e);class f extends a{constructor(...w){super(...w),ce(()=>{Ha(this);const I=[],_=f.prototype.__attributesToProps??{};for(const E of Object.values(_)){const C=E.name;!s?.has(C)&&I.push(C);const S=E.attributeHandler;S&&!("default"in S)&&(S.default=this[C])}I.length&&Ca(this,...I)})}}const u=[...Dn];Dn.length=0;function v(){var m,w;for(const I of u)I(f);n&&r&&((w=(m=globalThis.window)==null?void 0:m.customElements)==null||w.define(n,f))}return e?.addInitializer?e.addInitializer(v):v(),f}function Ha(t){if(t instanceof Fe)for(const[e,n]of t._preUpgradeValues){if(!(e in t))continue;t._preUpgradeValues.delete(e);const r=Object.getOwnPropertyDescriptor(t,e);r&&"value"in r&&delete t[e],t[e]=n}}const qa=["container","code","line","character","textarea"],Ka=`:host {
  display: contents;

  & .container {
    all: inherit;
    display: flex;
    position: relative;
    box-sizing: border-box;
    background: var(--tm-background-color, inherit);
    overflow: auto;
    color: var(--tm-foreground-color, inherit);
  }
}

.container {
  --tm-min-height: calc(var(--tm-line-count) * var(--tm-char-height));
  --tm-min-width: calc(var(--tm-line-size) * 1ch);
  display: flex;
  position: relative;
  box-sizing: border-box;
  background-color: var(--tm-background-color);
  overflow: auto;
  color: var(--tm-foreground-color);
  font-size: 13px;

  & .code {
    display: block;
    position: absolute;
    z-index: 1;
    /* fixes color change when textarea is focused */
    backface-visibility: hidden;
    contain: layout;
    pointer-events: none;
    font-size: inherit;
    line-height: inherit;
    font-family: monospace;
    white-space: pre;

    & .line {
      position: absolute;
      top: calc(var(--tm-line-number) * var(--tm-char-height));
      margin: 0px;

      & span {
        margin: 0px;
        background: transparent !important;
      }
    }
  }

  & .character {
    position: absolute;
    align-self: start;
    visibility: hidden;
    pointer-events: none;
    font-size: inherit;
    line-height: inherit;
  }

  & .textarea {
    transition: color 0.5s;
    outline: none;
    border: none;
    background: transparent;
    padding: 0px;
    width: 100%;
    min-width: var(--tm-min-width);
    height: 100%;
    min-height: var(--tm-min-height);
    overflow: hidden;
    resize: none;
    color: transparent;
    caret-color: var(--tm-foreground-color);
    font-size: inherit;
    line-height: inherit;
    font-family: monospace;
    text-align: inherit;
    white-space: pre;
  }

  & .textarea::selection {
    background: var(--tm-selection-color);
  }
}
`,Tn=new Map;function Gs(t){if(t instanceof CSSStyleSheet)return t;if(!Tn.has(t)){const e=new CSSStyleSheet;e.replace(t),Tn.set(t,e)}return Tn.get(t)}let Bs,Fs,Ws,Us,zs,Hs,qs;function Va(t,e,n,r,c,s){function a(_,E,C){return function(p,S){return C&&C(p),_[E].call(p,S)}}function o(_,E){for(var C=0;C<_.length;C++)_[C].call(E);return E}function f(_,E,C,p){if(typeof _!="function"&&(p||_!==void 0))throw new TypeError(E+" must "+(C||"be")+" a function"+(p?"":" or undefined"));return _}function u(_,E,C,p,S,A,P,y,i,g,d,l,h){function b(j){if(!h(j))throw new TypeError("Attempted to access private element on non-instance")}var T,N=E[0],k=E[3],x=!y;if(!x){C||Array.isArray(N)||(N=[N]);var O={},F=[],G=S===3?"get":S===4||l?"set":"value";g?(d||l?O={get:Fr(function(){return k(this)},p,"get"),set:function(j){E[4](this,j)}}:O[G]=k,d||Fr(O[G],p,S===2?"":G)):d||(O=Object.getOwnPropertyDescriptor(_,p))}for(var M=_,X=N.length-1;X>=0;X-=C?2:1){var ne=N[X],ee=C?N[X-1]:void 0,V={},z={kind:["field","accessor","method","getter","setter","class"][S],name:p,metadata:A,addInitializer:function(j,U){if(j.v)throw Error("attempted to call addInitializer after decoration was finished");f(U,"An initializer","be",!0),P.push(U)}.bind(null,V)};try{if(x)(T=f(ne.call(ee,M,z),"class decorators","return"))&&(M=T);else{var q,te;z.static=i,z.private=g,g?S===2?q=function(j){return b(j),O.value}:(S<4&&(q=a(O,"get",b)),S!==3&&(te=a(O,"set",b))):(q=function(j){return j[p]},(S<2||S===4)&&(te=function(j,U){j[p]=U}));var L=z.access={has:g?h.bind():function(j){return p in j}};if(q&&(L.get=q),te&&(L.set=te),M=ne.call(ee,l?{get:O.get,set:O.set}:O[G],z),l){if(typeof M=="object"&&M)(T=f(M.get,"accessor.get"))&&(O.get=T),(T=f(M.set,"accessor.set"))&&(O.set=T),(T=f(M.init,"accessor.init"))&&F.push(T);else if(M!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(M,(d?"field":"method")+" decorators","return")&&(d?F.push(M):O[G]=M)}}finally{V.v=!0}}return(d||l)&&y.push(function(j,U){for(var Z=F.length-1;Z>=0;Z--)U=F[Z].call(j,U);return U}),d||x||(g?l?y.push(a(O,"get"),a(O,"set")):y.push(S===2?O[G]:a.call.bind(O[G])):Object.defineProperty(_,p,O)),M}function v(_,E){return Object.defineProperty(_,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:E})}if(arguments.length>=6)var m=s[Symbol.metadata||Symbol.for("Symbol.metadata")];var w=Object.create(m??null),I=function(_,E,C,p){var S,A,P=[],y=function(G){return Ya(G)===_},i=new Map;function g(G){G&&P.push(o.bind(null,G))}for(var d=0;d<E.length;d++){var l=E[d];if(Array.isArray(l)){var h=l[1],b=l[2],T=l.length>3,N=16&h,k=!!(8&h),x=(h&=7)==0,O=b+"/"+k;if(!x&&!T){var F=i.get(O);if(F===!0||F===3&&h!==4||F===4&&h!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+b);i.set(O,!(h>2)||h)}u(k?_:_.prototype,l,N,T?"#"+b:Xa(b),h,p,k?A=A||[]:S=S||[],P,k,T,x,h===1,k&&T?y:C)}}return g(S),g(A),P}(t,e,c,w);return n.length||v(t,w),{e:I,get c(){var _=[];return n.length&&[v(u(t,[n],r,t.name,5,w,_),w),o.bind(null,_,t)]}}}function Xa(t){var e=Ja(t,"string");return typeof e=="symbol"?e:e+""}function Ja(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Fr(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function Ya(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}const Qa=va(Object.fromEntries(qa.map(t=>[t,t]))),Za=Gs(Ka);Fs=[Ua("tm-textarea")];let Ks;const ec=class extends Fe{constructor(){super(...arguments),Te(this,"editable",Ws(this,!0)),Te(this,"grammar",Us(this,"tsx")),Te(this,"stylesheet",zs(this,"")),Te(this,"theme",Hs(this,"dark-plus")),Te(this,"value",qs(this,"")),Te(this,"template",()=>{const e=this,n=this.shadowRoot.adoptedStyleSheets;return n.push(Za),this.stylesheet&&n.push(Gs(this.stylesheet)),we(Qa,{get grammar(){return e.grammar},get theme(){return e.theme},get value(){return e.value},get editable(){return e.editable},onInput:r=>e.value=r.currentTarget.value})})}};({e:[Ws,Us,zs,Hs,qs],c:[Ks,Bs]}=Va(ec,[[Wa,0,"editable"],[Bt,0,"grammar"],[Bt,0,"stylesheet"],[Bt,0,"theme"],[Bt,0,"value"]],Fs,0,void 0,Fe));Bs();function tc(){customElements.get("tm-textarea")||customElements.define("tm-textarea",Ks)}let Vs,Xs,Js,Ys,Qs;var nc=$e("<tm-textarea class=tm-textarea>",!0,!1);function rc(t,e,n,r,c,s){function a(_,E,C){return function(p,S){return C&&C(p),_[E].call(p,S)}}function o(_,E){for(var C=0;C<_.length;C++)_[C].call(E);return E}function f(_,E,C,p){if(typeof _!="function"&&(p||_!==void 0))throw new TypeError(E+" must "+(C||"be")+" a function"+(p?"":" or undefined"));return _}function u(_,E,C,p,S,A,P,y,i,g,d,l,h){function b(j){if(!h(j))throw new TypeError("Attempted to access private element on non-instance")}var T,N=E[0],k=E[3],x=!y;if(!x){C||Array.isArray(N)||(N=[N]);var O={},F=[],G=S===3?"get":S===4||l?"set":"value";g?(d||l?O={get:Wr(function(){return k(this)},p,"get"),set:function(j){E[4](this,j)}}:O[G]=k,d||Wr(O[G],p,S===2?"":G)):d||(O=Object.getOwnPropertyDescriptor(_,p))}for(var M=_,X=N.length-1;X>=0;X-=C?2:1){var ne=N[X],ee=C?N[X-1]:void 0,V={},z={kind:["field","accessor","method","getter","setter","class"][S],name:p,metadata:A,addInitializer:function(j,U){if(j.v)throw Error("attempted to call addInitializer after decoration was finished");f(U,"An initializer","be",!0),P.push(U)}.bind(null,V)};try{if(x)(T=f(ne.call(ee,M,z),"class decorators","return"))&&(M=T);else{var q,te;z.static=i,z.private=g,g?S===2?q=function(j){return b(j),O.value}:(S<4&&(q=a(O,"get",b)),S!==3&&(te=a(O,"set",b))):(q=function(j){return j[p]},(S<2||S===4)&&(te=function(j,U){j[p]=U}));var L=z.access={has:g?h.bind():function(j){return p in j}};if(q&&(L.get=q),te&&(L.set=te),M=ne.call(ee,l?{get:O.get,set:O.set}:O[G],z),l){if(typeof M=="object"&&M)(T=f(M.get,"accessor.get"))&&(O.get=T),(T=f(M.set,"accessor.set"))&&(O.set=T),(T=f(M.init,"accessor.init"))&&F.push(T);else if(M!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(M,(d?"field":"method")+" decorators","return")&&(d?F.push(M):O[G]=M)}}finally{V.v=!0}}return(d||l)&&y.push(function(j,U){for(var Z=F.length-1;Z>=0;Z--)U=F[Z].call(j,U);return U}),d||x||(g?l?y.push(a(O,"get"),a(O,"set")):y.push(S===2?O[G]:a.call.bind(O[G])):Object.defineProperty(_,p,O)),M}function v(_,E){return Object.defineProperty(_,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:E})}if(arguments.length>=6)var m=s[Symbol.metadata||Symbol.for("Symbol.metadata")];var w=Object.create(m??null),I=function(_,E,C,p){var S,A,P=[],y=function(G){return oc(G)===_},i=new Map;function g(G){G&&P.push(o.bind(null,G))}for(var d=0;d<E.length;d++){var l=E[d];if(Array.isArray(l)){var h=l[1],b=l[2],T=l.length>3,N=16&h,k=!!(8&h),x=(h&=7)==0,O=b+"/"+k;if(!x&&!T){var F=i.get(O);if(F===!0||F===3&&h!==4||F===4&&h!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+b);i.set(O,!(h>2)||h)}u(k?_:_.prototype,l,N,T?"#"+b:sc(b),h,p,k?A=A||[]:S=S||[],P,k,T,x,h===1,k&&T?y:C)}}return g(S),g(A),P}(t,e,c,w);return n.length||v(t,w),{e:I,get c(){var _=[];return n.length&&[v(u(t,[n],r,t.name,5,w,_),w),o.bind(null,_,t)]}}}function sc(t){var e=ic(t,"string");return typeof e=="symbol"?e:e+""}function ic(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wr(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function oc(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}tc();const ac={ts:"typescript","module.css":"css",tsx:"tsx",jsx:"jsx",wat:"wat",css:"css",js:"javascript"};function cc(t){const e=Jo(t.split("."));return e&&ac[e]}Xs=[an("repl-tm-editor")];let lc;const uc=class extends ke{path=Js(this,"");theme=Ys(this,"andromeeda");runtime=Qs(this,null);css=`
    :host {
      display: contents;
    }

    .tm-textarea {
      all: inherit;
    }
  `;template=()=>{const e=this,n=Xn(this);return we(St,{get when(){return e.runtime||n()},children:r=>{const c=fe(()=>r().fs.getOrCreate(e.path));return(()=>{var s=nc();return s.$$input=a=>c().set(a.currentTarget.value),s._$owner=Ie(),me(a=>{var o=cc(c().path),f=e.theme;return o!==a.e&&(s.grammar=a.e=o),f!==a.t&&(s.theme=a.t=f),a},{e:void 0,t:void 0}),me(()=>s.value=c().get()),s})()}})};get value(){return""}};({e:[Js,Ys,Qs],c:[lc,Vs]}=rc(uc,[[Zt,0,"path"],[Zt,0,"theme"],[ft,0,"runtime"]],Xs,0,void 0,ke));Vs();rn(["input"]);const fc=crypto;function pt(t){let e,n=0;return()=>((!e||n===e.length)&&(e=new t(65536/(t.BYTES_PER_ELEMENT*8)),n=0,fc.getRandomValues(e)),e[n++])}function hc(t,e){let n=0,r=e;return()=>(r===e&&(n=t(),r=0),n&1<<r++?1:0)}const dc={get1:hc(pt(Uint8Array),8),get8:pt(Uint8Array),get16:pt(Uint16Array),get32:pt(Uint32Array),get64:pt(BigUint64Array)},Ft=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0")),pc=()=>{let t="";for(let e=0;e<4;e++){const n=dc.get32();t+=Ft[n>>>24&255],t+=Ft[n>>>16&255],t+=Ft[n>>>8&255],t+=Ft[n&255]}return t},gc=pc;class mc extends sn{jsFile;constructor(e,n){super(e,n),this.jsFile=e.fs.create(`${n}.ts`),be(()=>{const r={},c=yc(this.get(),s=>{const a=`${s}___REPL___${gc()}`;return r[s]=a,a});this.jsFile.set(`${os(n,c)}
export default ${JSON.stringify(r)} as const
        `)})}generate(){return this.jsFile.generate()}get url(){return this.jsFile.url}moduleTransform(){const e=this.generate();if(!e)throw"Module not loaded";return e}}function yc(t,e){const n=/\.([a-zA-Z_][\w-]*)\b/g,r={};{const a=t.replace(/\/\*[^*]*\*+(?:[^/*][^*]*\*+)*\//g,f=>" ".repeat(f.length)).replace(/(["'])(?:(?=(\\?))\2.)*?\1/g,f=>" ".repeat(f.length));let o;for(;(o=n.exec(a))!==null;){const f=o[1];f&&(r[f]||(r[f]=[]),r[f].push([o.index+1,o.index+1+f.length]))}}const c=[];let s=0;{for(const a in r){const o=e(a);for(const[f,u]of r[a])c.push(t.slice(s,f)),c.push(o),s=u}c.push(t.slice(s))}return c.join("")}const _c="modulepreload",bc=function(t,e){return new URL(t,e).href},Ur={},ln=function(e,n,r){if(!n||n.length===0)return e();const c=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=bc(s,r),s in Ur)return;Ur[s]=!0;const a=s.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!r)for(let v=c.length-1;v>=0;v--){const m=c[v];if(m.href===s&&(!a||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${o}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":_c,a||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),a)return new Promise((v,m)=>{u.addEventListener("load",v),u.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};async function vc(t){const e=await(t?.typescript||ln(()=>import("https://esm.sh/typescript"),[],import.meta.url));return function(n,r){const c=e.createSourceFile("",n,e.ScriptTarget.Latest,!0,e.ScriptKind.TS);let s=!1;const a=e.transform(c,[f=>{const u=v=>{if((e.isImportDeclaration(v)||e.isExportDeclaration(v))&&v.moduleSpecifier&&e.isStringLiteral(v.moduleSpecifier)){const m=e.isImportDeclaration(v),w=v.moduleSpecifier.text,I=r(v.moduleSpecifier.text);if(I===null){s=!0;return}if(v.moduleSpecifier.text=I,w!==v.moduleSpecifier.text)return s=!0,m?e.factory.updateImportDeclaration(v,v.modifiers,v.importClause,e.factory.createStringLiteral(I),v.assertClause):e.factory.updateExportDeclaration(v,v.modifiers,!1,v.exportClause,e.factory.createStringLiteral(I),v.assertClause)}return e.visitEachChild(v,u,f)};return v=>e.visitNode(v,u)}]);return a.transformed[0]?s?e.createPrinter({newLine:e.NewLineKind.LineFeed}).printFile(a.transformed[0]):n:void 0}}function zr({cdn:t,babel:e,items:n,type:r}){if(!n)return Promise.resolve([]);const c=r==="plugins"?e.availablePlugins:e.availablePresets;return Promise.all(n.map(async function(a){let o,f;if(typeof a=="string")o=a;else if(Array.isArray(a)&&typeof a[0]=="string")[o,f]=a;else return a;if(o in c)return f!==void 0?[c[o],f]:c[o];{const u=await ln(()=>import(`${t}/${o}`),[],import.meta.url).then(v=>v.default);return f!==void 0?[u,f]:u}}))}async function wc(t){const e=t.cdn||"https://esm.sh",n=await(t.babel||ln(()=>import(`${e}/@babel/standalone`),[],import.meta.url)),[r,c]=await Promise.all([zr({cdn:e,babel:n,items:t.presets,type:"presets"}),zr({cdn:e,babel:n,items:t.plugins,type:"plugins"})]);return(s,a)=>{const o=n.transform(s,{presets:r,plugins:c}).code;if(!o)throw`Babel transform failed for file ${a} with source: 

 ${s}`;return o}}async function Sc(t){const e=await(t?.typescript||ln(()=>import("https://esm.sh/typescript"),[],import.meta.url));return(n,r)=>r.endsWith("ts")||r.endsWith("tsx")?e.transpile(n,t?.tsconfig):n}var Ac=$e("<div>"),Tc=$e("<repl-frame>",!0,!1),Cc=$e("<tm-textarea theme=andromeeda>",!0,!1);const Ec={target:2,module:5,jsx:1,jsxImportSource:"solid-js",esModuleInterop:!0,allowSyntheticDefaultImports:!0,forceConsistentCasingInFileNames:!0,isolatedModules:!0,resolveJsonModule:!0,skipLibCheck:!0,strict:!0,noEmit:!1,outDir:"./dist"},Pc=()=>{const[t]=Be(async()=>{const[e,n]=await Promise.all([vc(),Promise.all([Sc({tsconfig:Ec}),wc({presets:["babel-preset-solid"]})])]);return new Hi({importExternalTypes:!1,transformModulePaths:e,transform:n,files:{"src/index.module.css":`body {
background: blue;
}
/* .test */
.button {
  background: red;
}
    `,"src/index.tsx":`import { render } from "solid-js/web";
import { dispose } from "@repl/std";
import "solid-js/jsx-runtime";
import styles from "./index.module.css";

function App() {
  return (
    <button class={styles.button} >
      hello
    </button>
  );
}

dispose('src/index.tsx', render(() => <App />, document.body));`},extensions:{"module.css":mc}}).initialize()});return(()=>{var e=Ac();return e.style.setProperty("display","flex"),e.style.setProperty("flex-direction","row"),e.style.setProperty("height","100%"),e.style.setProperty("overflow","hidden"),Wn(e,we(St,{get when(){return t()},children:n=>[(()=>{var r=Tc();return r.addEventListener("ready",({frame:c})=>{const s=n().getFile("src/index.tsx");let a;function o({url:f}){a?.(),f&&(c.clearBody(),a=c.injectModuleUrl(f))}s.addEventListener("url",o),o(s)}),r.style.setProperty("flex","1"),r._$owner=Ie(),r})(),(()=>{var r=Cc();return r.$$input=c=>n().setFile("src/index.tsx",c.currentTarget.value),r.style.setProperty("padding","20px"),r.style.setProperty("overflow","auto"),r.style.setProperty("flex","1"),r._$owner=Ie(),me(()=>r.value=n().getFile("src/index.tsx").source),r})()]})),e})()};Fn(()=>we(Pc,{}),document.getElementById("root"));rn(["input"]);
