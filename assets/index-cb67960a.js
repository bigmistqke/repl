(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const no=(t,e)=>t===e,Ne=Symbol("solid-proxy"),On=Symbol("solid-track"),Rn={equals:no};let ro=co;const Ue=1,Pn=2,io={owned:null,cleanups:null,context:null,owner:null},er={};var oe=null;let tr=null,_s=null,ce=null,_e=null,Ve=null,Un=0;function st(t,e){const n=ce,r=oe,i=t.length===0,o=e===void 0?r:e,s=i?io:{owned:null,cleanups:null,context:o?o.context:null,owner:o},a=i?t:()=>t(()=>de(()=>Wn(s)));oe=s,ce=null;try{return it(a,!0)}finally{ce=n,oe=r}}function Ce(t,e){e=e?Object.assign({},Rn,e):Rn;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),ao(n,i));return[so.bind(n),r]}function si(t,e,n){const r=hn(t,e,!0,Ue);yt(r)}function Re(t,e,n){const r=hn(t,e,!1,Ue);yt(r)}function xe(t,e,n){ro=Os;const r=hn(t,e,!1,Ue);(!n||!n.render)&&(r.user=!0),Ve?Ve.push(r):yt(r)}function he(t,e,n){n=n?Object.assign({},Rn,n):Rn;const r=hn(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,yt(r),so.bind(r)}function vs(t){return t&&typeof t=="object"&&"then"in t}function rt(t,e,n){let r,i,o;arguments.length===2&&typeof e=="object"||arguments.length===1?(r=!0,i=t,o=e||{}):(r=t,i=e,o=n||{});let s=null,a=er,u=!1,c="initialValue"in o,h=typeof r=="function"&&he(r);const f=new Set,[d,S]=(o.storage||Ce)(o.initialValue),[v,k]=Ce(void 0),[T,_]=Ce(void 0,{equals:!1}),[E,C]=Ce(c?"ready":"unresolved");function w(m,p,b,A){return s===m&&(s=null,A!==void 0&&(c=!0),(m===a||p===a)&&o.onHydrated&&queueMicrotask(()=>o.onHydrated(A,{value:p})),a=er,g(p,b)),p}function g(m,p){it(()=>{p===void 0&&S(()=>m),C(p!==void 0?"errored":c?"ready":"unresolved"),k(p);for(const b of f.keys())b.decrement();f.clear()},!1)}function l(){const m=Es,p=d(),b=v();if(b!==void 0&&!s)throw b;return ce&&!ce.user&&m&&si(()=>{T(),s&&(m.resolved||f.has(m)||(m.increment(),f.add(m)))}),p}function y(m=!0){if(m!==!1&&u)return;u=!1;const p=h?h():r;if(p==null||p===!1){w(s,de(d));return}const b=a!==er?a:de(()=>i(p,{value:d(),refetching:m}));return vs(b)?(s=b,"value"in b?(b.status==="success"?w(s,b.value,void 0,p):w(s,void 0,mr(b.value),p),b):(u=!0,queueMicrotask(()=>u=!1),it(()=>{C(c?"refreshing":"pending"),_()},!1),b.then(A=>w(b,A,void 0,p),A=>w(b,void 0,mr(A),p)))):(w(s,b,void 0,p),b)}return Object.defineProperties(l,{state:{get:()=>E()},error:{get:()=>v()},loading:{get(){const m=E();return m==="pending"||m==="refreshing"}},latest:{get(){if(!c)return l();const m=v();if(m&&!s)throw m;return d()}}}),h?si(()=>y(!1)):y(!1),[l,{refetch:y,mutate:S}]}function ai(t,e=no,n){const r=new Map,i=hn(o=>{const s=t();for(const[a,u]of r.entries())if(e(a,s)!==e(a,o))for(const c of u.values())c.state=Ue,c.pure?_e.push(c):Ve.push(c);return s},void 0,!0,Ue);return yt(i),o=>{const s=ce;if(s){let a;(a=r.get(o))?a.add(s):r.set(o,a=new Set([s])),We(()=>{a.delete(s),!a.size&&r.delete(o)})}return e(o,i.value)}}function Lr(t){return it(t,!1)}function de(t){if(ce===null)return t();const e=ce;ce=null;try{return t()}finally{ce=e}}function bs(t,e,n){const r=Array.isArray(t);let i,o=n&&n.defer;return s=>{let a;if(r){a=Array(t.length);for(let c=0;c<t.length;c++)a[c]=t[c]()}else a=t();if(o)return o=!1,s;const u=de(()=>e(a,i,s));return i=a,u}}function oo(t){xe(()=>de(t))}function We(t){return oe===null||(oe.cleanups===null?oe.cleanups=[t]:oe.cleanups.push(t)),t}function nn(){return ce}function gr(){return oe}function ws(t,e){const n=oe,r=ce;oe=t,ce=null;try{return it(e,!0)}catch(i){jr(i)}finally{oe=n,ce=r}}function Ss(t,e){const n=Symbol("context");return{id:n,Provider:Rs(n),defaultValue:t}}function As(t){let e;return oe&&oe.context&&(e=oe.context[t.id])!==void 0?e:t.defaultValue}function Cs(t){const e=he(t),n=he(()=>yr(e()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let Es;function so(){if(this.sources&&this.state)if(this.state===Ue)yt(this);else{const t=_e;_e=null,it(()=>xn(this),!1),_e=t}if(ce){const t=this.observers?this.observers.length:0;ce.sources?(ce.sources.push(this),ce.sourceSlots.push(t)):(ce.sources=[this],ce.sourceSlots=[t]),this.observers?(this.observers.push(ce),this.observerSlots.push(ce.sources.length-1)):(this.observers=[ce],this.observerSlots=[ce.sources.length-1])}return this.value}function ao(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&it(()=>{for(let i=0;i<t.observers.length;i+=1){const o=t.observers[i],s=tr&&tr.running;s&&tr.disposed.has(o),(s?!o.tState:!o.state)&&(o.pure?_e.push(o):Ve.push(o),o.observers&&uo(o)),s||(o.state=Ue)}if(_e.length>1e6)throw _e=[],new Error},!1)),e}function yt(t){if(!t.fn)return;Wn(t);const e=Un;ks(t,t.value,e)}function ks(t,e,n){let r;const i=oe,o=ce;ce=oe=t;try{r=t.fn(e)}catch(s){return t.pure&&(t.state=Ue,t.owned&&t.owned.forEach(Wn),t.owned=null),t.updatedAt=n+1,jr(s)}finally{ce=o,oe=i}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?ao(t,r):t.value=r,t.updatedAt=n)}function hn(t,e,n,r=Ue,i){const o={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:oe,context:oe?oe.context:null,pure:n};return oe===null||oe!==io&&(oe.owned?oe.owned.push(o):oe.owned=[o]),o}function In(t){if(t.state===0)return;if(t.state===Pn)return xn(t);if(t.suspense&&de(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Un);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===Ue)yt(t);else if(t.state===Pn){const r=_e;_e=null,it(()=>xn(t,e[0]),!1),_e=r}}function it(t,e){if(_e)return t();let n=!1;e||(_e=[]),Ve?n=!0:Ve=[],Un++;try{const r=t();return Ts(n),r}catch(r){n||(Ve=null),_e=null,jr(r)}}function Ts(t){if(_e&&(co(_e),_e=null),t)return;const e=Ve;Ve=null,e.length&&it(()=>ro(e),!1)}function co(t){for(let e=0;e<t.length;e++)In(t[e])}function Os(t){let e,n=0;for(e=0;e<t.length;e++){const r=t[e];r.user?t[n++]=r:In(r)}for(e=0;e<n;e++)In(t[e])}function xn(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const r=t.sources[n];if(r.sources){const i=r.state;i===Ue?r!==e&&(!r.updatedAt||r.updatedAt<Un)&&In(r):i===Pn&&xn(r,e)}}}function uo(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=Pn,n.pure?_e.push(n):Ve.push(n),n.observers&&uo(n))}}function Wn(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),s=n.observerSlots.pop();r<i.length&&(o.sourceSlots[s]=r,i[r]=o,n.observerSlots[r]=s)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)Wn(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function mr(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function jr(t,e=oe){throw mr(t)}function yr(t){if(typeof t=="function"&&!t.length)return yr(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=yr(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}function Rs(t,e){return function(r){let i;return Re(()=>i=de(()=>(oe.context={...oe.context,[t]:r.value},Cs(()=>r.children))),void 0),i}}const _r=Symbol("fallback");function Nn(t){for(let e=0;e<t.length;e++)t[e]()}function ci(t,e,n={}){let r=[],i=[],o=[],s=0,a=e.length>1?[]:null;return We(()=>Nn(o)),()=>{let u=t()||[],c=u.length,h,f;return u[On],de(()=>{let S,v,k,T,_,E,C,w,g;if(c===0)s!==0&&(Nn(o),o=[],r=[],i=[],s=0,a&&(a=[])),n.fallback&&(r=[_r],i[0]=st(l=>(o[0]=l,n.fallback())),s=1);else if(s===0){for(i=new Array(c),f=0;f<c;f++)r[f]=u[f],i[f]=st(d);s=c}else{for(k=new Array(c),T=new Array(c),a&&(_=new Array(c)),E=0,C=Math.min(s,c);E<C&&r[E]===u[E];E++);for(C=s-1,w=c-1;C>=E&&w>=E&&r[C]===u[w];C--,w--)k[w]=i[C],T[w]=o[C],a&&(_[w]=a[C]);for(S=new Map,v=new Array(w+1),f=w;f>=E;f--)g=u[f],h=S.get(g),v[f]=h===void 0?-1:h,S.set(g,f);for(h=E;h<=C;h++)g=r[h],f=S.get(g),f!==void 0&&f!==-1?(k[f]=i[h],T[f]=o[h],a&&(_[f]=a[h]),f=v[f],S.set(g,f)):o[h]();for(f=E;f<c;f++)f in k?(i[f]=k[f],o[f]=T[f],a&&(a[f]=_[f],a[f](f))):i[f]=st(d);i=i.slice(0,s=c),r=u.slice(0)}return i});function d(S){if(o[f]=S,a){const[v,k]=Ce(f);return a[f]=k,e(u[f],v)}return e(u[f])}}}function Ps(t,e,n={}){let r=[],i=[],o=[],s=[],a=0,u;return We(()=>Nn(o)),()=>{const c=t()||[],h=c.length;return c[On],de(()=>{if(h===0)return a!==0&&(Nn(o),o=[],r=[],i=[],a=0,s=[]),n.fallback&&(r=[_r],i[0]=st(d=>(o[0]=d,n.fallback())),a=1),i;for(r[0]===_r&&(o[0](),o=[],r=[],i=[],a=0),u=0;u<h;u++)u<r.length&&r[u]!==c[u]?s[u](()=>c[u]):u>=r.length&&(i[u]=st(f));for(;u<r.length;u++)o[u]();return a=s.length=o.length=h,r=c.slice(0),i=i.slice(0,a)});function f(d){o[u]=d;const[S,v]=Ce(c[u]);return s[u]=v,e(S,u)}}}function $e(t,e){return de(()=>t(e||{}))}function vn(){return!0}const vr={get(t,e,n){return e===Ne?n:t.get(e)},has(t,e){return e===Ne?!0:t.has(e)},set:vn,deleteProperty:vn,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:vn,deleteProperty:vn}},ownKeys(t){return t.keys()}};function nr(t){return(t=typeof t=="function"?t():t)?t:{}}function Is(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function Mn(...t){let e=!1;for(let s=0;s<t.length;s++){const a=t[s];e=e||!!a&&Ne in a,t[s]=typeof a=="function"?(e=!0,he(a)):a}if(e)return new Proxy({get(s){for(let a=t.length-1;a>=0;a--){const u=nr(t[a])[s];if(u!==void 0)return u}},has(s){for(let a=t.length-1;a>=0;a--)if(s in nr(t[a]))return!0;return!1},keys(){const s=[];for(let a=0;a<t.length;a++)s.push(...Object.keys(nr(t[a])));return[...new Set(s)]}},vr);const n={},r=Object.create(null);for(let s=t.length-1;s>=0;s--){const a=t[s];if(!a)continue;const u=Object.getOwnPropertyNames(a);for(let c=u.length-1;c>=0;c--){const h=u[c];if(h==="__proto__"||h==="constructor")continue;const f=Object.getOwnPropertyDescriptor(a,h);if(!r[h])r[h]=f.get?{enumerable:!0,configurable:!0,get:Is.bind(n[h]=[f.get.bind(a)])}:f.value!==void 0?f:void 0;else{const d=n[h];d&&(f.get?d.push(f.get.bind(a)):f.value!==void 0&&d.push(()=>f.value))}}}const i={},o=Object.keys(r);for(let s=o.length-1;s>=0;s--){const a=o[s],u=r[a];u&&u.get?Object.defineProperty(i,a,u):i[a]=u?u.value:void 0}return i}function br(t,...e){if(Ne in t){const i=new Set(e.length>1?e.flat():e[0]),o=e.map(s=>new Proxy({get(a){return s.includes(a)?t[a]:void 0},has(a){return s.includes(a)&&a in t},keys(){return s.filter(a=>a in t)}},vr));return o.push(new Proxy({get(s){return i.has(s)?void 0:t[s]},has(s){return i.has(s)?!1:s in t},keys(){return Object.keys(t).filter(s=>!i.has(s))}},vr)),o}const n={},r=e.map(()=>({}));for(const i of Object.getOwnPropertyNames(t)){const o=Object.getOwnPropertyDescriptor(t,i),s=!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable;let a=!1,u=0;for(const c of e)c.includes(i)&&(a=!0,s?r[u][i]=o.value:Object.defineProperty(r[u],i,o)),++u;a||(s?n[i]=o.value:Object.defineProperty(n,i,o))}return[...r,n]}const xs=t=>`Stale read from <${t}>.`;function ui(t){const e="fallback"in t&&{fallback:()=>t.fallback};return he(Ps(()=>t.each,t.children,e||void 0))}function wr(t){const e=t.keyed,n=he(()=>t.when,void 0,{equals:(r,i)=>e?r===i:!r==!i});return he(()=>{const r=n();if(r){const i=t.children;return typeof i=="function"&&i.length>0?de(()=>i(e?r:()=>{if(!de(n))throw xs("Show");return t.when})):i}return t.fallback},void 0,void 0)}const Ns=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Ms=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Ns]),Ls=new Set(["innerHTML","textContent","innerText","children"]),js=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Ds=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Bs(t,e){const n=Ds[t];return typeof n=="object"?n[e]?n.$:void 0:n}const Gs=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),$s={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Fs(t,e,n){let r=n.length,i=e.length,o=r,s=0,a=0,u=e[i-1].nextSibling,c=null;for(;s<i||a<o;){if(e[s]===n[a]){s++,a++;continue}for(;e[i-1]===n[o-1];)i--,o--;if(i===s){const h=o<r?a?n[a-1].nextSibling:n[o-a]:u;for(;a<o;)t.insertBefore(n[a++],h)}else if(o===a)for(;s<i;)(!c||!c.has(e[s]))&&e[s].remove(),s++;else if(e[s]===n[o-1]&&n[a]===e[i-1]){const h=e[--i].nextSibling;t.insertBefore(n[a++],e[s++].nextSibling),t.insertBefore(n[--o],h),e[i]=n[o]}else{if(!c){c=new Map;let f=a;for(;f<o;)c.set(n[f],f++)}const h=c.get(e[s]);if(h!=null)if(a<h&&h<o){let f=s,d=1,S;for(;++f<i&&f<o&&!((S=c.get(e[f]))==null||S!==h+d);)d++;if(d>h-a){const v=e[s];for(;a<h;)t.insertBefore(n[a++],v)}else t.replaceChild(n[a++],e[s++])}else s++;else e[s++].remove()}}}const li="_$DX_DELEGATE";function lo(t,e,n,r={}){let i;return st(o=>{i=o,e===document?t():Dr(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{i(),e.textContent=""}}function jt(t,e,n){let r;const i=()=>{const s=document.createElement("template");return s.innerHTML=t,n?s.content.firstChild.firstChild:s.content.firstChild},o=e?()=>de(()=>document.importNode(r||(r=i()),!0)):()=>(r||(r=i())).cloneNode(!0);return o.cloneNode=o,o}function fo(t,e=window.document){const n=e[li]||(e[li]=new Set);for(let r=0,i=t.length;r<i;r++){const o=t[r];n.has(o)||(n.add(o),e.addEventListener(o,Vs))}}function rn(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function Us(t,e,n,r){r==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r)}function Vt(t,e){e==null?t.removeAttribute("class"):t.className=e}function Ws(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const i=n[0];t.addEventListener(e,n[0]=o=>i.call(t,n[1],o))}else t.addEventListener(e,n)}function Hs(t,e,n={}){const r=Object.keys(e||{}),i=Object.keys(n);let o,s;for(o=0,s=i.length;o<s;o++){const a=i[o];!a||a==="undefined"||e[a]||(fi(t,a,!1),delete n[a])}for(o=0,s=r.length;o<s;o++){const a=r[o],u=!!e[a];!a||a==="undefined"||n[a]===u||!u||(fi(t,a,!0),n[a]=u)}return n}function zs(t,e,n){if(!e)return n?rn(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let i,o;for(o in n)e[o]==null&&r.removeProperty(o),delete n[o];for(o in e)i=e[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function ho(t,e={},n,r){const i={};return r||Re(()=>i.children=Rt(t,e.children,i.children)),Re(()=>typeof e.ref=="function"&&Ct(e.ref,t)),Re(()=>qs(t,e,n,!0,i,!0)),i}function Ct(t,e,n){return de(()=>t(e,n))}function Dr(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return Rt(t,e,r,n);Re(i=>Rt(t,e(),i,n),r)}function qs(t,e,n,r,i={},o=!1){e||(e={});for(const s in i)if(!(s in e)){if(s==="children")continue;i[s]=hi(t,s,null,i[s],n,o)}for(const s in e){if(s==="children"){r||Rt(t,e.children);continue}const a=e[s];i[s]=hi(t,s,a,i[s],n,o)}}function Xs(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function fi(t,e,n){const r=e.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)t.classList.toggle(r[i],n)}function hi(t,e,n,r,i,o){let s,a,u,c,h;if(e==="style")return zs(t,n,r);if(e==="classList")return Hs(t,n,r);if(n===r)return r;if(e==="ref")o||n(t);else if(e.slice(0,3)==="on:"){const f=e.slice(3);r&&t.removeEventListener(f,r),n&&t.addEventListener(f,n)}else if(e.slice(0,10)==="oncapture:"){const f=e.slice(10);r&&t.removeEventListener(f,r,!0),n&&t.addEventListener(f,n,!0)}else if(e.slice(0,2)==="on"){const f=e.slice(2).toLowerCase(),d=Gs.has(f);if(!d&&r){const S=Array.isArray(r)?r[0]:r;t.removeEventListener(f,S)}(d||n)&&(Ws(t,f,n,d),d&&fo([f]))}else if(e.slice(0,5)==="attr:")rn(t,e.slice(5),n);else if((h=e.slice(0,5)==="prop:")||(u=Ls.has(e))||!i&&((c=Bs(e,t.tagName))||(a=Ms.has(e)))||(s=t.nodeName.includes("-")))h&&(e=e.slice(5),a=!0),e==="class"||e==="className"?Vt(t,n):s&&!a&&!u?t[Xs(e)]=n:t[c||e]=n;else{const f=i&&e.indexOf(":")>-1&&$s[e.split(":")[0]];f?Us(t,f,e,n):rn(t,js[e]||e,n)}return n}function Vs(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[e];if(r&&!n.disabled){const i=n[`${e}Data`];if(i!==void 0?r.call(n,i,t):r.call(n,t),t.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Rt(t,e,n,r,i){for(;typeof n=="function";)n=n();if(e===n)return n;const o=typeof e,s=r!==void 0;if(t=s&&n[0]&&n[0].parentNode||t,o==="string"||o==="number"){if(o==="number"&&(e=e.toString(),e===n))return n;if(s){let a=n[0];a&&a.nodeType===3?a.data!==e&&(a.data=e):a=document.createTextNode(e),n=wt(t,n,r,a)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||o==="boolean")n=wt(t,n,r);else{if(o==="function")return Re(()=>{let a=e();for(;typeof a=="function";)a=a();n=Rt(t,a,n,r)}),()=>n;if(Array.isArray(e)){const a=[],u=n&&Array.isArray(n);if(Sr(a,e,n,i))return Re(()=>n=Rt(t,a,n,r,!0)),()=>n;if(a.length===0){if(n=wt(t,n,r),s)return n}else u?n.length===0?di(t,a,r):Fs(t,n,a):(n&&wt(t),di(t,a));n=a}else if(e.nodeType){if(Array.isArray(n)){if(s)return n=wt(t,n,r,e);wt(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function Sr(t,e,n,r){let i=!1;for(let o=0,s=e.length;o<s;o++){let a=e[o],u=n&&n[t.length],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)t.push(a);else if(Array.isArray(a))i=Sr(t,a,u)||i;else if(c==="function")if(r){for(;typeof a=="function";)a=a();i=Sr(t,Array.isArray(a)?a:[a],Array.isArray(u)?u:[u])||i}else t.push(a),i=!0;else{const h=String(a);u&&u.nodeType===3&&u.data===h?t.push(u):t.push(document.createTextNode(h))}}return i}function di(t,e,n=null){for(let r=0,i=e.length;r<i;r++)t.insertBefore(e[r],n)}function wt(t,e,n,r){if(n===void 0)return t.textContent="";const i=r||document.createTextNode("");if(e.length){let o=!1;for(let s=e.length-1;s>=0;s--){const a=e[s];if(i!==a){const u=a.parentNode===t;!o&&!s?u?t.replaceChild(i,a):t.insertBefore(i,n):u&&a.remove()}else o=!0}}else t.insertBefore(i,n);return[i]}var Br=(t,e)=>{let n;const r=()=>clearTimeout(n);return gr()&&We(r),Object.assign((...o)=>{n!==void 0&&r(),n=setTimeout(()=>t(...o),e)},{clear:r})};function Gr(t){let e=0,n=!1;const[r,i]=Ce(void 0,{equals:!1}),o=t(()=>{n=!0,i()});return()=>(n||(o(),r()),n?(n=!!e,!0):(nn()&&(e++,We(()=>e--)),!1))}const Ks=t=>t.split("/").pop()?.split(".")[1];class po extends EventTarget{addEventListener(e,n,r){super.addEventListener(e,n,r)}removeEventListener(e,n,r){super.removeEventListener(e,n,r)}dispatchEvent(e){return super.dispatchEvent(e)}}class go extends Event{constructor(e){super("url"),this.url=e}}class Js extends Event{constructor(e){super("source"),this.source=e}}class $r extends po{constructor(e,n,r){super(),this.runtime=e,this.path=n,[this.#e,this.#t]=Ce(""),this.#n=()=>r!==void 0?r:!!e.config.controlled}#e;#t;#n;get source(){return this.#n()?this.runtime.config.files[this.path]:this.#e()}get extension(){return Ks(this.path)}set(e){this.runtime.config.onFileChange?.(this.path,e),this.#n()||this.#t(e)}get(){return this.#n()?this.runtime.config.files[this.path]:this.#e()}moduleTransform(){const e=this.url;if(!e)throw`Currently module-url of ${this.path} is undefined.`;return e}onSource(e){return this.addEventListener("source",e),()=>this.removeEventListener("source",e)}onUrl(e){return this.addEventListener("url",e),()=>this.removeEventListener("url",e)}}function Fr(t){xe(()=>{t.dispatchEvent(new Js(t.source))}),xe(()=>{t.url&&t.dispatchEvent(new go(t.url))})}function Ys(t,e){return`
import { dispose } from "@repl/std"
(() => {
  let stylesheet = document.querySelector('[data-repl-css-id="${t}"]');
  if(!stylesheet){
    stylesheet = document.createElement('style')
    stylesheet.setAttribute('data-repl-css-id', '${t}');
    document.head.appendChild(stylesheet)
    dispose('${t}', () => stylesheet.remove())
  }
  const styles = document.createTextNode(\`${e}\`)
  stylesheet.innerHTML = ''
  stylesheet.appendChild(styles)
})()`}class Qs extends $r{jsFile;type="css";constructor(e,n){super(e,n),this.jsFile=e.fs.create(n.replace(".css",".js"));const r=Gr(i=>Br(i,250));xe(()=>{r()&&this.jsFile.set(Ys(n,this.get()))}),Fr(this)}createObjectUrl(){return this.jsFile.createObjectUrl()}get url(){return this.jsFile.createObjectUrl()}}function on(t,e,n){const r=typeof t=="function"?t():t;return r?e(r):n?n():void 0}function Ur(t,e,n){return()=>on(t,e,n)}function pi(...t){function e(){const n=new Array(t.length);for(let r=0;r<t.length;r++){const i=typeof t[r]=="function"?t[r]():t[r];if(!i)return;n[r]=i}return n}return e}function Ze(t,e){xe(Ur(t,e))}function Wr(t,e){const n=e.match(/\.\.\//g)?.length||0;return(n>0?[...t.split("/").slice(0,-(n+1)),...e.split("/").slice(n)]:[...t.split("/").slice(0,-1),...e.split("/").slice(1)]).join("/")}const Hr=t=>t.startsWith("blob:")||t.startsWith("http:")||t.startsWith("https:"),zr=t=>t.startsWith("."),Zs=/(?:@?[^@\/]*\/)?([^@\/]+)@([^\s\/]+)/,gi=t=>{const e=t.match(Zs);if(e){const n=e[1],r=e[2];return[n,r]}else return};class ea extends Event{constructor(e){super("dependency-removed"),this.file=e}}class ht extends $r{constructor(e,n){super(e,n),this.runtime=e,this.path=n;let r=!1;const i=Gr(s=>Br(s,250)),o=Ur(()=>(!r||i())&&this.source,s=>{if(r=!0,s==="")return"";if(Array.isArray(e.config.transform)){let a=s;try{return e.config.transform.forEach(u=>{a=u(a,n,e)}),a}catch(u){return console.error("Error while transforming js",{error:u,source:s,current:a}),null}}try{return e.config.transform(this.source,this.path,e)}catch(a){console.error("Error while transforming js",{error:a,source:s})}});this.#t=he(s=>on(o,a=>{const u=[],c=new Set(de(()=>this.dependencies));try{return Lr(()=>e.config.transformModulePaths(a,h=>{if(Hr(h))return h;const f=e.fs.alias[h];if(f||zr(h)){const d=e.fs.resolve(f||Wr(n,h));if(!d)throw`Could not resolve relative module-path to its virtual file. Are you sure ${h} exists?`;return u.push(d),c.delete(d),d.moduleTransform()}else return e.config.importExternalTypes&&e.types.import.fromPackageName(h),`${e.config.cdn}/${h}`}))}catch(h){return console.warn("error",h),s}finally{this.dependencies=u;for(const h of c)this.dispatchEvent(new ea(h))}},()=>s)),this.#e=he(s=>this.createObjectUrl()||s),Fr(this)}dependencies=[];#e;#t;get url(){return this.#e()}get type(){switch(this.extension){case"js":return"javascript";case"jsx":return"javascript";case"ts":return"typescript";case"tsx":return"typescript";default:throw`Unknown extension ${this.extension}`}}resolveDependencies(){const e=new Set,n=[...this.dependencies];for(;n.length>0;){const r=n.pop();if(r&&!e.has(r)&&(e.add(r),r instanceof ht))for(const i of r.dependencies)e.has(i)||n.push(i)}return Array.from(e)}createObjectUrl(){const e=this.#t();if(e)return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}onDependencyRemoved(e){return this.addEventListener("dependency-removed",e),()=>this.removeEventListener("dependency-removed",e)}}const mo=(t,e)=>t.reduce((n,r,i)=>n+r+(e[i]||""),"");function ta(t,...e){const n=URL.createObjectURL(new Blob([mo(t,e)],{type:"text/html"}));return We(()=>URL.revokeObjectURL(n)),n}function na(t,...e){const n=URL.createObjectURL(new Blob([mo(t,e)],{type:"text/javascript"}));return We(()=>URL.revokeObjectURL(n)),n}class ra extends $r{#e;createObjectUrl;type="wasm";constructor(e,n,r){super(e,n,r);const i=Gr(o=>Br(o,250));this.createObjectUrl=()=>{const o=this.get();if(!o)return;const s=Uint8Array.from(atob(o),a=>a.charCodeAt(0));return na`
const wasmCode = new Uint8Array([${s.toString()}]);
export default (imports) =>  WebAssembly.instantiate(wasmCode, imports).then(result => result.instance);
`},this.#e=he(o=>{if(!i())return o;const s=this.createObjectUrl();return s?(this.dispatchEvent(new go(s)),s):o}),Fr(this)}get url(){return this.#e()}}function ia(t,e){return new Promise(n=>{const r=()=>{n(),t.removeEventListener(e,r)};t.addEventListener(e,r)})}class oa{constructor(e){this.iframe=e;const n=e.contentWindow;if(!n)throw"contentWindow is not defined!";this.contentWindow=n}contentWindow;reloading=!1;injectModuleUrl(e){const n=this.contentWindow.document.createElement("script");return n.type="module",n.src=e,this.contentWindow.document.head.appendChild(n),()=>{this.contentWindow.document.head.removeChild(n),URL.revokeObjectURL(e)}}injectFile(e){return xe(bs(()=>e.url,()=>We(()=>this.dispose(e.path)))),e instanceof ht&&e.onDependencyRemoved(({file:n})=>this.dispose(n.path)),on(e.createObjectUrl(),n=>this.injectModuleUrl(n))}dispose(e){const n=this.contentWindow.repl?.dispose;if(typeof n=="function")return n(e)}reload(){return this.contentWindow.location.reload(),this.reloading=!0,ia(this.iframe,"load").then(()=>this.reloading=!1)}clearBody(){this.contentWindow.document.body.innerHTML=""}}class sa{async parse(e){e.startsWith(".")&&(e=new URL(e,window.location.href.toString()).href);const n=await fetch(`${e}/package.json`).then(o=>o.json()),r=typeof n.exports=="string"?n.exports:this.resolveExportPath(e,n.exports,"default","import")||n.module||n.main;if(!r)throw new Error("No valid module entry found for script.");const i=typeof n.exports!="string"&&this.resolveExportPath(e,n.exports,"default","types")||n.types||n.typings;return{typesUrl:i&&new URL(i,`${e}/`).href,scriptUrl:new URL(r,`${e}/`).href,packageName:n.name}}resolveExportPath(e,n,r,i){if(!n)return;function o(s,a){if(s)return typeof s=="string"?s:o(s[a],a)||o(s.default,a)}return o(n[r],r)||o(n[i],i)}}const Ar=Symbol("store-raw"),Et=Symbol("store-node"),tt=Symbol("store-has"),yo=Symbol("store-self");function _o(t){let e=t[Ne];if(!e&&(Object.defineProperty(t,Ne,{value:e=new Proxy(t,ua)}),!Array.isArray(t))){const n=Object.keys(t),r=Object.getOwnPropertyDescriptors(t);for(let i=0,o=n.length;i<o;i++){const s=n[i];r[s].get&&Object.defineProperty(t,s,{enumerable:r[s].enumerable,get:r[s].get.bind(e)})}}return e}function Ln(t){let e;return t!=null&&typeof t=="object"&&(t[Ne]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function Pt(t,e=new Set){let n,r,i,o;if(n=t!=null&&t[Ar])return n;if(!Ln(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let s=0,a=t.length;s<a;s++)i=t[s],(r=Pt(i,e))!==i&&(t[s]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const s=Object.keys(t),a=Object.getOwnPropertyDescriptors(t);for(let u=0,c=s.length;u<c;u++)o=s[u],!a[o].get&&(i=t[o],(r=Pt(i,e))!==i&&(t[o]=r))}return t}function jn(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function sn(t,e,n){if(t[e])return t[e];const[r,i]=Ce(n,{equals:!1,internal:!0});return r.$=i,t[e]=r}function aa(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===Ne||e===Et||(delete n.value,delete n.writable,n.get=()=>t[Ne][e]),n}function vo(t){nn()&&sn(jn(t,Et),yo)()}function ca(t){return vo(t),Reflect.ownKeys(t)}const ua={get(t,e,n){if(e===Ar)return t;if(e===Ne)return n;if(e===On)return vo(t),n;const r=jn(t,Et),i=r[e];let o=i?i():t[e];if(e===Et||e===tt||e==="__proto__")return o;if(!i){const s=Object.getOwnPropertyDescriptor(t,e);nn()&&(typeof o!="function"||t.hasOwnProperty(e))&&!(s&&s.get)&&(o=sn(r,e,o)())}return Ln(o)?_o(o):o},has(t,e){return e===Ar||e===Ne||e===On||e===Et||e===tt||e==="__proto__"?!0:(nn()&&sn(jn(t,tt),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:ca,getOwnPropertyDescriptor:aa};function Dn(t,e,n,r=!1){if(!r&&t[e]===n)return;const i=t[e],o=t.length;n===void 0?(delete t[e],t[tt]&&t[tt][e]&&i!==void 0&&t[tt][e].$()):(t[e]=n,t[tt]&&t[tt][e]&&i===void 0&&t[tt][e].$());let s=jn(t,Et),a;if((a=sn(s,e,i))&&a.$(()=>n),Array.isArray(t)&&t.length!==o){for(let u=t.length;u<o;u++)(a=s[u])&&a.$();(a=sn(s,"length",o))&&a.$(t.length)}(a=s[yo])&&a.$()}function bo(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const i=n[r];Dn(t,i,e[i])}}function la(t,e){if(typeof e=="function"&&(e=e(t)),e=Pt(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){const i=e[n];t[n]!==i&&Dn(t,n,i)}Dn(t,"length",r)}else bo(t,e)}function Kt(t,e,n=[]){let r,i=t;if(e.length>1){r=e.shift();const s=typeof r,a=Array.isArray(t);if(Array.isArray(r)){for(let u=0;u<r.length;u++)Kt(t,[r[u]].concat(e),n);return}else if(a&&s==="function"){for(let u=0;u<t.length;u++)r(t[u],u)&&Kt(t,[u].concat(e),n);return}else if(a&&s==="object"){const{from:u=0,to:c=t.length-1,by:h=1}=r;for(let f=u;f<=c;f+=h)Kt(t,[f].concat(e),n);return}else if(e.length>1){Kt(t[r],e,[r].concat(n));return}i=t[r],n=[r].concat(n)}let o=e[0];typeof o=="function"&&(o=o(i,n),o===i)||r===void 0&&o==null||(o=Pt(o),r===void 0||Ln(i)&&Ln(o)&&!Array.isArray(o)?bo(i,o):Dn(t,r,o))}function Bn(...[t,e]){const n=Pt(t||{}),r=Array.isArray(n),i=_o(n);function o(...s){Lr(()=>{r&&s.length===1?la(n,s[0]):Kt(n,s)})}return[i,o]}const fa=`/**
 * Standard library that is included in each FileSystem, aliased to \`@repl/std\`
 */

const cleanups = new Map<string, () => void>()
/** Add function to clean-up side-effects after module is reload. */
export const dispose = (id: string, callback: () => void) => cleanups.set(id, callback)

// Extend the Window interface in the same file
declare global {
  interface Window {
    repl?: {
      dispose: (id?: string) => void
    }
  }
}

window.repl = {
  dispose(id?: string) {
    if (id) {
      cleanups.get(id)?.()
    } else {
      cleanups.forEach(cleanup => cleanup())
    }
  },
}
`;class ha extends Event{constructor(e){super("file"),this.file=e}}class da extends po{constructor(e){super(),this.runtime=e;const[n,r]=Bn({});this.#e=n,this.#t=r,[this.alias,this.setAlias]=Bn({"@repl/std":"@repl/std.ts"}),We(()=>this.#n.forEach(i=>i()))}alias;setAlias;#e;#t;#n=[];initialize(e){const n={...e,"@repl/std.ts":fa};for(const[r,i]of Object.entries(n))this.create(r).set(i)}toJSON(){return{sources:Object.fromEntries(Object.entries(this.#e).map(([e,n])=>[e,n.source])),alias:this.alias}}addProject(e){Object.entries(e).forEach(([n,r])=>{this.create(n).set(r)})}create(e){let n=null;for(const i in this.runtime.extensions)e.endsWith(i)&&i.length>(n?.length||0)&&(n=i);if(n===null)throw"extension type is not supported";const r=new this.runtime.extensions[n](this.runtime,e);return this.#t(e,r),this.dispatchEvent(new ha(r)),r}has(e){return e in this.#e}get(e){return this.#e[e]}getOrCreate(e){return this.runtime.fs.get(e)||this.runtime.fs.create(e)}resolve(e){return this.#e[e]||this.#e[`${e}/index.ts`]||this.#e[`${e}/index.tsx`]||this.#e[`${e}/index.d.ts`]||this.#e[`${e}/index.js`]||this.#e[`${e}/index.jsx`]||this.#e[`${e}.ts`]||this.#e[`${e}.tsx`]||this.#e[`${e}.d.ts`]||this.#e[`${e}.js`]||this.#e[`${e}.jsx`]}all(){return Object.fromEntries(Object.entries(this.#e).filter(([e])=>e.split("/")[0]!=="node_modules"))}remove(e){this.#t({[e]:void 0})}}class pa{constructor(e){this.runtime=e}packageJsonParser=new sa;async fromPackageJson(e){const n=o=>Hr(o)?new URL(o).pathname:o,[r]=rt(()=>this.packageJsonParser.parse(e)),[i]=rt(r,async({scriptUrl:o,packageName:s})=>{const a={},u=async c=>{const h=n(c),f=await fetch(c).then(v=>{if(v.status!==200)throw new Error(`Error while loading ${c}: ${v.statusText}`);return v.text()}),d=[],S=await this.runtime.config.transformModulePaths(f,v=>(zr(v)&&d.push(u(Wr(c,v))),v));if(!S)throw new Error(`Transform returned undefined for ${h}`);await Promise.all(d),a[h]=S};return await u(o),this.runtime.fs.setAlias(s,`node_modules${n(o)}`),a});Ze(r,({typesUrl:o,packageName:s})=>{o&&this.runtime.types.import.fromUrl(o,s)}),Ze(i,o=>Object.entries(o).forEach(([s,a])=>{this.runtime.fs.create(`node_modules${s}`).set(a)}))}}function wo(t,...e){return[`%c[REPL]%c ${t}`,"color: red","",...e]}class ga{constructor(e,n){this.runtime=e,this.typeRegistry=n}cachedUrls=new Set;cachedPackageNames=new Set;initialize(e){e.sources&&Object.keys(e.sources).forEach(n=>{this.cachedUrls.add(n)}),e.alias&&Object.entries(e.alias).forEach(([n])=>{this.cachedPackageNames.add(n)})}async fromUrl(e,n){const r=this.getVirtualPath(e);if(n&&this.cachedPackageNames.has(n)||this.cachedUrls.has(r))return;this.cachedUrls.add(r),n&&this.cachedPackageNames.add(n);const i=async o=>{const s=this.getVirtualPath(o);if(this.typeRegistry.has(s))return;this.typeRegistry.set(s,null);const a=await fetch(o).then(h=>(h.status,h.text())),u=[],c=await this.runtime.config.transformModulePaths(a,h=>{if(zr(h)){if(u.push(i(Wr(o,h))),h.endsWith(".js"))return h=h.replace(".js",".d.ts"),h}else if(Hr(h)){let f=this.getVirtualPath(h);return on(gi(f),([d,S])=>{for(const v of Object.keys(this.typeRegistry.sources))if(on(gi(v),([T,_])=>T===d?(S!==_&&(console.warn(`Conflicting version numbers: Overwriting version number of ${d} from ${S} to ${_}.
Accessed ${h} from ${o}.`),h=h.replace(S,_),f=f.replace(S,_)),!0):!1))break}),u.push(this.fromUrl(h)),this.typeRegistry.aliasPath(f,`file:///node_modules/${f}`),f}else u.push(this.fromPackageName(h));return h});if(!c)throw new Error(`Transform returned undefined for ${s}`);await Promise.all(u),this.typeRegistry.set(s,c)};await i(e),n&&(this.cachedPackageNames.add(n),this.typeRegistry.aliasPath(n,`file:///node_modules/${r}`))}async fromPackageName(e){if(this.cachedPackageNames.has(e))return;this.cachedPackageNames.add(e);const n=await fetch(`${this.runtime.config.cdn}/${e}`).then(i=>i.headers.get("X-TypeScript-Types")).catch(i=>{console.info(i)});if(!n){console.error(...wo("no type url was found for package",e));return}const r=this.getVirtualPath(n);await this.fromUrl(n),this.typeRegistry.aliasPath(e,`file:///node_modules/${r}`)}getVirtualPath(e){return e.replace(`${this.runtime.config.cdn}/`,"").replace("http://","").split("/").slice(1).join("/")}}class ma{constructor(e){this.runtime=e,[this.sources,this.setSources]=Bn({}),[this.alias,this.setAlias]=Bn({}),this.import=new ga(e,this)}sources;setSources;alias;setAlias;import;toJSON(){return{alias:this.alias,sources:this.sources}}initialize(e){Lr(()=>{e.sources&&this.setSources(e.sources),e.alias&&(this.setAlias(e.alias),Object.entries(e.alias).forEach(([n,r])=>{this.aliasPath(n,r[0])}))}),this.import.initialize(e)}aliasPath(e,n){this.setAlias(e,[n])}set(e,n){this.setSources(e,n)}has(e){return e in this.sources}}class ya{config;fs;types;import;get extensions(){return{css:Qs,js:ht,jsx:ht,ts:ht,tsx:ht,wasm:ra,...this.config.extensions}}initialized=!1;constructor(e){this.config=Mn({cdn:"https://esm.sh"},e),this.fs=new da(this),this.import=new pa(this),this.types=new ma(this)}toJSON(){return{files:this.fs.toJSON(),types:this.types.toJSON()}}initialize(){return this.config.files&&this.fs.initialize(this.config.files),this.initialized=!0,this}download(e="repl.config.json"){const n=this.toJSON(),r=new Blob([JSON.stringify(n)],{type:"text/json"}),i=document.createElement("a");i.download=e,i.href=window.URL.createObjectURL(r),i.dataset.downloadurl=["text/json",i.download,i.href].join(":");const o=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});i.dispatchEvent(o),i.remove()}getFile(e,n=!0){return this.fs.get(e)||de(()=>n?this.fs.create(e):void 0)}setFile(e,n,r){return this.getFile(e,r)?.set(n)}}function So(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=So(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _a(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=So(t))&&(r&&(r+=" "),r+=e);return r}const va="_frame_16a59_1",ba={frame:va};var wa=jt("<iframe>");function Sa(t){const[e,n]=br(t,["class","runtime","onReady"]);return(()=>{var r=wa();return Ct(i=>{oo(()=>{if(!i.contentWindow){console.error(...wo("contentWindow is not defined on iframe:",i));return}const o=()=>{const s=new oa(i);i.contentWindow?.removeEventListener("DOMContentLoaded",o),e.onReady?.(s)};i.contentWindow.addEventListener("DOMContentLoaded",o)})},r),ho(r,Mn(n,{get class(){return _a(ba.frame,e.class)},src:ta`<!doctype html>
        <html>
          <head>
            <meta charset="UTF-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0" />
          </head>
          <body></body>
        </html>`}),!1,!1),r})()}const Aa="modulepreload",Ca=function(t,e){return new URL(t,e).href},mi={},It=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=Ca(o,r),o in mi)return;mi[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const f=i[h];if(f.href===o&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":Aa,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((h,f)=>{c.addEventListener("load",h),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};var xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ea(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var qr={},Hn={},Xr={},He={},Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});function ka(t){return Vr(t)}Dt.clone=ka;function Vr(t){return Array.isArray(t)?Ta(t):typeof t=="object"?Oa(t):t}function Ta(t){for(var e=[],n=0,r=t.length;n<r;n++)e[n]=Vr(t[n]);return e}function Oa(t){var e={};for(var n in t)e[n]=Vr(t[n]);return e}function Ra(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.forEach(function(r){for(var i in r)t[i]=r[i]}),t}Dt.mergeObjects=Ra;var yi=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/,Pa=function(){function t(){}return t.hasCaptures=function(e){return yi.test(e)},t.replaceCaptures=function(e,n,r){return e.replace(yi,function(i,o,s,a){var u=r[parseInt(o||s,10)];if(u){for(var c=n.substring(u.start,u.end);c[0]===".";)c=c.substring(1);switch(a){case"downcase":return c.toLowerCase();case"upcase":return c.toUpperCase();default:return c}}else return i})},t}();Dt.RegexSource=Pa;var Pe={};const Ia={},xa=Object.freeze(Object.defineProperty({__proto__:null,default:Ia},Symbol.toStringTag,{value:"Module"})),Na=Ea(xa);var Bt={},dn={},Ao={exports:{}};(function(t,e){var n=function(){return typeof document<"u"&&document.currentScript&&document.currentScript.src,function(r){r=r||{};var i=typeof r<"u"?r:{},o={},s;for(s in i)i.hasOwnProperty(s)&&(o[s]=i[s]);var a=!1,u="";function c(O){return i.locateFile?i.locateFile(O,u):u+O}var h;h=function(R){var L;return typeof readbuffer=="function"?new Uint8Array(readbuffer(R)):(L=read(R,"binary"),_(typeof L=="object"),L)},typeof scriptArgs<"u"&&scriptArgs,typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print);var f=i.print||console.log.bind(console),d=i.printErr||console.warn.bind(console);for(s in o)o.hasOwnProperty(s)&&(i[s]=o[s]);o=null,i.arguments&&i.arguments,i.thisProgram&&i.thisProgram,i.quit&&i.quit;var S;i.wasmBinary&&(S=i.wasmBinary),i.noExitRuntime&&i.noExitRuntime,typeof WebAssembly!="object"&&d("no native wasm support detected");var v,k=new WebAssembly.Table({initial:244,maximum:244+0,element:"anyfunc"}),T=!1;function _(O,R){O||Oe("Assertion failed: "+R)}function E(O){var R=i["_"+O];return _(R,"Cannot call unknown function "+O+", make sure it is exported"),R}function C(O,R,L,$,W){var H={string:function(Se){var De=0;if(Se!=null&&Se!==0){var lt=(Se.length<<2)+1;De=je(lt),m(Se,De,lt)}return De},array:function(Se){var De=je(Se.length);return p(Se,De),De}};function F(Se){return R==="string"?l(Se):R==="boolean"?!!Se:Se}var U=E(O),Z=[],ee=0;if($)for(var ie=0;ie<$.length;ie++){var re=H[L[ie]];re?(ee===0&&(ee=Wt()),Z[ie]=re($[ie])):Z[ie]=$[ie]}var Te=U.apply(null,Z);return Te=F(Te),ee!==0&&_n(ee),Te}var w=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function g(O,R,L){for(var $=R+L,W=R;O[W]&&!(W>=$);)++W;if(W-R>16&&O.subarray&&w)return w.decode(O.subarray(R,W));for(var H="";R<W;){var F=O[R++];if(!(F&128)){H+=String.fromCharCode(F);continue}var U=O[R++]&63;if((F&224)==192){H+=String.fromCharCode((F&31)<<6|U);continue}var Z=O[R++]&63;if((F&240)==224?F=(F&15)<<12|U<<6|Z:F=(F&7)<<18|U<<12|Z<<6|O[R++]&63,F<65536)H+=String.fromCharCode(F);else{var ee=F-65536;H+=String.fromCharCode(55296|ee>>10,56320|ee&1023)}}return H}function l(O,R){return O?g(N,O,R):""}function y(O,R,L,$){if(!($>0))return 0;for(var W=L,H=L+$-1,F=0;F<O.length;++F){var U=O.charCodeAt(F);if(U>=55296&&U<=57343){var Z=O.charCodeAt(++F);U=65536+((U&1023)<<10)|Z&1023}if(U<=127){if(L>=H)break;R[L++]=U}else if(U<=2047){if(L+1>=H)break;R[L++]=192|U>>6,R[L++]=128|U&63}else if(U<=65535){if(L+2>=H)break;R[L++]=224|U>>12,R[L++]=128|U>>6&63,R[L++]=128|U&63}else{if(L+3>=H)break;R[L++]=240|U>>18,R[L++]=128|U>>12&63,R[L++]=128|U>>6&63,R[L++]=128|U&63}}return R[L]=0,L-W}function m(O,R,L){return y(O,N,R,L)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");function p(O,R){x.set(O,R)}var b=65536;function A(O,R){return O%R>0&&(O+=R-O%R),O}var P,x,N,D;function G(O){P=O,i.HEAP8=x=new Int8Array(O),i.HEAP16=new Int16Array(O),i.HEAP32=D=new Int32Array(O),i.HEAPU8=N=new Uint8Array(O),i.HEAPU16=new Uint16Array(O),i.HEAPU32=new Uint32Array(O),i.HEAPF32=new Float32Array(O),i.HEAPF64=new Float64Array(O)}var X=5507664,K=264624,q=i.TOTAL_MEMORY||157286400;i.wasmMemory?v=i.wasmMemory:v=new WebAssembly.Memory({initial:q/b}),v&&(P=v.buffer),q=P.byteLength,G(P),D[K>>2]=X;function J(O){for(;O.length>0;){var R=O.shift();if(typeof R=="function"){R();continue}var L=R.func;typeof L=="number"?R.arg===void 0?i.dynCall_v(L):i.dynCall_vi(L,R.arg):L(R.arg===void 0?null:R.arg)}}var se=[],te=[],V=[],j=[];function z(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)Q(i.preRun.shift());J(se)}function ue(){J(te)}function B(){J(V)}function Y(){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)le(i.postRun.shift());J(j)}function Q(O){se.unshift(O)}function le(O){j.unshift(O)}var ve=0,fe=null;function Je(O){ve++,i.monitorRunDependencies&&i.monitorRunDependencies(ve)}function ze(O){if(ve--,i.monitorRunDependencies&&i.monitorRunDependencies(ve),ve==0&&fe){var R=fe;fe=null,R()}}i.preloadedImages={},i.preloadedAudios={};function Oe(O){throw i.onAbort&&i.onAbort(O),O+="",f(O),d(O),T=!0,O="abort("+O+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(O)}var Me="data:application/octet-stream;base64,";function qe(O){return String.prototype.startsWith?O.startsWith(Me):O.indexOf(Me)===0}var be="onigasm.wasm";qe(be)||(be=c(be));function Le(){try{if(S)return new Uint8Array(S);if(h)return h(be);throw"both async and sync fetching of the wasm failed"}catch(O){Oe(O)}}function Ee(){return!S&&a&&typeof fetch=="function"?fetch(be,{credentials:"same-origin"}).then(function(O){if(!O.ok)throw"failed to load wasm binary file at '"+be+"'";return O.arrayBuffer()}).catch(function(){return Le()}):new Promise(function(O,R){O(Le())})}function Ye(){var O={env:ut,wasi_unstable:ut};function R(F,U){var Z=F.exports;i.asm=Z,ze()}Je();function L(F){R(F.instance)}function $(F){return Ee().then(function(U){return WebAssembly.instantiate(U,O)}).then(F,function(U){d("failed to asynchronously prepare wasm: "+U),Oe(U)})}function W(){if(!S&&typeof WebAssembly.instantiateStreaming=="function"&&!qe(be)&&typeof fetch=="function")fetch(be,{credentials:"same-origin"}).then(function(F){var U=WebAssembly.instantiateStreaming(F,O);return U.then(L,function(Z){d("wasm streaming compile failed: "+Z),d("falling back to ArrayBuffer instantiation"),$(L)})});else return $(L)}if(i.instantiateWasm)try{var H=i.instantiateWasm(O,R);return H}catch(F){return d("Module.instantiateWasm callback failed with error: "+F),!1}return W(),{}}te.push({func:function(){we()}});function ot(){Oe()}function _t(){return x.length}function Qe(){return 264624}function $t(O,R,L){N.set(N.subarray(R,R+L),O)}function vt(O){try{return v.grow(O-P.byteLength+65535>>16),G(v.buffer),1}catch{}}function Ft(O){var R=_t(),L=65536,$=2147483648-L;if(O>$)return!1;for(var W=16777216,H=Math.max(R,W);H<O;)H<=536870912?H=A(2*H,L):H=Math.min(A((3*H+2147483648)/4,L),$);var F=vt(H);return!!F}var ke={buffers:[null,[],[]],printChar:function(O,R){var L=ke.buffers[O];R===0||R===10?((O===1?f:d)(g(L,0)),L.length=0):L.push(R)},varargs:0,get:function(O){ke.varargs+=4;var R=D[ke.varargs-4>>2];return R},getStr:function(){var O=l(ke.get());return O},get64:function(){var O=ke.get();return ke.get(),O},getZero:function(){ke.get()}};function bt(O){try{return 0}catch(R){return(typeof FS>"u"||!(R instanceof FS.ErrnoError))&&Oe(R),R.errno}}function Yn(O,R,L,$,W){try{return 0}catch(H){return(typeof FS>"u"||!(H instanceof FS.ErrnoError))&&Oe(H),H.errno}}function Qn(O,R,L,$){try{for(var W=0,H=0;H<L;H++){for(var F=D[R+H*8>>2],U=D[R+(H*8+4)>>2],Z=0;Z<U;Z++)ke.printChar(O,N[F+Z]);W+=U}return D[$>>2]=W,0}catch(ee){return(typeof FS>"u"||!(ee instanceof FS.ErrnoError))&&Oe(ee),ee.errno}}function Zn(O){}var ut={abort:ot,emscripten_get_sbrk_ptr:Qe,emscripten_memcpy_big:$t,emscripten_resize_heap:Ft,fd_close:bt,fd_seek:Yn,fd_write:Qn,memory:v,setTempRet0:Zn,table:k},Ut=Ye();i.asm=Ut;var we=i.___wasm_call_ctors=function(){return i.asm.__wasm_call_ctors.apply(null,arguments)};i._malloc=function(){return i.asm.malloc.apply(null,arguments)},i._free=function(){return i.asm.free.apply(null,arguments)},i._getLastError=function(){return i.asm.getLastError.apply(null,arguments)},i._compilePattern=function(){return i.asm.compilePattern.apply(null,arguments)},i._disposeCompiledPatterns=function(){return i.asm.disposeCompiledPatterns.apply(null,arguments)},i._findBestMatch=function(){return i.asm.findBestMatch.apply(null,arguments)},i.___cxa_demangle=function(){return i.asm.__cxa_demangle.apply(null,arguments)},i._setThrew=function(){return i.asm.setThrew.apply(null,arguments)};var Wt=i.stackSave=function(){return i.asm.stackSave.apply(null,arguments)},je=i.stackAlloc=function(){return i.asm.stackAlloc.apply(null,arguments)},_n=i.stackRestore=function(){return i.asm.stackRestore.apply(null,arguments)};i.__growWasmMemory=function(){return i.asm.__growWasmMemory.apply(null,arguments)},i.dynCall_vi=function(){return i.asm.dynCall_vi.apply(null,arguments)},i.dynCall_iiii=function(){return i.asm.dynCall_iiii.apply(null,arguments)},i.dynCall_iiiii=function(){return i.asm.dynCall_iiiii.apply(null,arguments)},i.dynCall_iii=function(){return i.asm.dynCall_iii.apply(null,arguments)},i.dynCall_iidiiii=function(){return i.asm.dynCall_iidiiii.apply(null,arguments)},i.dynCall_vii=function(){return i.asm.dynCall_vii.apply(null,arguments)},i.dynCall_ii=function(){return i.asm.dynCall_ii.apply(null,arguments)},i.dynCall_i=function(){return i.asm.dynCall_i.apply(null,arguments)},i.dynCall_v=function(){return i.asm.dynCall_v.apply(null,arguments)},i.dynCall_viiiiii=function(){return i.asm.dynCall_viiiiii.apply(null,arguments)},i.dynCall_viiiii=function(){return i.asm.dynCall_viiiii.apply(null,arguments)},i.dynCall_viiii=function(){return i.asm.dynCall_viiii.apply(null,arguments)},i.dynCall_jiji=function(){return i.asm.dynCall_jiji.apply(null,arguments)},i.asm=Ut,i.ccall=C;var I;i.then=function(O){if(I)O(i);else{var R=i.onRuntimeInitialized;i.onRuntimeInitialized=function(){R&&R(),O(i)}}return i},fe=function O(){I||M(),I||(fe=O)};function M(O){if(ve>0||(z(),ve>0))return;function R(){I||(I=!0,!T&&(ue(),B(),i.onRuntimeInitialized&&i.onRuntimeInitialized(),Y()))}i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),R()},1)):R()}if(i.run=M,i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return M(),r}}();t.exports=n})(Ao);var Ma=Ao.exports;Object.defineProperty(dn,"__esModule",{value:!0});const La=Ma;async function _i(t){return new Promise((e,n)=>{const{log:r,warn:i,error:o}=console;La({instantiateWasm(s,a){return WebAssembly.instantiate(t,s).then(u=>{a(u.instance)}).catch(u=>{throw u}),{}}}).then(s=>{dn.onigasmH=s,e()}),typeof print<"u"&&(console.log=r,console.error=o,console.warn=i)})}let vi=!1;async function ja(t){if(vi)throw new Error("Onigasm#init has been called and was succesful, subsequent calls are not allowed once initialized");if(typeof t=="string"){const e=await(await fetch(t)).arrayBuffer();await _i(e)}else if(t instanceof ArrayBuffer)await _i(t);else throw new TypeError("Expected a string (URL of .wasm file) or ArrayBuffer (.wasm file itself) as first parameter");vi=!0}dn.loadWASM=ja;var Kr={},pn={},rr,bi;function Da(){return bi||(bi=1,rr=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),rr}var Ba=ne;ne.Node=gt;ne.create=ne;function ne(t){var e=this;if(e instanceof ne||(e=new ne),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)e.push(arguments[n]);return e}ne.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e};ne.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};ne.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};ne.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)$a(this,arguments[t]);return this.length};ne.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Fa(this,arguments[t]);return this.length};ne.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};ne.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};ne.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;n!==null;r++)t.call(e,n.value,r,this),n=n.next};ne.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;n!==null;r--)t.call(e,n.value,r,this),n=n.prev};ne.prototype.get=function(t){for(var e=0,n=this.head;n!==null&&e<t;e++)n=n.next;if(e===t&&n!==null)return n.value};ne.prototype.getReverse=function(t){for(var e=0,n=this.tail;n!==null&&e<t;e++)n=n.prev;if(e===t&&n!==null)return n.value};ne.prototype.map=function(t,e){e=e||this;for(var n=new ne,r=this.head;r!==null;)n.push(t.call(e,r.value,this)),r=r.next;return n};ne.prototype.mapReverse=function(t,e){e=e||this;for(var n=new ne,r=this.tail;r!==null;)n.push(t.call(e,r.value,this)),r=r.prev;return n};ne.prototype.reduce=function(t,e){var n,r=this.head;if(arguments.length>1)n=e;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=t(n,r.value,i),r=r.next;return n};ne.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(arguments.length>1)n=e;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=t(n,r.value,i),r=r.prev;return n};ne.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;n!==null;e++)t[e]=n.value,n=n.next;return t};ne.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;n!==null;e++)t[e]=n.value,n=n.prev;return t};ne.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new ne;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=0,i=this.head;i!==null&&r<t;r++)i=i.next;for(;i!==null&&r<e;r++,i=i.next)n.push(i.value);return n};ne.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new ne;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=this.length,i=this.tail;i!==null&&r>e;r--)i=i.prev;for(;i!==null&&r>t;r--,i=i.prev)n.push(i.value);return n};ne.prototype.splice=function(t,e){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,r=this.head;r!==null&&n<t;n++)r=r.next;for(var i=[],n=0;r&&n<e;n++)i.push(r.value),r=this.removeNode(r);r===null&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(var n=2;n<arguments.length;n++)r=Ga(this,r,arguments[n]);return i};ne.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this};function Ga(t,e,n){var r=e===t.head?new gt(n,null,e,t):new gt(n,e,e.next,t);return r.next===null&&(t.tail=r),r.prev===null&&(t.head=r),t.length++,r}function $a(t,e){t.tail=new gt(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function Fa(t,e){t.head=new gt(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function gt(t,e,n,r){if(!(this instanceof gt))return new gt(t,e,n,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{Da()(ne)}catch{}const Ua=Ba,ft=Symbol("max"),nt=Symbol("length"),St=Symbol("lengthCalculator"),en=Symbol("allowStale"),dt=Symbol("maxAge"),et=Symbol("dispose"),wi=Symbol("noDisposeOnSet"),ge=Symbol("lruList"),Ge=Symbol("cache"),Co=Symbol("updateAgeOnGet"),ir=()=>1;let Wa=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[ft]=e.max||1/0;const n=e.length||ir;if(this[St]=typeof n!="function"?ir:n,this[en]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[dt]=e.maxAge||0,this[et]=e.dispose,this[wi]=e.noDisposeOnSet||!1,this[Co]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[ft]=e||1/0,Ht(this)}get max(){return this[ft]}set allowStale(e){this[en]=!!e}get allowStale(){return this[en]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[dt]=e,Ht(this)}get maxAge(){return this[dt]}set lengthCalculator(e){typeof e!="function"&&(e=ir),e!==this[St]&&(this[St]=e,this[nt]=0,this[ge].forEach(n=>{n.length=this[St](n.value,n.key),this[nt]+=n.length})),Ht(this)}get lengthCalculator(){return this[St]}get length(){return this[nt]}get itemCount(){return this[ge].length}rforEach(e,n){n=n||this;for(let r=this[ge].tail;r!==null;){const i=r.prev;Si(this,e,r,n),r=i}}forEach(e,n){n=n||this;for(let r=this[ge].head;r!==null;){const i=r.next;Si(this,e,r,n),r=i}}keys(){return this[ge].toArray().map(e=>e.key)}values(){return this[ge].toArray().map(e=>e.value)}reset(){this[et]&&this[ge]&&this[ge].length&&this[ge].forEach(e=>this[et](e.key,e.value)),this[Ge]=new Map,this[ge]=new Ua,this[nt]=0}dump(){return this[ge].map(e=>Gn(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ge]}set(e,n,r){if(r=r||this[dt],r&&typeof r!="number")throw new TypeError("maxAge must be a number");const i=r?Date.now():0,o=this[St](n,e);if(this[Ge].has(e)){if(o>this[ft])return kt(this,this[Ge].get(e)),!1;const u=this[Ge].get(e).value;return this[et]&&(this[wi]||this[et](e,u.value)),u.now=i,u.maxAge=r,u.value=n,this[nt]+=o-u.length,u.length=o,this.get(e),Ht(this),!0}const s=new Ha(e,n,o,i,r);return s.length>this[ft]?(this[et]&&this[et](e,n),!1):(this[nt]+=s.length,this[ge].unshift(s),this[Ge].set(e,this[ge].head),Ht(this),!0)}has(e){if(!this[Ge].has(e))return!1;const n=this[Ge].get(e).value;return!Gn(this,n)}get(e){return or(this,e,!0)}peek(e){return or(this,e,!1)}pop(){const e=this[ge].tail;return e?(kt(this,e),e.value):null}del(e){kt(this,this[Ge].get(e))}load(e){this.reset();const n=Date.now();for(let r=e.length-1;r>=0;r--){const i=e[r],o=i.e||0;if(o===0)this.set(i.k,i.v);else{const s=o-n;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Ge].forEach((e,n)=>or(this,n,!1))}};const or=(t,e,n)=>{const r=t[Ge].get(e);if(r){const i=r.value;if(Gn(t,i)){if(kt(t,r),!t[en])return}else n&&(t[Co]&&(r.value.now=Date.now()),t[ge].unshiftNode(r));return i.value}},Gn=(t,e)=>{if(!e||!e.maxAge&&!t[dt])return!1;const n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[dt]&&n>t[dt]},Ht=t=>{if(t[nt]>t[ft])for(let e=t[ge].tail;t[nt]>t[ft]&&e!==null;){const n=e.prev;kt(t,e),e=n}},kt=(t,e)=>{if(e){const n=e.value;t[et]&&t[et](n.key,n.value),t[nt]-=n.length,t[Ge].delete(n.key),t[ge].removeNode(e)}};class Ha{constructor(e,n,r,i,o){this.key=e,this.value=n,this.length=r,this.now=i,this.maxAge=o||0}}const Si=(t,e,n,r)=>{let i=n.value;Gn(t,i)&&(kt(t,n),t[en]||(i=void 0)),i&&e.call(r,i.value,i.key,t)};var za=Wa,zn={};Object.defineProperty(zn,"__esModule",{value:!0});class qa{constructor(e){if(this.substring=(n,r)=>this.source.substring(n,r),this.toString=(n,r)=>this.source,typeof e!="string")throw new TypeError("Argument must be a string");this.source=e,this._utf8Bytes=null,this._utf8Indexes=null}get utf8Bytes(){return this._utf8Bytes||this.encode(),this._utf8Bytes}get utf8Indexes(){return this._utf8Bytes||this.encode(),this._utf8Indexes}get content(){return this.source}get length(){return this.source.length}get hasMultiByteCharacters(){return this.utf8Indexes!==null}convertUtf8OffsetToUtf16(e){if(e<0)return 0;const n=this._utf8Bytes;if(e>=n.length-1)return this.source.length;const r=this.utf8Indexes;return r&&e>=this._mappingTableStartOffset?Xa(r,e-this._mappingTableStartOffset)+this._mappingTableStartOffset:e}convertUtf16OffsetToUtf8(e){if(e<0)return 0;const n=this._utf8Bytes;if(e>=this.source.length)return n.length-1;const r=this.utf8Indexes;return r&&e>=this._mappingTableStartOffset?r[e-this._mappingTableStartOffset]+this._mappingTableStartOffset:e}encode(){const e=this.source,n=e.length;let r,i=0,o=0;function s(f){const d=(n-f)*3;d<=255?r=new Uint8Array(n-f):d<=65535?r=new Uint16Array(n-f):r=new Uint32Array(n-f),o=f,r[i++]=0}const a=new Uint8Array(n*3+1);let u=0,c=0;for(;c<e.length;){let f;const d=e.charCodeAt(c);if(r&&(r[i++]=u-o),d<55296||d>57343)f=d;else if(d>=56320)f=65533;else if(c===n-1)f=65533;else{const k=e.charCodeAt(c+1);if(56320<=k&&k<=57343){r||s(c);const T=d&1023,_=k&1023;f=65536+(T<<10)+_,c+=1,r[i++]=u-o}else f=65533}let S,v;if(f<=127?(S=1,v=0):f<=2047?(S=2,v=192):f<=65535?(S=3,v=224):(S=4,v=240),S===1)a[u++]=f;else for(r||s(u),a[u++]=(f>>6*--S)+v;S>0;){const k=f>>6*(S-1);a[u++]=128|k&63,S-=1}c+=1}const h=a.slice(0,u+1);h[u]=0,this._utf8Bytes=h,r&&(this._utf8Indexes=r,this._mappingTableStartOffset=o)}}function Xa(t,e){let n=0,r=t.length;if(r===0)return 0;for(;n<r;){const i=Math.floor((n+r)/2);t[i]>=e?r=i:n=i+1}for(;n>0&&(n>=t.length||t[n]>e);)n--;return n>0&&t[n]===t[n-1]&&n--,n}zn.default=qa;Object.defineProperty(pn,"__esModule",{value:!0});const Va=za,ae=dn,bn=zn;function Ai(t){const e=ae.onigasmH._malloc(t.utf8Bytes.length);return ae.onigasmH.HEAPU8.set(t.utf8Bytes,e),e}function Cr(t){const e=[];let n=0;for(;ae.onigasmH.HEAPU8[t]!==0;)e[n++]=ae.onigasmH.HEAPU8[t++];return e.join()}const Ci=new Va({dispose:(t,e)=>{const n=ae.onigasmH._malloc(e.regexTPtrs.length);if(ae.onigasmH.HEAPU8.set(e.regexTPtrs,n),ae.onigasmH._disposeCompiledPatterns(n,t.patterns.length)!==0){const i=Cr(ae.onigasmH._getLastError());throw new Error(i)}ae.onigasmH._free(n)},max:1e3});class Eo{constructor(e){if(ae.onigasmH===null)throw new Error("Onigasm has not been initialized, call loadWASM from 'onigasm' exports before using any other API");for(let n=0;n<e.length;n++)if(typeof e[n]!="string")throw new TypeError("First parameter to OnigScanner constructor must be array of (pattern) strings");this.sources=e.slice()}get patterns(){return this.sources.slice()}findNextMatch(e,n,r){n==null&&(n=0),typeof n=="function"&&(r=n,n=0);try{const i=this.findNextMatchSync(e,n);r(null,i)}catch(i){r(i)}}findNextMatchSync(e,n){n==null&&(n=0),n=this.convertToNumber(n);let r=Ci.get(this),i=0;if(!r){const d=ae.onigasmH._malloc(4),S=[];for(let v=0;v<this.sources.length;v++){const k=this.sources[v],T=Ai(new bn.default(k));if(i=ae.onigasmH._compilePattern(T,d),i!==0){const E=Cr(ae.onigasmH._getLastError());throw new Error(E)}const _=ae.onigasmH.HEAP32[d/4];S.push(_),ae.onigasmH._free(T)}r={regexTPtrs:new Uint8Array(Uint32Array.from(S).buffer)},ae.onigasmH._free(d),Ci.set(this,r)}const o=e instanceof bn.default?e:new bn.default(this.convertToString(e)),s=Ai(o),a=ae.onigasmH._malloc(8),u=ae.onigasmH._malloc(r.regexTPtrs.length);if(ae.onigasmH.HEAPU8.set(r.regexTPtrs,u),i=ae.onigasmH._findBestMatch(u,this.sources.length,s,o.utf8Bytes.length-1,o.convertUtf16OffsetToUtf8(n),a),i!==0){const d=Cr(ae.onigasmH._getLastError());throw new Error(d)}const[c,h,f]=new Uint32Array(ae.onigasmH.HEAPU32.buffer,a,3);if(ae.onigasmH._free(s),ae.onigasmH._free(a),ae.onigasmH._free(u),f>0){const d=new Uint32Array(ae.onigasmH.HEAPU32.buffer,h,f),S=[];let v=0,k=0;for(;v<f;){const T=k++;let _=d[v++],E=d[v++];o.hasMultiByteCharacters&&(_=o.convertUtf8OffsetToUtf16(_),E=o.convertUtf8OffsetToUtf16(E)),S.push({end:E,index:T,length:E-_,start:_})}return ae.onigasmH._free(h),{captureIndices:S,index:c,scanner:this}}return null}convertToString(e){return e===void 0?"undefined":e===null?"null":e instanceof bn.default?e.content:e.toString()}convertToNumber(e){return e=parseInt(e,10),isFinite(e)||(e=0),e=Math.max(e,0),e}}pn.OnigScanner=Eo;pn.default=Eo;Object.defineProperty(Kr,"__esModule",{value:!0});const Ka=pn;class Ja{constructor(e){this.source=e;try{this.scanner=new Ka.default([this.source])}catch{}}searchSync(e,n){let r;return n==null&&(n=0),r=this.scanner.findNextMatchSync(e,n),this.captureIndicesForMatch(e,r)}search(e,n,r){n==null&&(n=0),typeof n=="function"&&(r=n,n=0);try{const i=this.searchSync(e,n);r(null,i)}catch(i){r(i)}}testSync(e){return typeof this.source=="boolean"||typeof e=="boolean"?this.source===e:this.searchSync(e)!=null}test(e,n){typeof n!="function"&&(n=()=>{});try{n(null,this.testSync(e))}catch(r){n(r)}}captureIndicesForMatch(e,n){if(n!=null){const{captureIndices:r}=n;let i;e=this.scanner.convertToString(e);for(let o=0;o<r.length;o++)i=r[o],i.match=e.slice(i.start,i.end);return r}else return null}}Kr.default=Ja;Object.defineProperty(Bt,"__esModule",{value:!0});const Ya=dn;var Qa=Bt.loadWASM=Ya.loadWASM;const Za=Kr;Bt.OnigRegExp=Za.default;const ec=pn;Bt.OnigScanner=ec.default;const tc=zn;Bt.OnigString=tc.default;var gn=xt&&xt.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Pe,"__esModule",{value:!0});var nc=Na,Jt=Dt,ko=Bt,rc=/\\(\d+)/,Ei=/\\(\d+)/g,Gt=function(){function t(e,n,r,i){this.$location=e,this.id=n,this._name=r||null,this._nameIsCapturing=Jt.RegexSource.hasCaptures(this._name),this._contentName=i||null,this._contentNameIsCapturing=Jt.RegexSource.hasCaptures(this._contentName)}return Object.defineProperty(t.prototype,"debugName",{get:function(){return this.constructor.name+"#"+this.id+" @ "+nc.basename(this.$location.filename)+":"+this.$location.line},enumerable:!0,configurable:!0}),t.prototype.getName=function(e,n){return this._nameIsCapturing?Jt.RegexSource.replaceCaptures(this._name,e,n):this._name},t.prototype.getContentName=function(e,n){return this._contentNameIsCapturing?Jt.RegexSource.replaceCaptures(this._contentName,e,n):this._contentName},t.prototype.collectPatternsRecursive=function(e,n,r){throw new Error("Implement me!")},t.prototype.compile=function(e,n,r,i){throw new Error("Implement me!")},t}();Pe.Rule=Gt;var To=function(t){gn(e,t);function e(n,r,i,o,s){var a=t.call(this,n,r,i,o)||this;return a.retokenizeCapturedWithRuleId=s,a}return e}(Gt);Pe.CaptureRule=To;var Nt=function(){function t(e,n,r){r===void 0&&(r=!0),r?this._handleAnchors(e):(this.source=e,this.hasAnchor=!1),this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()),this.ruleId=n,this.hasBackReferences=rc.test(this.source)}return t.prototype.clone=function(){return new t(this.source,this.ruleId,!0)},t.prototype.setSource=function(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))},t.prototype._handleAnchors=function(e){if(e){var n=void 0,r=void 0,i=void 0,o=void 0,s=0,a=[],u=!1;for(n=0,r=e.length;n<r;n++)i=e.charAt(n),i==="\\"&&n+1<r&&(o=e.charAt(n+1),o==="z"?(a.push(e.substring(s,n)),a.push("$(?!\\n)(?<!\\n)"),s=n+2):(o==="A"||o==="G")&&(u=!0),n++);this.hasAnchor=u,s===0?this.source=e:(a.push(e.substring(s,r)),this.source=a.join(""))}else this.hasAnchor=!1,this.source=e},t.prototype.resolveBackReferences=function(e,n){var r=n.map(function(i){return e.substring(i.start,i.end)});return Ei.lastIndex=0,this.source.replace(Ei,function(i,o){return sc(r[parseInt(o,10)]||"")})},t.prototype._buildAnchorCache=function(){var e=[],n=[],r=[],i=[],o,s,a,u;for(o=0,s=this.source.length;o<s;o++)a=this.source.charAt(o),e[o]=a,n[o]=a,r[o]=a,i[o]=a,a==="\\"&&o+1<s&&(u=this.source.charAt(o+1),u==="A"?(e[o+1]="",n[o+1]="",r[o+1]="A",i[o+1]="A"):u==="G"?(e[o+1]="",n[o+1]="G",r[o+1]="",i[o+1]="G"):(e[o+1]=u,n[o+1]=u,r[o+1]=u,i[o+1]=u),o++);return{A0_G0:e.join(""),A0_G1:n.join(""),A1_G0:r.join(""),A1_G1:i.join("")}},t.prototype.resolveAnchors=function(e,n){return this.hasAnchor?e?n?this._anchorCache.A1_G1:this._anchorCache.A1_G0:n?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source},t}();Pe.RegExpSource=Nt;function ki(t){return new ko.OnigScanner(t)}function ic(t){var e=new ko.OnigString(t);return e.$str=t,e}Pe.createOnigString=ic;function oc(t){return t.$str}Pe.getString=oc;var Mt=function(){function t(){this._items=[],this._hasAnchors=!1,this._cached=null,this._cachedSources=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}return t.prototype.push=function(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor},t.prototype.unshift=function(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor},t.prototype.length=function(){return this._items.length},t.prototype.setSource=function(e,n){this._items[e].source!==n&&(this._cached=null,this._anchorCache.A0_G0=null,this._anchorCache.A0_G1=null,this._anchorCache.A1_G0=null,this._anchorCache.A1_G1=null,this._items[e].setSource(n))},t.prototype.compile=function(e,n,r){if(this._hasAnchors)return this._anchorCache={A0_G0:this._anchorCache.A0_G0||(n===!1&&r===!1?this._resolveAnchors(n,r):null),A0_G1:this._anchorCache.A0_G1||(n===!1&&r===!0?this._resolveAnchors(n,r):null),A1_G0:this._anchorCache.A1_G0||(n===!0&&r===!1?this._resolveAnchors(n,r):null),A1_G1:this._anchorCache.A1_G1||(n===!0&&r===!0?this._resolveAnchors(n,r):null)},n?r?this._anchorCache.A1_G1:this._anchorCache.A1_G0:r?this._anchorCache.A0_G1:this._anchorCache.A0_G0;if(!this._cached){var i=this._items.map(function(o){return o.source});this._cached={scanner:ki(i),rules:this._items.map(function(o){return o.ruleId}),debugRegExps:i}}return this._cached},t.prototype._resolveAnchors=function(e,n){var r=this._items.map(function(i){return i.resolveAnchors(e,n)});return{scanner:ki(r),rules:this._items.map(function(i){return i.ruleId}),debugRegExps:r}},t}();Pe.RegExpSourceList=Mt;var Oo=function(t){gn(e,t);function e(n,r,i,o,s){var a=t.call(this,n,r,i,null)||this;return a._match=new Nt(o,a.id),a.captures=s,a._cachedCompiledPatterns=null,a}return Object.defineProperty(e.prototype,"debugMatchRegExp",{get:function(){return""+this._match.source},enumerable:!0,configurable:!0}),e.prototype.collectPatternsRecursive=function(n,r,i){r.push(this._match)},e.prototype.compile=function(n,r,i,o){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Mt,this.collectPatternsRecursive(n,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(n,i,o)},e}(Gt);Pe.MatchRule=Oo;var Er=function(t){gn(e,t);function e(n,r,i,o,s){var a=t.call(this,n,r,i,o)||this;return a.patterns=s.patterns,a.hasMissingPatterns=s.hasMissingPatterns,a._cachedCompiledPatterns=null,a}return e.prototype.collectPatternsRecursive=function(n,r,i){var o,s,a;for(o=0,s=this.patterns.length;o<s;o++)a=n.getRule(this.patterns[o]),a.collectPatternsRecursive(n,r,!1)},e.prototype.compile=function(n,r,i,o){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Mt,this.collectPatternsRecursive(n,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(n,i,o)},e}(Gt);Pe.IncludeOnlyRule=Er;function sc(t){return t.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var kr=function(t){gn(e,t);function e(n,r,i,o,s,a,u,c,h,f){var d=t.call(this,n,r,i,o)||this;return d._begin=new Nt(s,d.id),d.beginCaptures=a,d._end=new Nt(u,-1),d.endHasBackReferences=d._end.hasBackReferences,d.endCaptures=c,d.applyEndPatternLast=h||!1,d.patterns=f.patterns,d.hasMissingPatterns=f.hasMissingPatterns,d._cachedCompiledPatterns=null,d}return Object.defineProperty(e.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"debugEndRegExp",{get:function(){return""+this._end.source},enumerable:!0,configurable:!0}),e.prototype.getEndWithResolvedBackReferences=function(n,r){return this._end.resolveBackReferences(n,r)},e.prototype.collectPatternsRecursive=function(n,r,i){if(i){var o=void 0,s=void 0,a=void 0;for(o=0,s=this.patterns.length;o<s;o++)a=n.getRule(this.patterns[o]),a.collectPatternsRecursive(n,r,!1)}else r.push(this._begin)},e.prototype.compile=function(n,r,i,o){var s=this._precompile(n);return this._end.hasBackReferences&&(this.applyEndPatternLast?s.setSource(s.length()-1,r):s.setSource(0,r)),this._cachedCompiledPatterns.compile(n,i,o)},e.prototype._precompile=function(n){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Mt,this.collectPatternsRecursive(n,this._cachedCompiledPatterns,!0),this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)),this._cachedCompiledPatterns},e}(Gt);Pe.BeginEndRule=kr;var Tr=function(t){gn(e,t);function e(n,r,i,o,s,a,u,c,h){var f=t.call(this,n,r,i,o)||this;return f._begin=new Nt(s,f.id),f.beginCaptures=a,f.whileCaptures=c,f._while=new Nt(u,-2),f.whileHasBackReferences=f._while.hasBackReferences,f.patterns=h.patterns,f.hasMissingPatterns=h.hasMissingPatterns,f._cachedCompiledPatterns=null,f._cachedCompiledWhilePatterns=null,f}return e.prototype.getWhileWithResolvedBackReferences=function(n,r){return this._while.resolveBackReferences(n,r)},e.prototype.collectPatternsRecursive=function(n,r,i){if(i){var o=void 0,s=void 0,a=void 0;for(o=0,s=this.patterns.length;o<s;o++)a=n.getRule(this.patterns[o]),a.collectPatternsRecursive(n,r,!1)}else r.push(this._begin)},e.prototype.compile=function(n,r,i,o){return this._precompile(n),this._cachedCompiledPatterns.compile(n,i,o)},e.prototype._precompile=function(n){this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Mt,this.collectPatternsRecursive(n,this._cachedCompiledPatterns,!0))},e.prototype.compileWhile=function(n,r,i,o){return this._precompileWhile(n),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,r),this._cachedCompiledWhilePatterns.compile(n,i,o)},e.prototype._precompileWhile=function(n){this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new Mt,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while))},e}(Gt);Pe.BeginWhileRule=Tr;var ac=function(){function t(){}return t.createCaptureRule=function(e,n,r,i,o){return e.registerRule(function(s){return new To(n,s,r,i,o)})},t.getCompiledRuleId=function(e,n,r){return e.id||n.registerRule(function(i){return e.id=i,e.match?new Oo(e.$vscodeTextmateLocation,e.id,e.name,e.match,t._compileCaptures(e.captures,n,r)):e.begin?e.while?new Tr(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,t._compileCaptures(e.beginCaptures||e.captures,n,r),e.while,t._compileCaptures(e.whileCaptures||e.captures,n,r),t._compilePatterns(e.patterns,n,r)):new kr(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,t._compileCaptures(e.beginCaptures||e.captures,n,r),e.end,t._compileCaptures(e.endCaptures||e.captures,n,r),e.applyEndPatternLast,t._compilePatterns(e.patterns,n,r)):(e.repository&&(r=Jt.mergeObjects({},r,e.repository)),new Er(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,t._compilePatterns(e.patterns,n,r)))}),e.id},t._compileCaptures=function(e,n,r){var i=[],o,s,a,u;if(e){s=0;for(u in e)u!=="$vscodeTextmateLocation"&&(o=parseInt(u,10),o>s&&(s=o));for(a=0;a<=s;a++)i[a]=null;for(u in e)if(u!=="$vscodeTextmateLocation"){o=parseInt(u,10);var c=0;e[u].patterns&&(c=t.getCompiledRuleId(e[u],n,r)),i[o]=t.createCaptureRule(n,e[u].$vscodeTextmateLocation,e[u].name,e[u].contentName,c)}}return i},t._compilePatterns=function(e,n,r){var i=[],o,s,a,u,c,h,f;if(e)for(s=0,a=e.length;s<a;s++){if(o=e[s],u=-1,o.include)if(o.include.charAt(0)==="#"){var d=r[o.include.substr(1)];d&&(u=t.getCompiledRuleId(d,n,r))}else if(o.include==="$base"||o.include==="$self")u=t.getCompiledRuleId(r[o.include],n,r);else{var S=null,v=null,k=o.include.indexOf("#");if(k>=0?(S=o.include.substring(0,k),v=o.include.substring(k+1)):S=o.include,c=n.getExternalGrammar(S,r),c)if(v){var T=c.repository[v];T&&(u=t.getCompiledRuleId(T,n,c.repository))}else u=t.getCompiledRuleId(c.repository.$self,n,c.repository)}else u=t.getCompiledRuleId(o,n,r);if(u!==-1){if(h=n.getRule(u),f=!1,(h instanceof Er||h instanceof kr||h instanceof Tr)&&h.hasMissingPatterns&&h.patterns.length===0&&(f=!0),f)continue;i.push(u)}}return{patterns:i,hasMissingPatterns:(e?e.length:0)!==i.length}},t}();Pe.RuleFactory=ac;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});function cc(t,e){for(var n=[],r=uc(t),i=r.next();i!==null;){var o=0;if(i.length===2&&i.charAt(1)===":"){switch(i.charAt(0)){case"R":o=1;break;case"L":o=-1;break;default:console.log("Unknown priority "+i+" in scope selector")}i=r.next()}var s=u();if(s&&n.push({matcher:s,priority:o}),i!==",")break;i=r.next()}return n;function a(){if(i==="-"){i=r.next();var h=a();return function(S){return h&&!h(S)}}if(i==="("){i=r.next();var f=c();return i===")"&&(i=r.next()),f}if(Ti(i)){var d=[];do d.push(i),i=r.next();while(Ti(i));return function(S){return e(d,S)}}return null}function u(){for(var h=[],f=a();f;)h.push(f),f=a();return function(d){return h.every(function(S){return S(d)})}}function c(){for(var h=[],f=u();f&&(h.push(f),i==="|"||i===",");){do i=r.next();while(i==="|"||i===",");f=u()}return function(d){return h.some(function(S){return S(d)})}}}Jr.createMatchers=cc;function Ti(t){return t&&t.match(/[\w\.:]+/)}function uc(t){var e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,n=e.exec(t);return{next:function(){if(!n)return null;var r=n[0];return n=e.exec(t),r}}}var mn={};Object.defineProperty(mn,"__esModule",{value:!0});mn.CAPTURE_METADATA=typeof process>"u"?!1:!!process.env.VSCODE_TEXTMATE_DEBUG;mn.IN_DEBUG_MODE=typeof process>"u"?!1:!!process.env.VSCODE_TEXTMATE_DEBUG;Object.defineProperty(He,"__esModule",{value:!0});var lc=Dt,pe=Pe,Ro=Jr,Fe=mn;function fc(t,e,n,r,i){return new xo(t,e,n,r,i)}He.createGrammar=fc;function Yr(t,e){for(var n=0,r=e.length;n<r;n++){Array.isArray(e[n].patterns)&&Yr(t,e[n].patterns);var i=e[n].include;if(i&&!(i==="$base"||i==="$self")&&i.charAt(0)!=="#"){var o=i.indexOf("#");o>=0?t[i.substring(0,o)]=!0:t[i]=!0}}}function Po(t,e){for(var n in e){var r=e[n];r.patterns&&Array.isArray(r.patterns)&&Yr(t,r.patterns),r.repository&&Po(t,r.repository)}}function hc(t,e){e.patterns&&Array.isArray(e.patterns)&&Yr(t,e.patterns),e.repository&&Po(t,e.repository),delete t[e.scopeName]}He.collectIncludedScopes=hc;function dc(t,e){if(!t)return!1;if(t===e)return!0;var n=e.length;return t.length>n&&t.substr(0,n)===e&&t[n]==="."}function Io(t,e){if(e.length<t.length)return!1;var n=0;return t.every(function(r){for(var i=n;i<e.length;i++)if(dc(e[i],r))return n=i+1,!0;return!1})}function Oi(t,e,n,r,i){for(var o=Ro.createMatchers(e,Io),s=pe.RuleFactory.getCompiledRuleId(n,r,i.repository),a=0,u=o;a<u.length;a++){var c=u[a];t.push({matcher:c.matcher,ruleId:s,grammar:i,priority:c.priority})}}var En=function(){function t(e,n,r,i){this.scopeName=e,this.languageId=n,this.tokenType=r,this.themeData=i}return t}();He.ScopeMetadata=En;var pc=function(){function t(e,n,r){if(this._initialLanguage=e,this._themeProvider=n,this.onDidChangeTheme(),this._embeddedLanguages=Object.create(null),r)for(var i=Object.keys(r),o=0,s=i.length;o<s;o++){var a=i[o],u=r[a];if(typeof u!="number"||u===0){console.warn("Invalid embedded language found at scope "+a+": <<"+u+">>");continue}this._embeddedLanguages[a]=u}var c=Object.keys(this._embeddedLanguages).map(function(h){return t._escapeRegExpCharacters(h)});c.length===0?this._embeddedLanguagesRegex=null:(c.sort(),c.reverse(),this._embeddedLanguagesRegex=new RegExp("^(("+c.join(")|(")+"))($|\\.)",""))}return t.prototype.onDidChangeTheme=function(){this._cache=Object.create(null),this._defaultMetaData=new En("",this._initialLanguage,0,[this._themeProvider.getDefaults()])},t.prototype.getDefaultMetadata=function(){return this._defaultMetaData},t._escapeRegExpCharacters=function(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},t.prototype.getMetadataForScope=function(e){if(e===null)return t._NULL_SCOPE_METADATA;var n=this._cache[e];return n||(n=this._doGetMetadataForScope(e),this._cache[e]=n,n)},t.prototype._doGetMetadataForScope=function(e){var n=this._scopeToLanguage(e),r=this._toStandardTokenType(e),i=this._themeProvider.themeMatch(e);return new En(e,n,r,i)},t.prototype._scopeToLanguage=function(e){if(!e||!this._embeddedLanguagesRegex)return 0;var n=e.match(this._embeddedLanguagesRegex);if(!n)return 0;var r=this._embeddedLanguages[n[1]]||0;return r||0},t.prototype._toStandardTokenType=function(e){var n=e.match(t.STANDARD_TOKEN_TYPE_REGEXP);if(!n)return 0;switch(n[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"meta.embedded":return 8}throw new Error("Unexpected match for standard token type!")},t._NULL_SCOPE_METADATA=new En("",0,0,null),t.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/,t}(),xo=function(){function t(e,n,r,i,o){if(this._scopeMetadataProvider=new pc(n,o,r),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[],this._includedGrammars={},this._grammarRepository=o,this._grammar=Ri(e,null),this._tokenTypeMatchers=[],i)for(var s=0,a=Object.keys(i);s<a.length;s++)for(var u=a[s],c=Ro.createMatchers(u,Io),h=0,f=c;h<f.length;h++){var d=f[h];this._tokenTypeMatchers.push({matcher:d.matcher,type:i[u]})}}return t.prototype.onDidChangeTheme=function(){this._scopeMetadataProvider.onDidChangeTheme()},t.prototype.getMetadataForScope=function(e){return this._scopeMetadataProvider.getMetadataForScope(e)},t.prototype.getInjections=function(){var e=this;if(!this._injections){this._injections=[];var n=this._grammar.injections;if(n)for(var r in n)Oi(this._injections,r,n[r],this,this._grammar);if(this._grammarRepository){var i=this._grammarRepository.injections(this._grammar.scopeName);i&&i.forEach(function(o){var s=e.getExternalGrammar(o);if(s){var a=s.injectionSelector;a&&Oi(e._injections,a,s,e,s)}})}this._injections.sort(function(o,s){return o.priority-s.priority})}return this._injections.length===0?this._injections:this._injections},t.prototype.registerRule=function(e){var n=++this._lastRuleId,r=e(n);return this._ruleId2desc[n]=r,r},t.prototype.getRule=function(e){return this._ruleId2desc[e]},t.prototype.getExternalGrammar=function(e,n){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){var r=this._grammarRepository.lookup(e);if(r)return this._includedGrammars[e]=Ri(r,n&&n.$base),this._includedGrammars[e]}},t.prototype.tokenizeLine=function(e,n){var r=this._tokenize(e,n,!1);return{tokens:r.lineTokens.getResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack}},t.prototype.tokenizeLine2=function(e,n){var r=this._tokenize(e,n,!0);return{tokens:r.lineTokens.getBinaryResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack}},t.prototype._tokenize=function(e,n,r){this._rootId===-1&&(this._rootId=pe.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository));var i;if(!n||n===Rr.NULL){i=!0;var o=this._scopeMetadataProvider.getDefaultMetadata(),s=o.themeData[0],a=qn.set(0,o.languageId,o.tokenType,s.fontStyle,s.foreground,s.background),u=this.getRule(this._rootId).getName(null,null),c=this._scopeMetadataProvider.getMetadataForScope(u),h=Or.mergeMetadata(a,null,c),f=new Or(null,u,h);n=new Rr(null,this._rootId,-1,null,f,f)}else i=!1,n.reset();e=e+`
`;var d=pe.createOnigString(e),S=pe.getString(d).length,v=new vc(r,e,this._tokenTypeMatchers),k=No(this,d,i,0,n,v);return{lineLength:S,lineTokens:v,ruleStack:k}},t}();He.Grammar=xo;function Ri(t,e){return t=lc.clone(t),t.repository=t.repository||{},t.repository.$self={$vscodeTextmateLocation:t.$vscodeTextmateLocation,patterns:t.patterns,name:t.scopeName},t.repository.$base=e||t.repository.$self,t}function Yt(t,e,n,r,i,o,s){if(o.length!==0){for(var a=Math.min(o.length,s.length),u=[],c=s[0].end,h=0;h<a;h++){var f=o[h];if(f!==null){var d=s[h];if(d.length!==0){if(d.start>c)break;for(;u.length>0&&u[u.length-1].endPos<=d.start;)i.produceFromScopes(u[u.length-1].scopes,u[u.length-1].endPos),u.pop();if(u.length>0?i.produceFromScopes(u[u.length-1].scopes,d.start):i.produce(r,d.start),f.retokenizeCapturedWithRuleId){var S=f.getName(pe.getString(e),s),v=r.contentNameScopesList.push(t,S),k=f.getContentName(pe.getString(e),s),T=v.push(t,k),_=r.push(f.retokenizeCapturedWithRuleId,d.start,null,v,T);No(t,pe.createOnigString(pe.getString(e).substring(0,d.end)),n&&d.start===0,d.start,_,i);continue}var E=f.getName(pe.getString(e),s);if(E!==null){var C=u.length>0?u[u.length-1].scopes:r.contentNameScopesList,w=C.push(t,E);u.push(new Mo(w,d.end))}}}}for(;u.length>0;)i.produceFromScopes(u[u.length-1].scopes,u[u.length-1].endPos),u.pop()}}function Qr(t){for(var e=[],n=0,r=t.rules.length;n<r;n++)e.push("   - "+t.rules[n]+": "+t.debugRegExps[n]);return e.join(`
`)}function gc(t,e,n,r,i,o,s){for(var a=Number.MAX_VALUE,u=null,c,h=0,f=o.contentNameScopesList.generateScopes(),d=0,S=t.length;d<S;d++){var v=t[d];if(v.matcher(f)){var k=e.getRule(v.ruleId).compile(e,null,r,i===s),T=k.scanner.findNextMatchSync(n,i);if(Fe.IN_DEBUG_MODE&&(console.log("  scanning for injections"),console.log(Qr(k))),!!T){var _=T.captureIndices[0].start;if(!(_>=a)&&(a=_,u=T.captureIndices,c=k.rules[T.index],h=v.priority,a===i))break}}}return u?{priorityMatch:h===-1,captureIndices:u,matchedRuleId:c}:null}function mc(t,e,n,r,i,o){var s=i.getRule(t),a=s.compile(t,i.endRule,n,r===o),u=a.scanner.findNextMatchSync(e,r);return Fe.IN_DEBUG_MODE&&(console.log("  scanning for"),console.log(Qr(a))),u?{captureIndices:u.captureIndices,matchedRuleId:a.rules[u.index]}:null}function yc(t,e,n,r,i,o){var s=mc(t,e,n,r,i,o),a=t.getInjections();if(a.length===0)return s;var u=gc(a,t,e,n,r,i,o);if(!u)return s;if(!s)return u;var c=s.captureIndices[0].start,h=u.captureIndices[0].start;return h<c||u.priorityMatch&&h===c?u:s}function _c(t,e,n,r,i,o){for(var s=-1,a=[],u=i;u;u=u.pop()){var c=u.getRule(t);c instanceof pe.BeginWhileRule&&a.push({rule:c,stack:u})}for(var h=a.pop();h;h=a.pop()){var f=h.rule.compileWhile(t,h.stack.endRule,n,s===r),d=f.scanner.findNextMatchSync(e,r);if(Fe.IN_DEBUG_MODE&&(console.log("  scanning for while rule"),console.log(Qr(f))),d){var S=f.rules[d.index];if(S!==-2){i=h.stack.pop();break}d.captureIndices&&d.captureIndices.length&&(o.produce(h.stack,d.captureIndices[0].start),Yt(t,e,n,h.stack,o,h.rule.whileCaptures,d.captureIndices),o.produce(h.stack,d.captureIndices[0].end),s=d.captureIndices[0].end,d.captureIndices[0].end>r&&(r=d.captureIndices[0].end,n=!1))}else{i=h.stack.pop();break}}return{stack:i,linePos:r,anchorPosition:s,isFirstLine:n}}function No(t,e,n,r,i,o){var s=pe.getString(e).length,a=!1,u=_c(t,e,n,r,i,o);i=u.stack,r=u.linePos,n=u.isFirstLine;for(var c=u.anchorPosition;!a;)h();function h(){Fe.IN_DEBUG_MODE&&(console.log(""),console.log("@@scanNext: |"+pe.getString(e).replace(/\n$/,"\\n").substr(r)+"|"));var f=yc(t,e,n,r,i,c);if(!f){Fe.IN_DEBUG_MODE&&console.log("  no more matches."),o.produce(i,s),a=!0;return}var d=f.captureIndices,S=f.matchedRuleId,v=d&&d.length>0?d[0].end>r:!1;if(S===-1){var k=i.getRule(t);Fe.IN_DEBUG_MODE&&console.log("  popping "+k.debugName+" - "+k.debugEndRegExp),o.produce(i,d[0].start),i=i.setContentNameScopesList(i.nameScopesList),Yt(t,e,n,i,o,k.endCaptures,d),o.produce(i,d[0].end);var T=i;if(i=i.pop(),!v&&T.getEnterPos()===r){console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),i=T,o.produce(i,s),a=!0;return}}else{var _=t.getRule(S);o.produce(i,d[0].start);var E=i,C=_.getName(pe.getString(e),d),w=i.contentNameScopesList.push(t,C);if(i=i.push(S,r,null,w,w),_ instanceof pe.BeginEndRule){var g=_;Fe.IN_DEBUG_MODE&&console.log("  pushing "+g.debugName+" - "+g.debugBeginRegExp),Yt(t,e,n,i,o,g.beginCaptures,d),o.produce(i,d[0].end),c=d[0].end;var l=g.getContentName(pe.getString(e),d),y=w.push(t,l);if(i=i.setContentNameScopesList(y),g.endHasBackReferences&&(i=i.setEndRule(g.getEndWithResolvedBackReferences(pe.getString(e),d))),!v&&E.hasSameRuleAs(i)){console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),i=i.pop(),o.produce(i,s),a=!0;return}}else if(_ instanceof pe.BeginWhileRule){var g=_;Fe.IN_DEBUG_MODE&&console.log("  pushing "+g.debugName),Yt(t,e,n,i,o,g.beginCaptures,d),o.produce(i,d[0].end),c=d[0].end;var l=g.getContentName(pe.getString(e),d),y=w.push(t,l);if(i=i.setContentNameScopesList(y),g.whileHasBackReferences&&(i=i.setEndRule(g.getWhileWithResolvedBackReferences(pe.getString(e),d))),!v&&E.hasSameRuleAs(i)){console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),i=i.pop(),o.produce(i,s),a=!0;return}}else{var m=_;if(Fe.IN_DEBUG_MODE&&console.log("  matched "+m.debugName+" - "+m.debugMatchRegExp),Yt(t,e,n,i,o,m.captures,d),o.produce(i,d[0].end),i=i.pop(),!v){console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),i=i.safePop(),o.produce(i,s),a=!0;return}}}d[0].end>r&&(r=d[0].end,n=!1)}return i}var qn=function(){function t(){}return t.toBinaryStr=function(e){for(var n=e.toString(2);n.length<32;)n="0"+n;return n},t.printMetadata=function(e){var n=t.getLanguageId(e),r=t.getTokenType(e),i=t.getFontStyle(e),o=t.getForeground(e),s=t.getBackground(e);console.log({languageId:n,tokenType:r,fontStyle:i,foreground:o,background:s})},t.getLanguageId=function(e){return(e&255)>>>0},t.getTokenType=function(e){return(e&1792)>>>8},t.getFontStyle=function(e){return(e&14336)>>>11},t.getForeground=function(e){return(e&8372224)>>>14},t.getBackground=function(e){return(e&4286578688)>>>23},t.set=function(e,n,r,i,o,s){var a=t.getLanguageId(e),u=t.getTokenType(e),c=t.getFontStyle(e),h=t.getForeground(e),f=t.getBackground(e);return n!==0&&(a=n),r!==0&&(u=r===8?0:r),i!==-1&&(c=i),o!==0&&(h=o),s!==0&&(f=s),(a<<0|u<<8|c<<11|h<<14|f<<23)>>>0},t}();He.StackElementMetadata=qn;var Or=function(){function t(e,n,r){this.parent=e,this.scope=n,this.metadata=r}return t._equals=function(e,n){do{if(e===n)return!0;if(e.scope!==n.scope||e.metadata!==n.metadata)return!1;if(e=e.parent,n=n.parent,!e&&!n)return!0;if(!e||!n)return!1}while(!0)},t.prototype.equals=function(e){return t._equals(this,e)},t._matchesScope=function(e,n,r){return n===e||e.substring(0,r.length)===r},t._matches=function(e,n){if(n===null)return!0;for(var r=n.length,i=0,o=n[i],s=o+".";e;){if(this._matchesScope(e.scope,o,s)){if(i++,i===r)return!0;o=n[i],s=o+"."}e=e.parent}return!1},t.mergeMetadata=function(e,n,r){if(r===null)return e;var i=-1,o=0,s=0;if(r.themeData!==null)for(var a=0,u=r.themeData.length;a<u;a++){var c=r.themeData[a];if(this._matches(n,c.parentScopes)){i=c.fontStyle,o=c.foreground,s=c.background;break}}return qn.set(e,r.languageId,r.tokenType,i,o,s)},t._push=function(e,n,r){for(var i=0,o=r.length;i<o;i++){var s=r[i],a=n.getMetadataForScope(s),u=t.mergeMetadata(e.metadata,e,a);e=new t(e,s,u)}return e},t.prototype.push=function(e,n){return n===null?this:n.indexOf(" ")>=0?t._push(this,e,n.split(/ /g)):t._push(this,e,[n])},t._generateScopes=function(e){for(var n=[],r=0;e;)n[r++]=e.scope,e=e.parent;return n.reverse(),n},t.prototype.generateScopes=function(){return t._generateScopes(this)},t}();He.ScopeListElement=Or;var Rr=function(){function t(e,n,r,i,o,s){this.parent=e,this.depth=this.parent?this.parent.depth+1:1,this.ruleId=n,this._enterPos=r,this.endRule=i,this.nameScopesList=o,this.contentNameScopesList=s}return t._structuralEquals=function(e,n){do{if(e===n)return!0;if(e.depth!==n.depth||e.ruleId!==n.ruleId||e.endRule!==n.endRule)return!1;if(e=e.parent,n=n.parent,!e&&!n)return!0;if(!e||!n)return!1}while(!0)},t._equals=function(e,n){return e===n?!0:this._structuralEquals(e,n)?e.contentNameScopesList.equals(n.contentNameScopesList):!1},t.prototype.clone=function(){return this},t.prototype.equals=function(e){return e===null?!1:t._equals(this,e)},t._reset=function(e){for(;e;)e._enterPos=-1,e=e.parent},t.prototype.reset=function(){t._reset(this)},t.prototype.pop=function(){return this.parent},t.prototype.safePop=function(){return this.parent?this.parent:this},t.prototype.push=function(e,n,r,i,o){return new t(this,e,n,r,i,o)},t.prototype.getEnterPos=function(){return this._enterPos},t.prototype.getRule=function(e){return e.getRule(this.ruleId)},t.prototype._writeString=function(e,n){return this.parent&&(n=this.parent._writeString(e,n)),e[n++]="("+this.ruleId+", TODO-"+this.nameScopesList+", TODO-"+this.contentNameScopesList+")",n},t.prototype.toString=function(){var e=[];return this._writeString(e,0),"["+e.join(",")+"]"},t.prototype.setContentNameScopesList=function(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this.endRule,this.nameScopesList,e)},t.prototype.setEndRule=function(e){return this.endRule===e?this:new t(this.parent,this.ruleId,this._enterPos,e,this.nameScopesList,this.contentNameScopesList)},t.prototype.hasSameRuleAs=function(e){return this.ruleId===e.ruleId},t.NULL=new t(null,0,0,null,null,null),t}();He.StackElement=Rr;var Mo=function(){function t(e,n){this.scopes=e,this.endPos=n}return t}();He.LocalStackElement=Mo;var vc=function(){function t(e,n,r){this._emitBinaryTokens=e,this._tokenTypeOverrides=r,Fe.IN_DEBUG_MODE&&(this._lineText=n),this._emitBinaryTokens?this._binaryTokens=[]:this._tokens=[],this._lastTokenEndIndex=0}return t.prototype.produce=function(e,n){this.produceFromScopes(e.contentNameScopesList,n)},t.prototype.produceFromScopes=function(e,n){if(!(this._lastTokenEndIndex>=n)){if(this._emitBinaryTokens){for(var r=e.metadata,i=0,o=this._tokenTypeOverrides;i<o.length;i++){var s=o[i];s.matcher(e.generateScopes())&&(r=qn.set(r,0,bc(s.type),-1,0,0))}if(this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===r){this._lastTokenEndIndex=n;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(r),this._lastTokenEndIndex=n;return}var a=e.generateScopes();if(Fe.IN_DEBUG_MODE){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,n).replace(/\n$/,"\\n")+"|");for(var u=0;u<a.length;u++)console.log("      * "+a[u])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:n,scopes:a}),this._lastTokenEndIndex=n}},t.prototype.getResult=function(e,n){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===n-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,n),this._tokens[this._tokens.length-1].startIndex=0),this._tokens},t.prototype.getBinaryResult=function(e,n){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===n-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,n),this._binaryTokens[this._binaryTokens.length-2]=0);for(var r=new Uint32Array(this._binaryTokens.length),i=0,o=this._binaryTokens.length;i<o;i++)r[i]=this._binaryTokens[i];return r},t}();function bc(t){switch(t){case 4:return 4;case 2:return 2;case 1:return 1;case 0:default:return 8}}Object.defineProperty(Xr,"__esModule",{value:!0});var Pi=He,wc=function(){function t(e){this._theme=e,this._grammars={},this._rawGrammars={},this._injectionGrammars={}}return t.prototype.setTheme=function(e){var n=this;this._theme=e,Object.keys(this._grammars).forEach(function(r){var i=n._grammars[r];i.onDidChangeTheme()})},t.prototype.getColorMap=function(){return this._theme.getColorMap()},t.prototype.addGrammar=function(e,n){this._rawGrammars[e.scopeName]=e;var r={};return Pi.collectIncludedScopes(r,e),n&&(this._injectionGrammars[e.scopeName]=n,n.forEach(function(i){r[i]=!0})),Object.keys(r)},t.prototype.lookup=function(e){return this._rawGrammars[e]},t.prototype.injections=function(e){return this._injectionGrammars[e]},t.prototype.getDefaults=function(){return this._theme.getDefaults()},t.prototype.themeMatch=function(e){return this._theme.match(e)},t.prototype.grammarForScopeName=function(e,n,r,i){if(!this._grammars[e]){var o=this._rawGrammars[e];if(!o)return null;this._grammars[e]=Pi.createGrammar(o,n,r,i,this)}return this._grammars[e]},t}();Xr.SyncRegistry=wc;var Xn={},Lt={};Lt.__esModule=!0;Lt.parse=Lt.parseWithLocation=void 0;function Sc(t,e,n){return Lo(t,e,n)}Lt.parseWithLocation=Sc;function Ac(t){return Lo(t,null,null)}Lt.parse=Ac;function Lo(t,e,n){var r=t.length,i=0,o=1,s=0;r>0&&t.charCodeAt(0)===65279&&(i=1);function a(j){if(n===null)i=i+j;else for(;j>0;){var z=t.charCodeAt(i);z===10?(i++,o++,s=0):(i++,s++),j--}}function u(j){n===null?i=j:a(j-i)}function c(){for(;i<r;){var j=t.charCodeAt(i);if(j!==32&&j!==9&&j!==13&&j!==10)break;a(1)}}function h(j){return t.substr(i,j.length)===j?(a(j.length),!0):!1}function f(j){var z=t.indexOf(j,i);u(z!==-1?z+j.length:r)}function d(j){var z=t.indexOf(j,i);if(z!==-1){var ue=t.substring(i,z);return u(z+j.length),ue}else{var ue=t.substr(i);return u(r),ue}}var S=0,v=null,k=[],T=[],_=null;function E(j,z){k.push(S),T.push(v),S=j,v=z}function C(){if(k.length===0)return w("illegal state stack");S=k.pop(),v=T.pop()}function w(j){throw new Error("Near offset "+i+": "+j+" ~~~"+t.substr(i,50)+"~~~")}var g={enterDict:function(){if(_===null)return w("missing <key>");var j={};n!==null&&(j[n]={filename:e,line:o,char:s}),v[_]=j,_=null,E(1,j)},enterArray:function(){if(_===null)return w("missing <key>");var j=[];v[_]=j,_=null,E(2,j)}},l={enterDict:function(){var j={};n!==null&&(j[n]={filename:e,line:o,char:s}),v.push(j),E(1,j)},enterArray:function(){var j=[];v.push(j),E(2,j)}};function y(){S===1?g.enterDict():S===2?l.enterDict():(v={},n!==null&&(v[n]={filename:e,line:o,char:s}),E(1,v))}function m(){if(S===1)C();else return w("unexpected </dict>")}function p(){S===1?g.enterArray():S===2?l.enterArray():(v=[],E(2,v))}function b(){if(S===1)return w("unexpected </array>");if(S===2)C();else return w("unexpected </array>")}function A(j){if(S===1){if(_!==null)return w("too many <key>");_=j}else return w("unexpected <key>")}function P(j){if(S===1){if(_===null)return w("missing <key>");v[_]=j,_=null}else S===2?v.push(j):v=j}function x(j){if(isNaN(j))return w("cannot parse float");if(S===1){if(_===null)return w("missing <key>");v[_]=j,_=null}else S===2?v.push(j):v=j}function N(j){if(isNaN(j))return w("cannot parse integer");if(S===1){if(_===null)return w("missing <key>");v[_]=j,_=null}else S===2?v.push(j):v=j}function D(j){if(S===1){if(_===null)return w("missing <key>");v[_]=j,_=null}else S===2?v.push(j):v=j}function G(j){if(S===1){if(_===null)return w("missing <key>");v[_]=j,_=null}else S===2?v.push(j):v=j}function X(j){if(S===1){if(_===null)return w("missing <key>");v[_]=j,_=null}else S===2?v.push(j):v=j}function K(j){return j.replace(/&#([0-9]+);/g,function(z,ue){return String.fromCodePoint(parseInt(ue,10))}).replace(/&#x([0-9a-f]+);/g,function(z,ue){return String.fromCodePoint(parseInt(ue,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(z){switch(z){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return z})}function q(){var j=d(">"),z=!1;return j.charCodeAt(j.length-1)===47&&(z=!0,j=j.substring(0,j.length-1)),{name:j.trim(),isClosed:z}}function J(j){if(j.isClosed)return"";var z=d("</");return f(">"),K(z)}for(;i<r&&(c(),!(i>=r));){var se=t.charCodeAt(i);if(a(1),se!==60)return w("expected <");if(i>=r)return w("unexpected end of input");var te=t.charCodeAt(i);if(te===63){a(1),f("?>");continue}if(te===33){if(a(1),h("--")){f("-->");continue}f(">");continue}if(te===47){if(a(1),c(),h("plist")){f(">");continue}if(h("dict")){f(">"),m();continue}if(h("array")){f(">"),b();continue}return w("unexpected closed tag")}var V=q();switch(V.name){case"dict":y(),V.isClosed&&m();continue;case"array":p(),V.isClosed&&b();continue;case"key":A(J(V));continue;case"string":P(J(V));continue;case"real":x(parseFloat(J(V)));continue;case"integer":N(parseInt(J(V),10));continue;case"date":D(new Date(J(V)));continue;case"data":G(J(V));continue;case"true":J(V),X(!0);continue;case"false":J(V),X(!1);continue}if(!/^plist/.test(V.name))return w("unexpected opened tag "+V.name)}return v}var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});function jo(t,e){throw new Error("Near offset "+t.pos+": "+e+" ~~~"+t.source.substr(t.pos,50)+"~~~")}function Cc(t,e,n){var r=new Ec(t),i=new kc,o=0,s=null,a=[],u=[];function c(){a.push(o),u.push(s)}function h(){o=a.pop(),s=u.pop()}function f(k){jo(r,k)}for(;sr(r,i);){if(o===0){if(s!==null&&f("too many constructs in root"),i.type===3){s={},n&&(s.$vscodeTextmateLocation=i.toLocation(e)),c(),o=1;continue}if(i.type===2){s=[],c(),o=4;continue}f("unexpected token in root")}if(o===2){if(i.type===5){h();continue}if(i.type===7){o=3;continue}f("expected , or }")}if(o===1||o===3){if(o===1&&i.type===5){h();continue}if(i.type===1){var d=i.value;if((!sr(r,i)||i.type!==6)&&f("expected colon"),sr(r,i)||f("expected value"),o=2,i.type===1){s[d]=i.value;continue}if(i.type===8){s[d]=null;continue}if(i.type===9){s[d]=!0;continue}if(i.type===10){s[d]=!1;continue}if(i.type===11){s[d]=parseFloat(i.value);continue}if(i.type===2){var S=[];s[d]=S,c(),o=4,s=S;continue}if(i.type===3){var v={};n&&(v.$vscodeTextmateLocation=i.toLocation(e)),s[d]=v,c(),o=1,s=v;continue}}f("unexpected token in dict")}if(o===5){if(i.type===4){h();continue}if(i.type===7){o=6;continue}f("expected , or ]")}if(o===4||o===6){if(o===4&&i.type===4){h();continue}if(o=5,i.type===1){s.push(i.value);continue}if(i.type===8){s.push(null);continue}if(i.type===9){s.push(!0);continue}if(i.type===10){s.push(!1);continue}if(i.type===11){s.push(parseFloat(i.value));continue}if(i.type===2){var S=[];s.push(S),c(),o=4,s=S;continue}if(i.type===3){var v={};n&&(v.$vscodeTextmateLocation=i.toLocation(e)),s.push(v),c(),o=1,s=v;continue}f("unexpected token in array")}f("unknown state")}return u.length!==0&&f("unclosed constructs"),s}Zr.parse=Cc;var Ec=function(){function t(e){this.source=e,this.pos=0,this.len=e.length,this.line=1,this.char=0}return t}(),kc=function(){function t(){this.value=null,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}return t.prototype.toLocation=function(e){return{filename:e,line:this.line,char:this.char}},t}();function sr(t,e){e.value=null,e.type=0,e.offset=-1,e.len=-1,e.line=-1,e.char=-1;var n=t.source,r=t.pos,i=t.len,o=t.line,s=t.char,a;do{if(r>=i)return!1;if(a=n.charCodeAt(r),a===32||a===9||a===13){r++,s++;continue}if(a===10){r++,o++,s=0;continue}break}while(!0);if(e.offset=r,e.line=o,e.char=s,a===34){e.type=1,r++,s++;do{if(r>=i)return!1;if(a=n.charCodeAt(r),r++,s++,a===92){r++,s++;continue}if(a===34)break}while(!0);e.value=n.substring(e.offset+1,r-1).replace(/\\u([0-9A-Fa-f]{4})/g,function(u,c){return String.fromCodePoint(parseInt(c,16))}).replace(/\\(.)/g,function(u,c){switch(c){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:jo(t,"invalid escape sequence")}})}else if(a===91)e.type=2,r++,s++;else if(a===123)e.type=3,r++,s++;else if(a===93)e.type=4,r++,s++;else if(a===125)e.type=5,r++,s++;else if(a===58)e.type=6,r++,s++;else if(a===44)e.type=7,r++,s++;else if(a===110){if(e.type=8,r++,s++,a=n.charCodeAt(r),a!==117||(r++,s++,a=n.charCodeAt(r),a!==108)||(r++,s++,a=n.charCodeAt(r),a!==108))return!1;r++,s++}else if(a===116){if(e.type=9,r++,s++,a=n.charCodeAt(r),a!==114||(r++,s++,a=n.charCodeAt(r),a!==117)||(r++,s++,a=n.charCodeAt(r),a!==101))return!1;r++,s++}else if(a===102){if(e.type=10,r++,s++,a=n.charCodeAt(r),a!==97||(r++,s++,a=n.charCodeAt(r),a!==108)||(r++,s++,a=n.charCodeAt(r),a!==115)||(r++,s++,a=n.charCodeAt(r),a!==101))return!1;r++,s++}else{e.type=11;do{if(r>=i)return!1;if(a=n.charCodeAt(r),a===46||a>=48&&a<=57||a===101||a===69||a===45||a===43){r++,s++;continue}break}while(!0)}return e.len=r-e.offset,e.value===null&&(e.value=n.substr(e.offset,e.len)),t.pos=r,t.line=o,t.char=s,!0}Object.defineProperty(Xn,"__esModule",{value:!0});var Ii=Lt,Do=mn,Tc=Zr;function Oc(t,e){return Do.CAPTURE_METADATA?Tc.parse(t,e,!0):JSON.parse(t)}Xn.parseJSONGrammar=Oc;function Rc(t,e){return Do.CAPTURE_METADATA?Ii.parseWithLocation(t,e,"$vscodeTextmateLocation"):Ii.parse(t)}Xn.parsePLISTGrammar=Rc;var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});var Bo=function(){function t(e,n,r,i,o,s){this.scope=e,this.parentScopes=n,this.index=r,this.fontStyle=i,this.foreground=o,this.background=s}return t}();Ke.ParsedThemeRule=Bo;function xi(t){return!!(/^#[0-9a-f]{6}$/i.test(t)||/^#[0-9a-f]{8}$/i.test(t)||/^#[0-9a-f]{3}$/i.test(t)||/^#[0-9a-f]{4}$/i.test(t))}function Go(t){if(!t)return[];if(!t.settings||!Array.isArray(t.settings))return[];for(var e=t.settings,n=[],r=0,i=0,o=e.length;i<o;i++){var s=e[i];if(s.settings){var a=void 0;if(typeof s.scope=="string"){var u=s.scope;u=u.replace(/^[,]+/,""),u=u.replace(/[,]+$/,""),a=u.split(",")}else Array.isArray(s.scope)?a=s.scope:a=[""];var c=-1;if(typeof s.settings.fontStyle=="string"){c=0;for(var h=s.settings.fontStyle.split(" "),f=0,d=h.length;f<d;f++){var S=h[f];switch(S){case"italic":c=c|1;break;case"bold":c=c|2;break;case"underline":c=c|4;break}}}var v=null;typeof s.settings.foreground=="string"&&xi(s.settings.foreground)&&(v=s.settings.foreground);var k=null;typeof s.settings.background=="string"&&xi(s.settings.background)&&(k=s.settings.background);for(var f=0,d=a.length;f<d;f++){var u=a[f].trim(),h=u.split(" "),T=h[h.length-1],_=null;h.length>1&&(_=h.slice(0,h.length-1),_.reverse()),n[r++]=new Bo(T,_,i,c,v,k)}}}return n}Ke.parseTheme=Go;function Pc(t){t.sort(function(f,d){var S=ei(f.scope,d.scope);return S!==0||(S=ti(f.parentScopes,d.parentScopes),S!==0)?S:f.index-d.index});for(var e=0,n="#000000",r="#ffffff";t.length>=1&&t[0].scope==="";){var i=t.shift();i.fontStyle!==-1&&(e=i.fontStyle),i.foreground!==null&&(n=i.foreground),i.background!==null&&(r=i.background)}for(var o=new $o,s=new an(0,null,e,o.getId(n),o.getId(r)),a=new Uo(new an(0,null,-1,0,0),[]),u=0,c=t.length;u<c;u++){var h=t[u];a.insert(0,h.scope,h.parentScopes,h.fontStyle,o.getId(h.foreground),o.getId(h.background))}return new Fo(o,s,a)}var $o=function(){function t(){this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null)}return t.prototype.getId=function(e){if(e===null)return 0;e=e.toUpperCase();var n=this._color2id[e];return n||(n=++this._lastColorId,this._color2id[e]=n,this._id2color[n]=e,n)},t.prototype.getColorMap=function(){return this._id2color.slice(0)},t}();Ke.ColorMap=$o;var Fo=function(){function t(e,n,r){this._colorMap=e,this._root=r,this._defaults=n,this._cache={}}return t.createFromRawTheme=function(e){return this.createFromParsedTheme(Go(e))},t.createFromParsedTheme=function(e){return Pc(e)},t.prototype.getColorMap=function(){return this._colorMap.getColorMap()},t.prototype.getDefaults=function(){return this._defaults},t.prototype.match=function(e){return this._cache.hasOwnProperty(e)||(this._cache[e]=this._root.match(e)),this._cache[e]},t}();Ke.Theme=Fo;function ei(t,e){return t<e?-1:t>e?1:0}Ke.strcmp=ei;function ti(t,e){if(t===null&&e===null)return 0;if(!t)return-1;if(!e)return 1;var n=t.length,r=e.length;if(n===r){for(var i=0;i<n;i++){var o=ei(t[i],e[i]);if(o!==0)return o}return 0}return n-r}Ke.strArrCmp=ti;var an=function(){function t(e,n,r,i,o){this.scopeDepth=e,this.parentScopes=n,this.fontStyle=r,this.foreground=i,this.background=o}return t.prototype.clone=function(){return new t(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)},t.cloneArr=function(e){for(var n=[],r=0,i=e.length;r<i;r++)n[r]=e[r].clone();return n},t.prototype.acceptOverwrite=function(e,n,r,i){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,n!==-1&&(this.fontStyle=n),r!==0&&(this.foreground=r),i!==0&&(this.background=i)},t}();Ke.ThemeTrieElementRule=an;var Uo=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this._mainRule=e,this._rulesWithParentScopes=n,this._children=r}return t._sortBySpecificity=function(e){return e.length===1||e.sort(this._cmpBySpecificity),e},t._cmpBySpecificity=function(e,n){if(e.scopeDepth===n.scopeDepth){var r=e.parentScopes,i=n.parentScopes,o=r===null?0:r.length,s=i===null?0:i.length;if(o===s)for(var a=0;a<o;a++){var u=r[a].length,c=i[a].length;if(u!==c)return c-u}return s-o}return n.scopeDepth-e.scopeDepth},t.prototype.match=function(e){if(e==="")return t._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));var n=e.indexOf("."),r,i;return n===-1?(r=e,i=""):(r=e.substring(0,n),i=e.substring(n+1)),this._children.hasOwnProperty(r)?this._children[r].match(i):t._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))},t.prototype.insert=function(e,n,r,i,o,s){if(n===""){this._doInsertHere(e,r,i,o,s);return}var a=n.indexOf("."),u,c;a===-1?(u=n,c=""):(u=n.substring(0,a),c=n.substring(a+1));var h;this._children.hasOwnProperty(u)?h=this._children[u]:(h=new t(this._mainRule.clone(),an.cloneArr(this._rulesWithParentScopes)),this._children[u]=h),h.insert(e+1,c,r,i,o,s)},t.prototype._doInsertHere=function(e,n,r,i,o){if(n===null){this._mainRule.acceptOverwrite(e,r,i,o);return}for(var s=0,a=this._rulesWithParentScopes.length;s<a;s++){var u=this._rulesWithParentScopes[s];if(ti(u.parentScopes,n)===0){u.acceptOverwrite(e,r,i,o);return}}r===-1&&(r=this._mainRule.fontStyle),i===0&&(i=this._mainRule.foreground),o===0&&(o=this._mainRule.background),this._rulesWithParentScopes.push(new an(e,n,r,i,o))},t}();Ke.ThemeTrieElement=Uo;var zt=xt&&xt.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):new n(function(h){h(c.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},qt=xt&&xt.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(h){return u([c,h])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Hn,"__esModule",{value:!0});var Ic=Xr,Ni=Xn,Mi=Ke,xc=He,Nc={getGrammarDefinition:function(t){return null},getInjections:function(t){return null}},Mc=function(){function t(e){e===void 0&&(e=Nc),this._locator=e,this._syncRegistry=new Ic.SyncRegistry(Mi.Theme.createFromRawTheme(e.theme)),this.installationQueue=new Map}return t.prototype.setTheme=function(e){this._syncRegistry.setTheme(Mi.Theme.createFromRawTheme(e))},t.prototype.getColorMap=function(){return this._syncRegistry.getColorMap()},t.prototype.loadGrammarWithEmbeddedLanguages=function(e,n,r){return this.loadGrammarWithConfiguration(e,n,{embeddedLanguages:r})},t.prototype.loadGrammarWithConfiguration=function(e,n,r){return zt(this,void 0,void 0,function(){return qt(this,function(i){switch(i.label){case 0:return[4,this._loadGrammar(e)];case 1:return i.sent(),[2,this.grammarForScopeName(e,n,r.embeddedLanguages,r.tokenTypes)]}})})},t.prototype.loadGrammar=function(e){return zt(this,void 0,void 0,function(){return qt(this,function(n){return[2,this._loadGrammar(e)]})})},t.prototype._loadGrammar=function(e,n){return n===void 0&&(n=null),zt(this,void 0,void 0,function(){var r,i=this;return qt(this,function(o){switch(o.label){case 0:return this._syncRegistry.lookup(e)?[2,this.grammarForScopeName(e)]:this.installationQueue.has(e)?[2,this.installationQueue.get(e)]:(r=new Promise(function(s,a){return zt(i,void 0,void 0,function(){var u,c,h,f,d=this;return qt(this,function(S){switch(S.label){case 0:return[4,this._locator.getGrammarDefinition(e,n)];case 1:if(u=S.sent(),!u)throw new Error("A tmGrammar load was requested but registry host failed to provide grammar definition");if(u.format!=="json"&&u.format!=="plist"||u.format==="json"&&typeof u.content!="object"&&typeof u.content!="string"||u.format==="plist"&&typeof u.content!="string")throw new TypeError('Grammar definition must be an object, either `{ content: string | object, format: "json" }` OR `{ content: string, format: "plist" }`)');return c=u.format==="json"?typeof u.content=="string"?Ni.parseJSONGrammar(u.content,"c://fakepath/grammar.json"):u.content:Ni.parsePLISTGrammar(u.content,"c://fakepath/grammar.plist"),h=typeof this._locator.getInjections=="function"&&this._locator.getInjections(e),c.scopeName=e,f=this._syncRegistry.addGrammar(c,h),[4,Promise.all(f.map(function(v){return zt(d,void 0,void 0,function(){return qt(this,function(k){try{return[2,this._loadGrammar(v,e)]}catch(T){throw new Error("While trying to load tmGrammar with scopeId: '"+e+"', it's dependency (scopeId: "+v+") loading errored: "+T.message)}return[2]})})}))];case 2:return S.sent(),s(this.grammarForScopeName(e)),[2]}})})}),this.installationQueue.set(e,r),[4,r]);case 1:return o.sent(),this.installationQueue.delete(e),[2,r]}})})},t.prototype.grammarForScopeName=function(e,n,r,i){return n===void 0&&(n=0),r===void 0&&(r=null),i===void 0&&(i=null),this._syncRegistry.grammarForScopeName(e,n,r,i)},t}(),Lc=Hn.Registry=Mc;Hn.INITIAL=xc.StackElement.NULL;var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.TMToMonacoToken=void 0;const jc=(t,e)=>{let n="";for(let r=e[0].length-1;r>=0;r-=1){const i=e[0][r];if(i===".")break;n=i+n}for(let r=e.length-1;r>=0;r-=1){const i=e[r];for(let o=i.length-1;o>=0;o-=1)if(i[o]==="."){const a=i.slice(0,o);if(t._themeService._theme._tokenTheme._match(a+"."+n)._foreground>1)return a+"."+n;if(t._themeService._theme._tokenTheme._match(a)._foreground>1)return a}}return""};Vn.TMToMonacoToken=jc;Object.defineProperty(qr,"__esModule",{value:!0});var Wo=qr.wireTmGrammars=void 0;const Dc=Hn,Bc=Vn;class cn{_ruleStack;constructor(e){this._ruleStack=e}get ruleStack(){return this._ruleStack}clone(){return new cn(this._ruleStack)}equals(e){return!(!e||!(e instanceof cn)||e!==this||e._ruleStack!==this._ruleStack)}}function Gc(t,e,n,r){return Promise.all(Array.from(n.keys()).map(async i=>{const o=await e.loadGrammar(n.get(i));t.languages.setTokensProvider(i,{getInitialState:()=>new cn(Dc.INITIAL),tokenize:(s,a)=>{const u=o.tokenizeLine(s,a.ruleStack);return{endState:new cn(u.ruleStack),tokens:u.tokens.map(c=>({...c,scopes:r?(0,Bc.TMToMonacoToken)(r,c.scopes):c.scopes[c.scopes.length-1]}))}}})}))}Wo=qr.wireTmGrammars=Gc;const $c=""+new URL("onigasm-b63d2d2d.wasm",import.meta.url).href;var Fc=jt("<div>"),Uc=jt("<div class=root>");function Li(t){if(t)return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,(Array.isArray(n)?n:[n]).map(r=>`file:///${r}`)]))}const Wc={typescript:"source.tsx",javascript:"source.tsx",css:"source.css"};function Hc(t){const[e]=rt(()=>t.monaco);{const[n]=rt(()=>Promise.all([It(()=>import("./TypeScriptReact.tmLanguage-6f7d72fd.js"),[],import.meta.url).then(i=>i.default),It(()=>import("./css.tmLanguage-b6a4aa70.js"),[],import.meta.url).then(i=>i.default)])),[r]=rt(()=>t.theme);Ze(e,i=>{i.editor.create(Fc(),{language:"typescript"}).dispose(),Ze(r,o=>{i.editor.defineTheme("current-theme",o),i.editor.setTheme("current-theme")}),Ze(n,async([o,s])=>{const a=new Lc({async getGrammarDefinition(f){return{format:"json",content:f==="source.tsx"?o:s}}}),{setLanguageConfiguration:u}=i.languages;i.languages.setLanguageConfiguration=(f,d)=>(h(),u(f,d));let c=null;async function h(){c||(c=Qa($c).then(()=>c="complete")),await c,await Wo(i,a,new Map(Object.entries(Wc)))}}),Ze(()=>t.runtime,o=>{xe(ci(()=>Object.values(o.fs.all()),s=>{console.log("file is ",s);const a=i.Uri.parse(`file:///${s.path}`),u=i.editor.getModel(a)||i.editor.createModel(s.source,s.type,a);xe(()=>{u.getValue()!==s.source&&u.setValue(s.source)})})),xe(ci(()=>Object.keys(o.types.sources),s=>{Ze(()=>o.types.sources[s],a=>i.languages.typescript.typescriptDefaults.addExtraLib(a,`file:///node_modules/${s}`))})),xe(()=>{const s=o.config.tsconfig,a=Pt({...s,paths:{...Li(s?.paths),...o.types.alias,...Li(o.fs.alias)}});i.languages.typescript.typescriptDefaults.setCompilerOptions(a),i.languages.typescript.javascriptDefaults.setCompilerOptions(a)})})})}return(()=>{var n=Uc();return Ct(r=>{Ze(pi(e,()=>t.runtime),([i,o])=>{const s=he(()=>{const c=i.editor.create(r,{value:"",language:"typescript",automaticLayout:!0});return console.log("editor is ",c),We(()=>{console.log("dispose?"),c.dispose()}),c}),a=he(()=>o.fs.get(t.path)||o.fs.create(t.path)),u=he(Ur(a,c=>{const h=i.Uri.parse(`file:///${t.path}`);return i.editor.getModel(h)||i.editor.createModel(de(()=>c.source),c.type,h)}));Ze(pi(s,a,u),([c,h,f])=>{c.setModel(f),f.onDidChangeContent(()=>h.set(f.getValue()))})})},n),n})()}async function zc(t){const e=await(t?.typescript||It(()=>import("https://esm.sh/typescript"),[],import.meta.url));return function(n,r){const i=e.createSourceFile("",n,e.ScriptTarget.Latest,!0,e.ScriptKind.TS);let o=!1;const s=e.transform(i,[u=>{const c=h=>{if((e.isImportDeclaration(h)||e.isExportDeclaration(h))&&h.moduleSpecifier&&e.isStringLiteral(h.moduleSpecifier)){const f=e.isImportDeclaration(h),d=h.moduleSpecifier.text,S=r(h.moduleSpecifier.text);if(S===null){o=!0;return}if(h.moduleSpecifier.text=S,d!==h.moduleSpecifier.text)return o=!0,f?e.factory.updateImportDeclaration(h,h.modifiers,h.importClause,e.factory.createStringLiteral(S),h.assertClause):e.factory.updateExportDeclaration(h,h.modifiers,!1,h.exportClause,e.factory.createStringLiteral(S),h.assertClause)}return e.visitEachChild(h,c,u)};return h=>e.visitNode(h,c)}]);return s.transformed[0]?o?e.createPrinter({newLine:e.NewLineKind.LineFeed}).printFile(s.transformed[0]):n:void 0}}function ji({cdn:t,babel:e,items:n,type:r}){if(!n)return Promise.resolve([]);const i=r==="plugins"?e.availablePlugins:e.availablePresets;return Promise.all(n.map(async function(s){let a,u;if(typeof s=="string")a=s;else if(Array.isArray(s)&&typeof s[0]=="string")[a,u]=s;else return s;if(a in i)return u!==void 0?[i[a],u]:i[a];{const c=await It(()=>import(`${t}/${a}`),[],import.meta.url).then(h=>h.default);return u!==void 0?[c,u]:c}}))}async function qc(t){const e=t.cdn||"https://esm.sh",n=await(t.babel||It(()=>import(`${e}/@babel/standalone`),[],import.meta.url)),[r,i]=await Promise.all([ji({cdn:e,babel:n,items:t.presets,type:"presets"}),ji({cdn:e,babel:n,items:t.plugins,type:"plugins"})]);return(o,s)=>{const a=n.transform(o,{presets:r,plugins:i}).code;if(!a)throw`Babel transform failed for file ${s} with source: 

 ${o}`;return a}}async function Xc(t){const e=await(t?.typescript||It(()=>import("https://esm.sh/typescript"),[],import.meta.url));return(n,r,i)=>r.endsWith("ts")||r.endsWith("tsx")?e.transpile(n,i.config.tsconfig):n}function Vc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Di(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Di(Object(n),!0).forEach(function(r){Vc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Di(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kc(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Jc(t,e){if(t==null)return{};var n=Kc(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yc(t,e){return Qc(t)||Zc(t,e)||eu(t,e)||tu()}function Qc(t){if(Array.isArray(t))return t}function Zc(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function eu(t,e){if(t){if(typeof t=="string")return Gi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gi(t,e)}}function Gi(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$i(Object(n),!0).forEach(function(r){nu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ru(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(i,o){return o(i)},r)}}function Qt(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=t.length?t.apply(this,i):function(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return e.apply(n,[].concat(i,a))}}}function $n(t){return{}.toString.call(t).includes("Object")}function iu(t){return!Object.keys(t).length}function un(t){return typeof t=="function"}function ou(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function su(t,e){return $n(e)||at("changeType"),Object.keys(e).some(function(n){return!ou(t,n)})&&at("changeField"),e}function au(t){un(t)||at("selectorType")}function cu(t){un(t)||$n(t)||at("handlerType"),$n(t)&&Object.values(t).some(function(e){return!un(e)})&&at("handlersType")}function uu(t){t||at("initialIsRequired"),$n(t)||at("initialType"),iu(t)&&at("initialContent")}function lu(t,e){throw new Error(t[e]||t.default)}var fu={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},at=Qt(lu)(fu),wn={changes:su,selector:au,handler:cu,initial:uu};function hu(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};wn.initial(t),wn.handler(e);var n={current:t},r=Qt(gu)(n,e),i=Qt(pu)(n),o=Qt(wn.changes)(t),s=Qt(du)(n);function a(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(h){return h};return wn.selector(c),c(n.current)}function u(c){ru(r,i,o,s)(c)}return[a,u]}function du(t,e){return un(e)?e(t.current):e}function pu(t,e){return t.current=Fi(Fi({},t.current),e),e}function gu(t,e,n){return un(e)?e(t.current):Object.keys(n).forEach(function(r){var i;return(i=e[r])===null||i===void 0?void 0:i.call(e,t.current[r])}),n}var mu={create:hu},yu={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function _u(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=t.length?t.apply(this,i):function(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return e.apply(n,[].concat(i,a))}}}function vu(t){return{}.toString.call(t).includes("Object")}function bu(t){return t||Ui("configIsRequired"),vu(t)||Ui("configType"),t.urls?(wu(),{paths:{vs:t.urls.monacoBase}}):t}function wu(){console.warn(Ho.deprecation)}function Su(t,e){throw new Error(t[e]||t.default)}var Ho={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Ui=_u(Su)(Ho),Au={config:bu},Cu=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(o,s){return s(o)},i)}};function zo(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],zo(t[n],e[n]))}),Bi(Bi({},t),e)}var Eu={type:"cancelation",msg:"operation is manually canceled"};function ar(t){var e=!1,n=new Promise(function(r,i){t.then(function(o){return e?i(Eu):r(o)}),t.catch(i)});return n.cancel=function(){return e=!0},n}var ku=mu.create({config:yu,isInitialized:!1,resolve:null,reject:null,monaco:null}),qo=Yc(ku,2),yn=qo[0],Kn=qo[1];function Tu(t){var e=Au.config(t),n=e.monaco,r=Jc(e,["monaco"]);Kn(function(i){return{config:zo(i.config,r),monaco:n}})}function Ou(){var t=yn(function(e){var n=e.monaco,r=e.isInitialized,i=e.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!t.isInitialized){if(Kn({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),ar(cr);if(window.monaco&&window.monaco.editor)return Xo(window.monaco),t.resolve(window.monaco),ar(cr);Cu(Ru,Iu)(xu)}return ar(cr)}function Ru(t){return document.body.appendChild(t)}function Pu(t){var e=document.createElement("script");return t&&(e.src=t),e}function Iu(t){var e=yn(function(r){var i=r.config,o=r.reject;return{config:i,reject:o}}),n=Pu("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function xu(){var t=yn(function(n){var r=n.config,i=n.resolve,o=n.reject;return{config:r,resolve:i,reject:o}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){Xo(n),t.resolve(n)},function(n){t.reject(n)})}function Xo(t){yn().monaco||Kn({monaco:t})}function Nu(){return yn(function(t){var e=t.monaco;return e})}var cr=new Promise(function(t,e){return Kn({resolve:t,reject:e})}),Mu={config:Tu,init:Ou,__getMonacoInstance:Nu},ni={exports:{}};ni.exports;(function(t){var e=function(){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function s(u,c){if(!o[u]){o[u]={};for(var h=0;h<u.length;h++)o[u][u.charAt(h)]=h}return o[u][c]}var a={compressToBase64:function(u){if(u==null)return"";var c=a._compress(u,6,function(h){return r.charAt(h)});switch(c.length%4){default:case 0:return c;case 1:return c+"===";case 2:return c+"==";case 3:return c+"="}},decompressFromBase64:function(u){return u==null?"":u==""?null:a._decompress(u.length,32,function(c){return s(r,u.charAt(c))})},compressToUTF16:function(u){return u==null?"":a._compress(u,15,function(c){return n(c+32)})+" "},decompressFromUTF16:function(u){return u==null?"":u==""?null:a._decompress(u.length,16384,function(c){return u.charCodeAt(c)-32})},compressToUint8Array:function(u){for(var c=a.compress(u),h=new Uint8Array(c.length*2),f=0,d=c.length;f<d;f++){var S=c.charCodeAt(f);h[f*2]=S>>>8,h[f*2+1]=S%256}return h},decompressFromUint8Array:function(u){if(u==null)return a.decompress(u);for(var c=new Array(u.length/2),h=0,f=c.length;h<f;h++)c[h]=u[h*2]*256+u[h*2+1];var d=[];return c.forEach(function(S){d.push(n(S))}),a.decompress(d.join(""))},compressToEncodedURIComponent:function(u){return u==null?"":a._compress(u,6,function(c){return i.charAt(c)})},decompressFromEncodedURIComponent:function(u){return u==null?"":u==""?null:(u=u.replace(/ /g,"+"),a._decompress(u.length,32,function(c){return s(i,u.charAt(c))}))},compress:function(u){return a._compress(u,16,function(c){return n(c)})},_compress:function(u,c,h){if(u==null)return"";var f,d,S={},v={},k="",T="",_="",E=2,C=3,w=2,g=[],l=0,y=0,m;for(m=0;m<u.length;m+=1)if(k=u.charAt(m),Object.prototype.hasOwnProperty.call(S,k)||(S[k]=C++,v[k]=!0),T=_+k,Object.prototype.hasOwnProperty.call(S,T))_=T;else{if(Object.prototype.hasOwnProperty.call(v,_)){if(_.charCodeAt(0)<256){for(f=0;f<w;f++)l=l<<1,y==c-1?(y=0,g.push(h(l)),l=0):y++;for(d=_.charCodeAt(0),f=0;f<8;f++)l=l<<1|d&1,y==c-1?(y=0,g.push(h(l)),l=0):y++,d=d>>1}else{for(d=1,f=0;f<w;f++)l=l<<1|d,y==c-1?(y=0,g.push(h(l)),l=0):y++,d=0;for(d=_.charCodeAt(0),f=0;f<16;f++)l=l<<1|d&1,y==c-1?(y=0,g.push(h(l)),l=0):y++,d=d>>1}E--,E==0&&(E=Math.pow(2,w),w++),delete v[_]}else for(d=S[_],f=0;f<w;f++)l=l<<1|d&1,y==c-1?(y=0,g.push(h(l)),l=0):y++,d=d>>1;E--,E==0&&(E=Math.pow(2,w),w++),S[T]=C++,_=String(k)}if(_!==""){if(Object.prototype.hasOwnProperty.call(v,_)){if(_.charCodeAt(0)<256){for(f=0;f<w;f++)l=l<<1,y==c-1?(y=0,g.push(h(l)),l=0):y++;for(d=_.charCodeAt(0),f=0;f<8;f++)l=l<<1|d&1,y==c-1?(y=0,g.push(h(l)),l=0):y++,d=d>>1}else{for(d=1,f=0;f<w;f++)l=l<<1|d,y==c-1?(y=0,g.push(h(l)),l=0):y++,d=0;for(d=_.charCodeAt(0),f=0;f<16;f++)l=l<<1|d&1,y==c-1?(y=0,g.push(h(l)),l=0):y++,d=d>>1}E--,E==0&&(E=Math.pow(2,w),w++),delete v[_]}else for(d=S[_],f=0;f<w;f++)l=l<<1|d&1,y==c-1?(y=0,g.push(h(l)),l=0):y++,d=d>>1;E--,E==0&&(E=Math.pow(2,w),w++)}for(d=2,f=0;f<w;f++)l=l<<1|d&1,y==c-1?(y=0,g.push(h(l)),l=0):y++,d=d>>1;for(;;)if(l=l<<1,y==c-1){g.push(h(l));break}else y++;return g.join("")},decompress:function(u){return u==null?"":u==""?null:a._decompress(u.length,32768,function(c){return u.charCodeAt(c)})},_decompress:function(u,c,h){var f=[],d=4,S=4,v=3,k="",T=[],_,E,C,w,g,l,y,m={val:h(0),position:c,index:1};for(_=0;_<3;_+=1)f[_]=_;for(C=0,g=Math.pow(2,2),l=1;l!=g;)w=m.val&m.position,m.position>>=1,m.position==0&&(m.position=c,m.val=h(m.index++)),C|=(w>0?1:0)*l,l<<=1;switch(C){case 0:for(C=0,g=Math.pow(2,8),l=1;l!=g;)w=m.val&m.position,m.position>>=1,m.position==0&&(m.position=c,m.val=h(m.index++)),C|=(w>0?1:0)*l,l<<=1;y=n(C);break;case 1:for(C=0,g=Math.pow(2,16),l=1;l!=g;)w=m.val&m.position,m.position>>=1,m.position==0&&(m.position=c,m.val=h(m.index++)),C|=(w>0?1:0)*l,l<<=1;y=n(C);break;case 2:return""}for(f[3]=y,E=y,T.push(y);;){if(m.index>u)return"";for(C=0,g=Math.pow(2,v),l=1;l!=g;)w=m.val&m.position,m.position>>=1,m.position==0&&(m.position=c,m.val=h(m.index++)),C|=(w>0?1:0)*l,l<<=1;switch(y=C){case 0:for(C=0,g=Math.pow(2,8),l=1;l!=g;)w=m.val&m.position,m.position>>=1,m.position==0&&(m.position=c,m.val=h(m.index++)),C|=(w>0?1:0)*l,l<<=1;f[S++]=n(C),y=S-1,d--;break;case 1:for(C=0,g=Math.pow(2,16),l=1;l!=g;)w=m.val&m.position,m.position>>=1,m.position==0&&(m.position=c,m.val=h(m.index++)),C|=(w>0?1:0)*l,l<<=1;f[S++]=n(C),y=S-1,d--;break;case 2:return T.join("")}if(d==0&&(d=Math.pow(2,v),v++),f[y])k=f[y];else if(y===S)k=E+E.charAt(0);else return null;T.push(k),f[S++]=E+k.charAt(0),d--,E=k,d==0&&(d=Math.pow(2,v),v++)}}};return a}();t!=null?t.exports=e:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return e})})(ni);var Vo=ni.exports;const Lu=!1,ju="vs-dark",Du={"editor.background":"#1E1E1E","editor.foreground":"#D4D4D4","editor.inactiveSelectionBackground":"#3A3D41","editorIndentGuide.background":"#404040","editorIndentGuide.activeBackground":"#707070","editor.selectionHighlightBackground":"#ADD6FF26","list.dropBackground":"#383B3D","activityBarBadge.background":"#007ACC","sideBarTitle.foreground":"#BBBBBB","input.placeholderForeground":"#A6A6A6","menu.background":"#252526","menu.foreground":"#CCCCCC","statusBarItem.remoteForeground":"#FFF","statusBarItem.remoteBackground":"#16825D","sideBarSectionHeader.background":"#0000","sideBarSectionHeader.border":"#ccc3","tab.lastPinnedBorder":"#ccc3"},Bu=[{foreground:"#D4D4D4",token:""},{foreground:"#D4D4D4",token:"meta.embedded"},{foreground:"#D4D4D4",token:"source.groovy.embedded"},{fontStyle:"italic",token:"emphasis"},{fontStyle:"bold",token:"strong"},{foreground:"#000080",token:"header"},{foreground:"#6A9955",token:"comment"},{foreground:"#569cd6",token:"constant.language"},{foreground:"#b5cea8",token:"constant.numeric"},{foreground:"#b5cea8",token:"variable.other.enummember"},{foreground:"#b5cea8",token:"keyword.operator.plus.exponent"},{foreground:"#b5cea8",token:"keyword.operator.minus.exponent"},{foreground:"#646695",token:"constant.regexp"},{foreground:"#569cd6",token:"entity.name.tag"},{foreground:"#d7ba7d",token:"entity.name.tag.css"},{foreground:"#9cdcfe",token:"entity.other.attribute-name"},{foreground:"#d7ba7d",token:"entity.other.attribute-name.class.css"},{foreground:"#d7ba7d",token:"entity.other.attribute-name.class.mixin.css"},{foreground:"#d7ba7d",token:"entity.other.attribute-name.id.css"},{foreground:"#d7ba7d",token:"entity.other.attribute-name.parent-selector.css"},{foreground:"#d7ba7d",token:"entity.other.attribute-name.pseudo-class.css"},{foreground:"#d7ba7d",token:"entity.other.attribute-name.pseudo-element.css"},{foreground:"#d7ba7d",token:"source.css.less entity.other.attribute-name.id"},{foreground:"#d7ba7d",token:"entity.other.attribute-name.scss"},{foreground:"#f44747",token:"invalid"},{fontStyle:"underline",token:"markup.underline"},{fontStyle:"bold",foreground:"#569cd6",token:"markup.bold"},{fontStyle:"bold",foreground:"#569cd6",token:"markup.heading"},{fontStyle:"italic",token:"markup.italic"},{foreground:"#b5cea8",token:"markup.inserted"},{foreground:"#ce9178",token:"markup.deleted"},{foreground:"#569cd6",token:"markup.changed"},{foreground:"#6A9955",token:"punctuation.definition.quote.begin.markdown"},{foreground:"#6796e6",token:"punctuation.definition.list.begin.markdown"},{foreground:"#ce9178",token:"markup.inline.raw"},{foreground:"#808080",token:"punctuation.definition.tag"},{foreground:"#569cd6",token:"meta.preprocessor"},{foreground:"#569cd6",token:"entity.name.function.preprocessor"},{foreground:"#ce9178",token:"meta.preprocessor.string"},{foreground:"#b5cea8",token:"meta.preprocessor.numeric"},{foreground:"#9cdcfe",token:"meta.structure.dictionary.key.python"},{foreground:"#569cd6",token:"meta.diff.header"},{foreground:"#569cd6",token:"storage"},{foreground:"#569cd6",token:"storage.type"},{foreground:"#569cd6",token:"storage.modifier"},{foreground:"#569cd6",token:"keyword.operator.noexcept"},{foreground:"#ce9178",token:"string"},{foreground:"#ce9178",token:"meta.embedded.assembly"},{foreground:"#ce9178",token:"string.tag"},{foreground:"#ce9178",token:"string.value"},{foreground:"#d16969",token:"string.regexp"},{foreground:"#569cd6",token:"punctuation.definition.template-expression.begin"},{foreground:"#569cd6",token:"punctuation.definition.template-expression.end"},{foreground:"#569cd6",token:"punctuation.section.embedded"},{foreground:"#d4d4d4",token:"meta.template.expression"},{foreground:"#9cdcfe",token:"support.type.vendored.property-name"},{foreground:"#9cdcfe",token:"support.type.property-name"},{foreground:"#9cdcfe",token:"variable.css"},{foreground:"#9cdcfe",token:"variable.scss"},{foreground:"#9cdcfe",token:"variable.other.less"},{foreground:"#9cdcfe",token:"source.coffee.embedded"},{foreground:"#569cd6",token:"keyword"},{foreground:"#569cd6",token:"keyword.control"},{foreground:"#d4d4d4",token:"keyword.operator"},{foreground:"#569cd6",token:"keyword.operator.new"},{foreground:"#569cd6",token:"keyword.operator.expression"},{foreground:"#569cd6",token:"keyword.operator.cast"},{foreground:"#569cd6",token:"keyword.operator.sizeof"},{foreground:"#569cd6",token:"keyword.operator.alignof"},{foreground:"#569cd6",token:"keyword.operator.typeid"},{foreground:"#569cd6",token:"keyword.operator.alignas"},{foreground:"#569cd6",token:"keyword.operator.instanceof"},{foreground:"#569cd6",token:"keyword.operator.logical.python"},{foreground:"#569cd6",token:"keyword.operator.wordlike"},{foreground:"#b5cea8",token:"keyword.other.unit"},{foreground:"#569cd6",token:"punctuation.section.embedded.begin.php"},{foreground:"#569cd6",token:"punctuation.section.embedded.end.php"},{foreground:"#9cdcfe",token:"support.function.git-rebase"},{foreground:"#b5cea8",token:"constant.sha.git-rebase"},{foreground:"#d4d4d4",token:"storage.modifier.import.java"},{foreground:"#d4d4d4",token:"variable.language.wildcard.java"},{foreground:"#d4d4d4",token:"storage.modifier.package.java"},{foreground:"#569cd6",token:"variable.language"},{foreground:"#DCDCAA",token:"entity.name.function"},{foreground:"#DCDCAA",token:"support.function"},{foreground:"#DCDCAA",token:"support.constant.handlebars"},{foreground:"#DCDCAA",token:"source.powershell variable.other.member"},{foreground:"#DCDCAA",token:"entity.name.operator.custom-literal"},{foreground:"#4EC9B0",token:"meta.return-type"},{foreground:"#4EC9B0",token:"support.class"},{foreground:"#4EC9B0",token:"support.type"},{foreground:"#4EC9B0",token:"entity.name.type"},{foreground:"#4EC9B0",token:"entity.name.namespace"},{foreground:"#4EC9B0",token:"entity.other.attribute"},{foreground:"#4EC9B0",token:"entity.name.scope-resolution"},{foreground:"#4EC9B0",token:"entity.name.class"},{foreground:"#4EC9B0",token:"storage.type.numeric.go"},{foreground:"#4EC9B0",token:"storage.type.byte.go"},{foreground:"#4EC9B0",token:"storage.type.boolean.go"},{foreground:"#4EC9B0",token:"storage.type.string.go"},{foreground:"#4EC9B0",token:"storage.type.uintptr.go"},{foreground:"#4EC9B0",token:"storage.type.error.go"},{foreground:"#4EC9B0",token:"storage.type.rune.go"},{foreground:"#4EC9B0",token:"storage.type.cs"},{foreground:"#4EC9B0",token:"storage.type.generic.cs"},{foreground:"#4EC9B0",token:"storage.type.modifier.cs"},{foreground:"#4EC9B0",token:"storage.type.variable.cs"},{foreground:"#4EC9B0",token:"storage.type.annotation.java"},{foreground:"#4EC9B0",token:"storage.type.generic.java"},{foreground:"#4EC9B0",token:"storage.type.java"},{foreground:"#4EC9B0",token:"storage.type.object.array.java"},{foreground:"#4EC9B0",token:"storage.type.primitive.array.java"},{foreground:"#4EC9B0",token:"storage.type.primitive.java"},{foreground:"#4EC9B0",token:"storage.type.token.java"},{foreground:"#4EC9B0",token:"storage.type.groovy"},{foreground:"#4EC9B0",token:"storage.type.annotation.groovy"},{foreground:"#4EC9B0",token:"storage.type.parameters.groovy"},{foreground:"#4EC9B0",token:"storage.type.generic.groovy"},{foreground:"#4EC9B0",token:"storage.type.object.array.groovy"},{foreground:"#4EC9B0",token:"storage.type.primitive.array.groovy"},{foreground:"#4EC9B0",token:"storage.type.primitive.groovy"},{foreground:"#4EC9B0",token:"meta.type.cast.expr"},{foreground:"#4EC9B0",token:"meta.type.new.expr"},{foreground:"#4EC9B0",token:"support.constant.math"},{foreground:"#4EC9B0",token:"support.constant.dom"},{foreground:"#4EC9B0",token:"support.constant.json"},{foreground:"#4EC9B0",token:"entity.other.inherited-class"},{foreground:"#C586C0",token:"keyword.control"},{foreground:"#C586C0",token:"source.cpp keyword.operator.new"},{foreground:"#C586C0",token:"keyword.operator.delete"},{foreground:"#C586C0",token:"keyword.other.using"},{foreground:"#C586C0",token:"keyword.other.operator"},{foreground:"#C586C0",token:"entity.name.operator"},{foreground:"#9CDCFE",token:"variable"},{foreground:"#9CDCFE",token:"meta.definition.variable.name"},{foreground:"#9CDCFE",token:"support.variable"},{foreground:"#9CDCFE",token:"entity.name.variable"},{foreground:"#4FC1FF",token:"variable.other.constant"},{foreground:"#4FC1FF",token:"variable.other.enummember"},{foreground:"#9CDCFE",token:"meta.object-literal.key"},{foreground:"#CE9178",token:"support.constant.property-value"},{foreground:"#CE9178",token:"support.constant.font-name"},{foreground:"#CE9178",token:"support.constant.media-type"},{foreground:"#CE9178",token:"support.constant.media"},{foreground:"#CE9178",token:"constant.other.color.rgb-value"},{foreground:"#CE9178",token:"constant.other.rgb-value"},{foreground:"#CE9178",token:"support.constant.color"},{foreground:"#CE9178",token:"punctuation.definition.group.regexp"},{foreground:"#CE9178",token:"punctuation.definition.group.assertion.regexp"},{foreground:"#CE9178",token:"punctuation.definition.character-class.regexp"},{foreground:"#CE9178",token:"punctuation.character.set.begin.regexp"},{foreground:"#CE9178",token:"punctuation.character.set.end.regexp"},{foreground:"#CE9178",token:"keyword.operator.negation.regexp"},{foreground:"#CE9178",token:"support.other.parenthesis.regexp"},{foreground:"#d16969",token:"constant.character.character-class.regexp"},{foreground:"#d16969",token:"constant.other.character-class.set.regexp"},{foreground:"#d16969",token:"constant.other.character-class.regexp"},{foreground:"#d16969",token:"constant.character.set.regexp"},{foreground:"#DCDCAA",token:"keyword.operator.or.regexp"},{foreground:"#DCDCAA",token:"keyword.control.anchor.regexp"},{foreground:"#d7ba7d",token:"keyword.operator.quantifier.regexp"},{foreground:"#569cd6",token:"constant.character"},{foreground:"#d7ba7d",token:"constant.character.escape"},{foreground:"#C8C8C8",token:"entity.name.label"}],Gu=[],$u={inherit:Lu,base:ju,colors:Du,rules:Bu,encodedTokensColors:Gu};let ur="https://esm.sh";const lr={theme:{},grammar:{}};function Ko(t,e){switch(t){case"theme":return`${ur}/tm-themes/themes/${e}.json`;case"grammar":return`${ur}/tm-grammars/grammars/${e}.json`;case"oniguruma":return`${ur}/vscode-oniguruma/release/onig.wasm`}}async function Jo(t,e){if(e in lr[t])return lr[t][e];const n=Ko(t,e);return lr[t][e]=typeof n!="string"?n:fetch(n).then(r=>r.ok?r.json():null).catch(console.error)}var Fu=Object.defineProperty,Uu=(t,e,n)=>e in t?Fu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wu=(t,e,n)=>(Uu(t,typeof e!="symbol"?e+"":e,n),n),Hu=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},pt=(t,e,n)=>(Hu(t,e,"read from private field"),n?n.call(t):e.get(t)),Yo=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},At,Zt;function zu(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Wi={equals:!1};function qu(t,e,n){let r=!1,i=!0;const[o,s]=Ce(void 0,Wi),a=he(u=>r?t(u):(i=!o(),u),e,Wi);return()=>{r=!0,i&&(i=s());const u=a();return r=!1,u}}function Qo(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Qo(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Xu(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Qo(t))&&(r&&(r+=" "),r+=e);return r}var Zo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var es={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Zo,()=>{return n={770:function(i,o,s){var a=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(o,"__esModule",{value:!0}),o.setDefaultDebugCall=o.createOnigScanner=o.createOnigString=o.loadWASM=o.OnigScanner=o.OnigString=void 0;const u=a(s(418));let c=null,h=!1;class f{static _utf8ByteLength(_){let E=0;for(let C=0,w=_.length;C<w;C++){const g=_.charCodeAt(C);let l=g,y=!1;if(g>=55296&&g<=56319&&C+1<w){const m=_.charCodeAt(C+1);m>=56320&&m<=57343&&(l=65536+(g-55296<<10)|m-56320,y=!0)}E+=l<=127?1:l<=2047?2:l<=65535?3:4,y&&C++}return E}constructor(_){const E=_.length,C=f._utf8ByteLength(_),w=C!==E,g=w?new Uint32Array(E+1):null;w&&(g[E]=C);const l=w?new Uint32Array(C+1):null;w&&(l[C]=E);const y=new Uint8Array(C);let m=0;for(let p=0;p<E;p++){const b=_.charCodeAt(p);let A=b,P=!1;if(b>=55296&&b<=56319&&p+1<E){const x=_.charCodeAt(p+1);x>=56320&&x<=57343&&(A=65536+(b-55296<<10)|x-56320,P=!0)}w&&(g[p]=m,P&&(g[p+1]=m),A<=127?l[m+0]=p:A<=2047?(l[m+0]=p,l[m+1]=p):A<=65535?(l[m+0]=p,l[m+1]=p,l[m+2]=p):(l[m+0]=p,l[m+1]=p,l[m+2]=p,l[m+3]=p)),A<=127?y[m++]=A:A<=2047?(y[m++]=192|(1984&A)>>>6,y[m++]=128|(63&A)>>>0):A<=65535?(y[m++]=224|(61440&A)>>>12,y[m++]=128|(4032&A)>>>6,y[m++]=128|(63&A)>>>0):(y[m++]=240|(1835008&A)>>>18,y[m++]=128|(258048&A)>>>12,y[m++]=128|(4032&A)>>>6,y[m++]=128|(63&A)>>>0),P&&p++}this.utf16Length=E,this.utf8Length=C,this.utf16Value=_,this.utf8Value=y,this.utf16OffsetToUtf8=g,this.utf8OffsetToUtf16=l}createString(_){const E=_._omalloc(this.utf8Length);return _.HEAPU8.set(this.utf8Value,E),E}}class d{constructor(_){if(this.id=++d.LAST_ID,!c)throw new Error("Must invoke loadWASM first.");this._onigBinding=c,this.content=_;const E=new f(_);this.utf16Length=E.utf16Length,this.utf8Length=E.utf8Length,this.utf16OffsetToUtf8=E.utf16OffsetToUtf8,this.utf8OffsetToUtf16=E.utf8OffsetToUtf16,this.utf8Length<1e4&&!d._sharedPtrInUse?(d._sharedPtr||(d._sharedPtr=c._omalloc(1e4)),d._sharedPtrInUse=!0,c.HEAPU8.set(E.utf8Value,d._sharedPtr),this.ptr=d._sharedPtr):this.ptr=E.createString(c)}convertUtf8OffsetToUtf16(_){return this.utf8OffsetToUtf16?_<0?0:_>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[_]:_}convertUtf16OffsetToUtf8(_){return this.utf16OffsetToUtf8?_<0?0:_>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[_]:_}dispose(){this.ptr===d._sharedPtr?d._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}o.OnigString=d,d.LAST_ID=0,d._sharedPtr=0,d._sharedPtrInUse=!1;class S{constructor(_,E){var C,w;if(!c)throw new Error("Must invoke loadWASM first.");const g=[],l=[];for(let P=0,x=_.length;P<x;P++){const N=new f(_[P]);g[P]=N.createString(c),l[P]=N.utf8Length}const y=c._omalloc(4*_.length);c.HEAPU32.set(g,y/4);const m=c._omalloc(4*_.length);c.HEAPU32.set(l,m/4),this._onigBinding=c,this._options=(C=E?.options)!==null&&C!==void 0?C:[10];const p=this.onigOptions(this._options),b=this.onigSyntax((w=E?.syntax)!==null&&w!==void 0?w:0),A=c._createOnigScanner(y,m,_.length,p,b);this._ptr=A;for(let P=0,x=_.length;P<x;P++)c._ofree(g[P]);c._ofree(m),c._ofree(y),A===0&&function(P){throw new Error(P.UTF8ToString(P._getLastOnigError()))}(c)}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(_,E,C){let w=h,g=this._options;if(Array.isArray(C)?(C.includes(25)&&(w=!0),g=g.concat(C)):typeof C=="boolean"&&(w=C),typeof _=="string"){_=new d(_);const l=this._findNextMatchSync(_,E,w,g);return _.dispose(),l}return this._findNextMatchSync(_,E,w,g)}_findNextMatchSync(_,E,C,w){const g=this._onigBinding,l=this.onigOptions(w);let y;if(y=C?g._findNextOnigScannerMatchDbg(this._ptr,_.id,_.ptr,_.utf8Length,_.convertUtf16OffsetToUtf8(E),l):g._findNextOnigScannerMatch(this._ptr,_.id,_.ptr,_.utf8Length,_.convertUtf16OffsetToUtf8(E),l),y===0)return null;const m=g.HEAPU32;let p=y/4;const b=m[p++],A=m[p++];let P=[];for(let x=0;x<A;x++){const N=_.convertUtf8OffsetToUtf16(m[p++]),D=_.convertUtf8OffsetToUtf16(m[p++]);P[x]={start:N,end:D,length:D-N}}return{index:b,captureIndices:P}}onigOptions(_){return _.map(E=>this.onigOption(E)).reduce((E,C)=>E|C,this._onigBinding.ONIG_OPTION_NONE)}onigSyntax(_){switch(_){case 0:return this._onigBinding.ONIG_SYNTAX_DEFAULT;case 1:return this._onigBinding.ONIG_SYNTAX_ASIS;case 2:return this._onigBinding.ONIG_SYNTAX_POSIX_BASIC;case 3:return this._onigBinding.ONIG_SYNTAX_POSIX_EXTENDED;case 4:return this._onigBinding.ONIG_SYNTAX_EMACS;case 5:return this._onigBinding.ONIG_SYNTAX_GREP;case 6:return this._onigBinding.ONIG_SYNTAX_GNU_REGEX;case 7:return this._onigBinding.ONIG_SYNTAX_JAVA;case 8:return this._onigBinding.ONIG_SYNTAX_PERL;case 9:return this._onigBinding.ONIG_SYNTAX_PERL_NG;case 10:return this._onigBinding.ONIG_SYNTAX_RUBY;case 11:return this._onigBinding.ONIG_SYNTAX_PYTHON;case 12:return this._onigBinding.ONIG_SYNTAX_ONIGURUMA}}onigOption(_){switch(_){case 1:return this._onigBinding.ONIG_OPTION_NONE;case 0:case 25:return this._onigBinding.ONIG_OPTION_DEFAULT;case 2:return this._onigBinding.ONIG_OPTION_IGNORECASE;case 3:return this._onigBinding.ONIG_OPTION_EXTEND;case 4:return this._onigBinding.ONIG_OPTION_MULTILINE;case 5:return this._onigBinding.ONIG_OPTION_SINGLELINE;case 6:return this._onigBinding.ONIG_OPTION_FIND_LONGEST;case 7:return this._onigBinding.ONIG_OPTION_FIND_NOT_EMPTY;case 8:return this._onigBinding.ONIG_OPTION_NEGATE_SINGLELINE;case 9:return this._onigBinding.ONIG_OPTION_DONT_CAPTURE_GROUP;case 10:return this._onigBinding.ONIG_OPTION_CAPTURE_GROUP;case 11:return this._onigBinding.ONIG_OPTION_NOTBOL;case 12:return this._onigBinding.ONIG_OPTION_NOTEOL;case 13:return this._onigBinding.ONIG_OPTION_CHECK_VALIDITY_OF_STRING;case 14:return this._onigBinding.ONIG_OPTION_IGNORECASE_IS_ASCII;case 15:return this._onigBinding.ONIG_OPTION_WORD_IS_ASCII;case 16:return this._onigBinding.ONIG_OPTION_DIGIT_IS_ASCII;case 17:return this._onigBinding.ONIG_OPTION_SPACE_IS_ASCII;case 18:return this._onigBinding.ONIG_OPTION_POSIX_IS_ASCII;case 19:return this._onigBinding.ONIG_OPTION_TEXT_SEGMENT_EXTENDED_GRAPHEME_CLUSTER;case 20:return this._onigBinding.ONIG_OPTION_TEXT_SEGMENT_WORD;case 21:return this._onigBinding.ONIG_OPTION_NOT_BEGIN_STRING;case 22:return this._onigBinding.ONIG_OPTION_NOT_END_STRING;case 23:return this._onigBinding.ONIG_OPTION_NOT_BEGIN_POSITION;case 24:return this._onigBinding.ONIG_OPTION_CALLBACK_EACH_MATCH}}}o.OnigScanner=S;let v=!1,k=null;o.loadWASM=function(T){if(v)return k;let _,E,C,w;if(v=!0,function(g){return typeof g.instantiator=="function"}(T))_=T.instantiator,E=T.print;else{let g;(function(l){return l.data!==void 0})(T)?(g=T.data,E=T.print):g=T,_=function(l){return typeof Response<"u"&&l instanceof Response}(g)?typeof WebAssembly.instantiateStreaming=="function"?function(l){return y=>WebAssembly.instantiateStreaming(l,y)}(g):function(l){return async y=>{const m=await l.arrayBuffer();return WebAssembly.instantiate(m,y)}}(g):function(l){return y=>WebAssembly.instantiate(l,y)}(g)}return k=new Promise((g,l)=>{C=g,w=l}),function(g,l,y,m){(0,u.default)({print:l,instantiateWasm:(p,b)=>{if(typeof performance>"u"){const A=()=>Date.now();p.env.emscripten_get_now=A,p.wasi_snapshot_preview1.emscripten_get_now=A}return g(p).then(A=>b(A.instance),m),{}}}).then(p=>{c=p,y()})}(_,E,C,w),k},o.createOnigString=function(T){return new d(T)},o.createOnigScanner=function(T){return new S(T)},o.setDefaultDebugCall=function(T){h=T}},418:i=>{var o=(typeof document<"u"&&document.currentScript&&document.currentScript.src,function(s={}){var a,u,c=s;c.ready=new Promise((I,M)=>{a=I,u=M});var h,f=Object.assign({},c);typeof read<"u"&&read,h=I=>{if(typeof readbuffer=="function")return new Uint8Array(readbuffer(I));let M=read(I,"binary");return typeof M=="object"||D(O),M;var O},typeof clearTimeout>"u"&&(globalThis.clearTimeout=I=>{}),typeof setTimeout>"u"&&(globalThis.setTimeout=I=>typeof I=="function"?I():D()),typeof scriptArgs<"u"&&scriptArgs,typeof onig_print<"u"&&(typeof console>"u"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr<"u"?printErr:onig_print);var d,S,v=c.print||console.log.bind(console),k=c.printErr||console.error.bind(console);Object.assign(c,f),f=null,c.arguments&&c.arguments,c.thisProgram&&c.thisProgram,c.quit&&c.quit,c.wasmBinary&&(d=c.wasmBinary),c.noExitRuntime,typeof WebAssembly!="object"&&D("no native wasm support detected");var T,_,E,C,w,g,l,y,m=!1;function p(){var I=S.buffer;c.HEAP8=T=new Int8Array(I),c.HEAP16=E=new Int16Array(I),c.HEAPU8=_=new Uint8Array(I),c.HEAPU16=C=new Uint16Array(I),c.HEAP32=w=new Int32Array(I),c.HEAPU32=g=new Uint32Array(I),c.HEAPF32=l=new Float32Array(I),c.HEAPF64=y=new Float64Array(I)}var b=[],A=[],P=[],x=0,N=null;function D(I){c.onAbort&&c.onAbort(I),k(I="Aborted("+I+")"),m=!0,I+=". Build with -sASSERTIONS for more info.";var M=new WebAssembly.RuntimeError(I);throw u(M),M}var G,X;function K(I){return I.startsWith("data:application/octet-stream;base64,")}function q(I){if(I==G&&d)return new Uint8Array(d);if(h)return h(I);throw"both async and sync fetching of the wasm failed"}function J(I,M,O){return function(R){return Promise.resolve().then(()=>q(R))}(I).then(R=>WebAssembly.instantiate(R,M)).then(R=>R).then(O,R=>{k(`failed to asynchronously prepare wasm: ${R}`),D(R)})}K(G="onig.wasm")||(X=G,G=c.locateFile?c.locateFile(X,""):""+X);var se=I=>{for(;I.length>0;)I.shift()(c)},te=void 0,V=I=>{for(var M="",O=I;_[O];)M+=te[_[O++]];return M},j={},z={},ue=void 0,B=I=>{throw new ue(I)},Y=void 0,Q=(I,M,O)=>{function R(H){var F=O(H);F.length!==I.length&&(Z=>{throw new Y(Z)})("Mismatched type converter count");for(var U=0;U<I.length;++U)le(I[U],F[U])}I.forEach(function(H){});var L=new Array(M.length),$=[],W=0;M.forEach((H,F)=>{z.hasOwnProperty(H)?L[F]=z[H]:($.push(H),j.hasOwnProperty(H)||(j[H]=[]),j[H].push(()=>{L[F]=z[H],++W===$.length&&R(L)}))}),$.length===0&&R(L)};function le(I,M,O={}){if(!("argPackAdvance"in M))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(R,L,$={}){var W=L.name;if(R||B(`type "${W}" must have a positive integer typeid pointer`),z.hasOwnProperty(R)){if($.ignoreDuplicateRegistrations)return;B(`Cannot register type '${W}' twice`)}if(z[R]=L,j.hasOwnProperty(R)){var H=j[R];delete j[R],H.forEach(F=>F())}}(I,M,O)}function ve(){this.allocated=[void 0],this.freelist=[]}var fe=new ve,Je=()=>{for(var I=0,M=fe.reserved;M<fe.allocated.length;++M)fe.allocated[M]!==void 0&&++I;return I},ze=I=>(I||B("Cannot use deleted val. handle = "+I),fe.get(I).value),Oe=I=>{switch(I){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return fe.allocate({refcount:1,value:I})}};function Me(I){return this.fromWireType(w[I>>2])}var qe=(I,M)=>{switch(M){case 4:return function(O){return this.fromWireType(l[O>>2])};case 8:return function(O){return this.fromWireType(y[O>>3])};default:throw new TypeError(`invalid float width (${M}): ${I}`)}},be=(I,M,O)=>{switch(M){case 1:return O?R=>T[R>>0]:R=>_[R>>0];case 2:return O?R=>E[R>>1]:R=>C[R>>1];case 4:return O?R=>w[R>>2]:R=>g[R>>2];default:throw new TypeError(`invalid integer width (${M}): ${I}`)}};function Le(I){return this.fromWireType(g[I>>2])}var Ee,Ye=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ot=(I,M,O)=>{for(var R=M+O,L=M;I[L]&&!(L>=R);)++L;if(L-M>16&&I.buffer&&Ye)return Ye.decode(I.subarray(M,L));for(var $="";M<L;){var W=I[M++];if(128&W){var H=63&I[M++];if((224&W)!=192){var F=63&I[M++];if((W=(240&W)==224?(15&W)<<12|H<<6|F:(7&W)<<18|H<<12|F<<6|63&I[M++])<65536)$+=String.fromCharCode(W);else{var U=W-65536;$+=String.fromCharCode(55296|U>>10,56320|1023&U)}}else $+=String.fromCharCode((31&W)<<6|H)}else $+=String.fromCharCode(W)}return $},_t=(I,M)=>I?ot(_,I,M):"",Qe=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,$t=(I,M)=>{for(var O=I,R=O>>1,L=R+M/2;!(R>=L)&&C[R];)++R;if((O=R<<1)-I>32&&Qe)return Qe.decode(_.subarray(I,O));for(var $="",W=0;!(W>=M/2);++W){var H=E[I+2*W>>1];if(H==0)break;$+=String.fromCharCode(H)}return $},vt=(I,M,O)=>{if(O===void 0&&(O=2147483647),O<2)return 0;for(var R=M,L=(O-=2)<2*I.length?O/2:I.length,$=0;$<L;++$){var W=I.charCodeAt($);E[M>>1]=W,M+=2}return E[M>>1]=0,M-R},Ft=I=>2*I.length,ke=(I,M)=>{for(var O=0,R="";!(O>=M/4);){var L=w[I+4*O>>2];if(L==0)break;if(++O,L>=65536){var $=L-65536;R+=String.fromCharCode(55296|$>>10,56320|1023&$)}else R+=String.fromCharCode(L)}return R},bt=(I,M,O)=>{if(O===void 0&&(O=2147483647),O<4)return 0;for(var R=M,L=R+O-4,$=0;$<I.length;++$){var W=I.charCodeAt($);if(W>=55296&&W<=57343&&(W=65536+((1023&W)<<10)|1023&I.charCodeAt(++$)),w[M>>2]=W,(M+=4)+4>L)break}return w[M>>2]=0,M-R},Yn=I=>{for(var M=0,O=0;O<I.length;++O){var R=I.charCodeAt(O);R>=55296&&R<=57343&&++O,M+=4}return M};Ee=()=>performance.now();var Qn=I=>{var M=(I-S.buffer.byteLength+65535)/65536;try{return S.grow(M),p(),1}catch{}},Zn=[null,[],[]];(()=>{for(var I=new Array(256),M=0;M<256;++M)I[M]=String.fromCharCode(M);te=I})(),ue=c.BindingError=class extends Error{constructor(I){super(I),this.name="BindingError"}},Y=c.InternalError=class extends Error{constructor(I){super(I),this.name="InternalError"}},Object.assign(ve.prototype,{get(I){return this.allocated[I]},has(I){return this.allocated[I]!==void 0},allocate(I){var M=this.freelist.pop()||this.allocated.length;return this.allocated[M]=I,M},free(I){this.allocated[I]=void 0,this.freelist.push(I)}}),fe.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),fe.reserved=fe.allocated.length,c.count_emval_handles=Je;var ut,Ut={_embind_register_bigint:(I,M,O,R,L)=>{},_embind_register_bool:(I,M,O,R)=>{le(I,{name:M=V(M),fromWireType:function(L){return!!L},toWireType:function(L,$){return $?O:R},argPackAdvance:8,readValueFromPointer:function(L){return this.fromWireType(_[L])},destructorFunction:null})},_embind_register_constant:(I,M,O)=>{I=V(I),Q([],[M],function(R){return R=R[0],c[I]=R.fromWireType(O),[]})},_embind_register_emval:(I,M)=>{le(I,{name:M=V(M),fromWireType:O=>{var R=ze(O);return(L=>{L>=fe.reserved&&--fe.get(L).refcount==0&&fe.free(L)})(O),R},toWireType:(O,R)=>Oe(R),argPackAdvance:8,readValueFromPointer:Me,destructorFunction:null})},_embind_register_float:(I,M,O)=>{le(I,{name:M=V(M),fromWireType:R=>R,toWireType:(R,L)=>L,argPackAdvance:8,readValueFromPointer:qe(M,O),destructorFunction:null})},_embind_register_integer:(I,M,O,R,L)=>{M=V(M);var $=F=>F;if(R===0){var W=32-8*O;$=F=>F<<W>>>W}var H=M.includes("unsigned");le(I,{name:M,fromWireType:$,toWireType:H?function(F,U){return this.name,U>>>0}:function(F,U){return this.name,U},argPackAdvance:8,readValueFromPointer:be(M,O,R!==0),destructorFunction:null})},_embind_register_memory_view:(I,M,O)=>{var R=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][M];function L($){var W=g[$>>2],H=g[$+4>>2];return new R(T.buffer,H,W)}le(I,{name:O=V(O),fromWireType:L,argPackAdvance:8,readValueFromPointer:L},{ignoreDuplicateRegistrations:!0})},_embind_register_std_string:(I,M)=>{var O=(M=V(M))==="std::string";le(I,{name:M,fromWireType:R=>{var L,$=g[R>>2],W=R+4;if(O)for(var H=W,F=0;F<=$;++F){var U=W+F;if(F==$||_[U]==0){var Z=_t(H,U-H);L===void 0?L=Z:(L+=String.fromCharCode(0),L+=Z),H=U+1}}else{var ee=new Array($);for(F=0;F<$;++F)ee[F]=String.fromCharCode(_[W+F]);L=ee.join("")}return je(R),L},toWireType:(R,L)=>{var $;L instanceof ArrayBuffer&&(L=new Uint8Array(L));var W=typeof L=="string";W||L instanceof Uint8Array||L instanceof Uint8ClampedArray||L instanceof Int8Array||B("Cannot pass non-string to std::string"),$=O&&W?(ee=>{for(var ie=0,re=0;re<ee.length;++re){var Te=ee.charCodeAt(re);Te<=127?ie++:Te<=2047?ie+=2:Te>=55296&&Te<=57343?(ie+=4,++re):ie+=3}return ie})(L):L.length;var H=Wt(4+$+1),F=H+4;if(g[H>>2]=$,O&&W)((ee,ie,re,Te)=>{if(!(Te>0))return 0;for(var Se=re,De=re+Te-1,lt=0;lt<ee.length;++lt){var me=ee.charCodeAt(lt);if(me>=55296&&me<=57343&&(me=65536+((1023&me)<<10)|1023&ee.charCodeAt(++lt)),me<=127){if(re>=De)break;ie[re++]=me}else if(me<=2047){if(re+1>=De)break;ie[re++]=192|me>>6,ie[re++]=128|63&me}else if(me<=65535){if(re+2>=De)break;ie[re++]=224|me>>12,ie[re++]=128|me>>6&63,ie[re++]=128|63&me}else{if(re+3>=De)break;ie[re++]=240|me>>18,ie[re++]=128|me>>12&63,ie[re++]=128|me>>6&63,ie[re++]=128|63&me}}ie[re]=0})(L,_,F,$+1);else if(W)for(var U=0;U<$;++U){var Z=L.charCodeAt(U);Z>255&&(je(F),B("String has UTF-16 code units that do not fit in 8 bits")),_[F+U]=Z}else for(U=0;U<$;++U)_[F+U]=L[U];return R!==null&&R.push(je,H),H},argPackAdvance:8,readValueFromPointer:Le,destructorFunction:R=>je(R)})},_embind_register_std_wstring:(I,M,O)=>{var R,L,$,W,H;O=V(O),M===2?(R=$t,L=vt,W=Ft,$=()=>C,H=1):M===4&&(R=ke,L=bt,W=Yn,$=()=>g,H=2),le(I,{name:O,fromWireType:F=>{for(var U,Z=g[F>>2],ee=$(),ie=F+4,re=0;re<=Z;++re){var Te=F+4+re*M;if(re==Z||ee[Te>>H]==0){var Se=R(ie,Te-ie);U===void 0?U=Se:(U+=String.fromCharCode(0),U+=Se),ie=Te+M}}return je(F),U},toWireType:(F,U)=>{typeof U!="string"&&B(`Cannot pass non-string to C++ string type ${O}`);var Z=W(U),ee=Wt(4+Z+M);return g[ee>>2]=Z>>H,L(U,ee+4,Z+M),F!==null&&F.push(je,ee),ee},argPackAdvance:8,readValueFromPointer:Me,destructorFunction:F=>je(F)})},_embind_register_void:(I,M)=>{le(I,{isVoid:!0,name:M=V(M),argPackAdvance:0,fromWireType:()=>{},toWireType:(O,R)=>{}})},emscripten_get_now:Ee,emscripten_memcpy_big:(I,M,O)=>_.copyWithin(I,M,M+O),emscripten_resize_heap:I=>{var M=_.length,O=2147483648;if((I>>>=0)>O)return!1;for(var R,L=1;L<=4;L*=2){var $=M*(1+.2/L);$=Math.min($,I+100663296);var W=Math.min(O,(R=Math.max(I,$))+(65536-R%65536)%65536);if(Qn(W))return!0}return!1},fd_write:(I,M,O,R)=>{for(var L=0,$=0;$<O;$++){var W=g[M>>2],H=g[M+4>>2];M+=8;for(var F=0;F<H;F++)U=I,Z=_[W+F],ee=void 0,ee=Zn[U],Z===0||Z===10?((U===1?v:k)(ot(ee,0)),ee.length=0):ee.push(Z);L+=H}var U,Z,ee;return g[R>>2]=L,0}},we=function(){var I,M,O,R,L={env:Ut,wasi_snapshot_preview1:Ut};function $(W,H){var F,U=W.exports;return S=(we=U).memory,p(),we.__indirect_function_table,F=we.__wasm_call_ctors,A.unshift(F),function(Z){if(x--,c.monitorRunDependencies&&c.monitorRunDependencies(x),x==0&&N){var ee=N;N=null,ee()}}(),U}if(x++,c.monitorRunDependencies&&c.monitorRunDependencies(x),c.instantiateWasm)try{return c.instantiateWasm(L,$)}catch(W){k(`Module.instantiateWasm callback failed with error: ${W}`),u(W)}return(I=d,M=G,O=L,R=function(W){$(W.instance)},I||typeof WebAssembly.instantiateStreaming!="function"||K(M)||typeof fetch!="function"?J(M,O,R):fetch(M,{credentials:"same-origin"}).then(W=>WebAssembly.instantiateStreaming(W,O).then(R,function(H){return k(`wasm streaming compile failed: ${H}`),k("falling back to ArrayBuffer instantiation"),J(M,O,R)}))).catch(u),{}}(),Wt=I=>(Wt=we.malloc)(I),je=I=>(je=we.free)(I);function _n(){function I(){ut||(ut=!0,c.calledRun=!0,m||(se(A),a(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),function(){if(c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;)M=c.postRun.shift(),P.unshift(M);var M;se(P)}()))}x>0||(function(){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)M=c.preRun.shift(),b.unshift(M);var M;se(b)}(),x>0||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),I()},1)):I()))}if(c._omalloc=I=>(c._omalloc=we.omalloc)(I),c._ofree=I=>(c._ofree=we.ofree)(I),c._getLastOnigError=()=>(c._getLastOnigError=we.getLastOnigError)(),c._createOnigScanner=(I,M,O,R,L)=>(c._createOnigScanner=we.createOnigScanner)(I,M,O,R,L),c._freeOnigScanner=I=>(c._freeOnigScanner=we.freeOnigScanner)(I),c._findNextOnigScannerMatch=(I,M,O,R,L,$)=>(c._findNextOnigScannerMatch=we.findNextOnigScannerMatch)(I,M,O,R,L,$),c._findNextOnigScannerMatchDbg=(I,M,O,R,L,$)=>(c._findNextOnigScannerMatchDbg=we.findNextOnigScannerMatchDbg)(I,M,O,R,L,$),c.__embind_initialize_bindings=()=>(c.__embind_initialize_bindings=we._embind_initialize_bindings)(),c.dynCall_jiji=(I,M,O,R,L)=>(c.dynCall_jiji=we.dynCall_jiji)(I,M,O,R,L),c.UTF8ToString=_t,N=function I(){ut||_n(),ut||(N=I)},c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();return _n(),s.ready});i.exports=o}},r={},function i(o){var s=r[o];if(s!==void 0)return s.exports;var a=r[o]={exports:{}};return n[o].call(a.exports,a,a.exports,i),a.exports}(770);var n,r})})(es);var ri=es.exports;const Ku=Vu(ri),Ju=zu({__proto__:null,default:Ku},[ri]);var ts={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Zo,()=>(()=>{var n={350:(i,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UseOnigurumaFindOptions=o.DebugFlags=void 0,o.DebugFlags={InDebugMode:typeof process<"u"&&!!{}.VSCODE_TEXTMATE_DEBUG},o.UseOnigurumaFindOptions=!1},442:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.applyStateStackDiff=o.diffStateStacksRefEq=void 0;const a=s(391);o.diffStateStacksRefEq=function(u,c){let h=0;const f=[];let d=u,S=c;for(;d!==S;)d&&(!S||d.depth>=S.depth)?(h++,d=d.parent):(f.push(S.toStateStackFrame()),S=S.parent);return{pops:h,newFrames:f.reverse()}},o.applyStateStackDiff=function(u,c){let h=u;for(let f=0;f<c.pops;f++)h=h.parent;for(const f of c.newFrames)h=a.StateStackImpl.pushFrame(h,f);return h}},36:(i,o)=>{var s;Object.defineProperty(o,"__esModule",{value:!0}),o.toOptionalTokenType=o.EncodedTokenAttributes=void 0,(s=o.EncodedTokenAttributes||(o.EncodedTokenAttributes={})).toBinaryStr=function(a){return a.toString(2).padStart(32,"0")},s.print=function(a){const u=s.getLanguageId(a),c=s.getTokenType(a),h=s.getFontStyle(a),f=s.getForeground(a),d=s.getBackground(a);console.log({languageId:u,tokenType:c,fontStyle:h,foreground:f,background:d})},s.getLanguageId=function(a){return(255&a)>>>0},s.getTokenType=function(a){return(768&a)>>>8},s.containsBalancedBrackets=function(a){return(1024&a)!=0},s.getFontStyle=function(a){return(30720&a)>>>11},s.getForeground=function(a){return(16744448&a)>>>15},s.getBackground=function(a){return(4278190080&a)>>>24},s.set=function(a,u,c,h,f,d,S){let v=s.getLanguageId(a),k=s.getTokenType(a),T=s.containsBalancedBrackets(a)?1:0,_=s.getFontStyle(a),E=s.getForeground(a),C=s.getBackground(a);return u!==0&&(v=u),c!==8&&(k=c),h!==null&&(T=h?1:0),f!==-1&&(_=f),d!==0&&(E=d),S!==0&&(C=S),(v<<0|k<<8|T<<10|_<<11|E<<15|C<<24)>>>0},o.toOptionalTokenType=function(a){return a}},996:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BasicScopeAttributesProvider=o.BasicScopeAttributes=void 0;const a=s(878);class u{constructor(d,S){this.languageId=d,this.tokenType=S}}o.BasicScopeAttributes=u;class c{constructor(d,S){this._getBasicScopeAttributes=new a.CachedFn(v=>{const k=this._scopeToLanguage(v),T=this._toStandardTokenType(v);return new u(k,T)}),this._defaultAttributes=new u(d,8),this._embeddedLanguagesMatcher=new h(Object.entries(S||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(d){return d===null?c._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(d)}_scopeToLanguage(d){return this._embeddedLanguagesMatcher.match(d)||0}_toStandardTokenType(d){const S=d.match(c.STANDARD_TOKEN_TYPE_REGEXP);if(!S)return 8;switch(S[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}}o.BasicScopeAttributesProvider=c,c._NULL_SCOPE_METADATA=new u(0,0),c.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/;class h{constructor(d){if(d.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(d);const S=d.map(([v,k])=>a.escapeRegExpCharacters(v));S.sort(),S.reverse(),this.scopesRegExp=new RegExp(`^((${S.join(")|(")}))($|\\.)`,"")}}match(d){if(!this.scopesRegExp)return;const S=d.match(this.scopesRegExp);return S?this.values.get(S[1]):void 0}}},947:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LineTokens=o.BalancedBracketSelectors=o.StateStackImpl=o.AttributedScopeStack=o.Grammar=o.createGrammar=void 0;const a=s(350),u=s(36),c=s(736),h=s(44),f=s(792),d=s(583),S=s(878),v=s(996),k=s(47);function T(m,p,b,A,P){const x=c.createMatchers(p,_),N=f.RuleFactory.getCompiledRuleId(b,A,P.repository);for(const D of x)m.push({debugSelector:p,matcher:D.matcher,ruleId:N,grammar:P,priority:D.priority})}function _(m,p){if(p.length<m.length)return!1;let b=0;return m.every(A=>{for(let P=b;P<p.length;P++)if(E(p[P],A))return b=P+1,!0;return!1})}function E(m,p){if(!m)return!1;if(m===p)return!0;const b=p.length;return m.length>b&&m.substr(0,b)===p&&m[b]==="."}o.createGrammar=function(m,p,b,A,P,x,N,D){return new C(m,p,b,A,P,x,N,D)};class C{constructor(p,b,A,P,x,N,D,G){if(this._rootScopeName=p,this.balancedBracketSelectors=N,this._onigLib=G,this._basicScopeAttributesProvider=new v.BasicScopeAttributesProvider(A,P),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=D,this._grammar=w(b,null),this._injections=null,this._tokenTypeMatchers=[],x)for(const X of Object.keys(x)){const K=c.createMatchers(X,_);for(const q of K)this._tokenTypeMatchers.push({matcher:q.matcher,type:x[X]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const p of this._ruleId2desc)p&&p.dispose()}createOnigScanner(p){return this._onigLib.createOnigScanner(p)}createOnigString(p){return this._onigLib.createOnigString(p)}getMetadataForScope(p){return this._basicScopeAttributesProvider.getBasicScopeAttributes(p)}_collectInjections(){const p=[],b=this._rootScopeName,A=(P=>P===this._rootScopeName?this._grammar:this.getExternalGrammar(P))(b);if(A){const P=A.injections;if(P)for(let N in P)T(p,N,P[N],this,A);const x=this._grammarRepository.injections(b);x&&x.forEach(N=>{const D=this.getExternalGrammar(N);if(D){const G=D.injectionSelector;G&&T(p,G,D,this,D)}})}return p.sort((P,x)=>P.priority-x.priority),p}getInjections(){if(this._injections===null&&(this._injections=this._collectInjections(),a.DebugFlags.InDebugMode&&this._injections.length>0)){console.log(`Grammar ${this._rootScopeName} contains the following injections:`);for(const p of this._injections)console.log(`  - ${p.debugSelector}`)}return this._injections}registerRule(p){const b=++this._lastRuleId,A=p(f.ruleIdFromNumber(b));return this._ruleId2desc[b]=A,A}getRule(p){return this._ruleId2desc[f.ruleIdToNumber(p)]}getExternalGrammar(p,b){if(this._includedGrammars[p])return this._includedGrammars[p];if(this._grammarRepository){const A=this._grammarRepository.lookup(p);if(A)return this._includedGrammars[p]=w(A,b&&b.$base),this._includedGrammars[p]}}tokenizeLine(p,b,A=0){const P=this._tokenize(p,b,!1,A);return{tokens:P.lineTokens.getResult(P.ruleStack,P.lineLength),ruleStack:P.ruleStack,stoppedEarly:P.stoppedEarly}}tokenizeLine2(p,b,A=0){const P=this._tokenize(p,b,!0,A);return{tokens:P.lineTokens.getBinaryResult(P.ruleStack,P.lineLength),ruleStack:P.ruleStack,stoppedEarly:P.stoppedEarly}}_tokenize(p,b,A,P){let x;if(this._rootId===-1&&(this._rootId=f.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections()),b&&b!==l.NULL)x=!1,b.reset();else{x=!0;const K=this._basicScopeAttributesProvider.getDefaultAttributes(),q=this.themeProvider.getDefaults(),J=u.EncodedTokenAttributes.set(0,K.languageId,K.tokenType,null,q.fontStyle,q.foregroundId,q.backgroundId),se=this.getRule(this._rootId).getName(null,null);let te;te=se?g.createRootAndLookUpScopeName(se,J,this):g.createRoot("unknown",J),b=new l(null,this._rootId,-1,-1,!1,null,te,te)}p+=`
`;const N=this.createOnigString(p),D=N.content.length,G=new y(A,p,this._tokenTypeMatchers,this.balancedBracketSelectors),X=k._tokenizeString(this,N,x,0,b,G,!0,P);return h.disposeOnigString(N),{lineLength:D,lineTokens:G,ruleStack:X.stack,stoppedEarly:X.stoppedEarly}}}function w(m,p){return(m=S.clone(m)).repository=m.repository||{},m.repository.$self={$vscodeTextmateLocation:m.$vscodeTextmateLocation,patterns:m.patterns,name:m.scopeName},m.repository.$base=p||m.repository.$self,m}o.Grammar=C;class g{constructor(p,b,A){this.parent=p,this.scopePath=b,this.tokenAttributes=A}static fromExtension(p,b){let A=p,P=p?.scopePath??null;for(const x of b)P=d.ScopeStack.push(P,x.scopeNames),A=new g(A,P,x.encodedTokenAttributes);return A}static createRoot(p,b){return new g(null,new d.ScopeStack(null,p),b)}static createRootAndLookUpScopeName(p,b,A){const P=A.getMetadataForScope(p),x=new d.ScopeStack(null,p),N=A.themeProvider.themeMatch(x),D=g.mergeAttributes(b,P,N);return new g(null,x,D)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(p){return g.equals(this,p)}static equals(p,b){for(;;){if(p===b||!p&&!b)return!0;if(!p||!b||p.scopeName!==b.scopeName||p.tokenAttributes!==b.tokenAttributes)return!1;p=p.parent,b=b.parent}}static mergeAttributes(p,b,A){let P=-1,x=0,N=0;return A!==null&&(P=A.fontStyle,x=A.foregroundId,N=A.backgroundId),u.EncodedTokenAttributes.set(p,b.languageId,b.tokenType,null,P,x,N)}pushAttributed(p,b){if(p===null)return this;if(p.indexOf(" ")===-1)return g._pushAttributed(this,p,b);const A=p.split(/ /g);let P=this;for(const x of A)P=g._pushAttributed(P,x,b);return P}static _pushAttributed(p,b,A){const P=A.getMetadataForScope(b),x=p.scopePath.push(b),N=A.themeProvider.themeMatch(x),D=g.mergeAttributes(p.tokenAttributes,P,N);return new g(p,x,D)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(p){var b;const A=[];let P=this;for(;P&&P!==p;)A.push({encodedTokenAttributes:P.tokenAttributes,scopeNames:P.scopePath.getExtensionIfDefined(((b=P.parent)==null?void 0:b.scopePath)??null)}),P=P.parent;return P===p?A.reverse():void 0}}o.AttributedScopeStack=g;class l{constructor(p,b,A,P,x,N,D,G){this.parent=p,this.ruleId=b,this.beginRuleCapturedEOL=x,this.endRule=N,this.nameScopesList=D,this.contentNameScopesList=G,this._stackElementBrand=void 0,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=A,this._anchorPos=P}equals(p){return p!==null&&l._equals(this,p)}static _equals(p,b){return p===b||!!this._structuralEquals(p,b)&&g.equals(p.contentNameScopesList,b.contentNameScopesList)}static _structuralEquals(p,b){for(;;){if(p===b||!p&&!b)return!0;if(!p||!b||p.depth!==b.depth||p.ruleId!==b.ruleId||p.endRule!==b.endRule)return!1;p=p.parent,b=b.parent}}clone(){return this}static _reset(p){for(;p;)p._enterPos=-1,p._anchorPos=-1,p=p.parent}reset(){l._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(p,b,A,P,x,N,D){return new l(this,p,b,A,P,x,N,D)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(p){return p.getRule(this.ruleId)}toString(){const p=[];return this._writeString(p,0),"["+p.join(",")+"]"}_writeString(p,b){var A,P;return this.parent&&(b=this.parent._writeString(p,b)),p[b++]=`(${this.ruleId}, ${(A=this.nameScopesList)==null?void 0:A.toString()}, ${(P=this.contentNameScopesList)==null?void 0:P.toString()})`,b}withContentNameScopesList(p){return this.contentNameScopesList===p?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,p)}withEndRule(p){return this.endRule===p?this:new l(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,p,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(p){let b=this;for(;b&&b._enterPos===p._enterPos;){if(b.ruleId===p.ruleId)return!0;b=b.parent}return!1}toStateStackFrame(){var p,b,A;return{ruleId:f.ruleIdToNumber(this.ruleId),beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:((b=this.nameScopesList)==null?void 0:b.getExtensionIfDefined(((p=this.parent)==null?void 0:p.nameScopesList)??null))??[],contentNameScopesList:((A=this.contentNameScopesList)==null?void 0:A.getExtensionIfDefined(this.nameScopesList))??[]}}static pushFrame(p,b){const A=g.fromExtension(p?.nameScopesList??null,b.nameScopesList);return new l(p,f.ruleIdFromNumber(b.ruleId),b.enterPos??-1,b.anchorPos??-1,b.beginRuleCapturedEOL,b.endRule,A,g.fromExtension(A,b.contentNameScopesList))}}o.StateStackImpl=l,l.NULL=new l(null,0,0,0,!1,null,null,null),o.BalancedBracketSelectors=class{constructor(m,p){this.allowAny=!1,this.balancedBracketScopes=m.flatMap(b=>b==="*"?(this.allowAny=!0,[]):c.createMatchers(b,_).map(A=>A.matcher)),this.unbalancedBracketScopes=p.flatMap(b=>c.createMatchers(b,_).map(A=>A.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(m){for(const p of this.unbalancedBracketScopes)if(p(m))return!1;for(const p of this.balancedBracketScopes)if(p(m))return!0;return this.allowAny}};class y{constructor(p,b,A,P){this.balancedBracketSelectors=P,this._emitBinaryTokens=p,this._tokenTypeOverrides=A,a.DebugFlags.InDebugMode?this._lineText=b:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(p,b){this.produceFromScopes(p.contentNameScopesList,b)}produceFromScopes(p,b){var A;if(this._lastTokenEndIndex>=b)return;if(this._emitBinaryTokens){let x=p?.tokenAttributes??0,N=!1;if((A=this.balancedBracketSelectors)!=null&&A.matchesAlways&&(N=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const D=p?.getScopeNames()??[];for(const G of this._tokenTypeOverrides)G.matcher(D)&&(x=u.EncodedTokenAttributes.set(x,0,u.toOptionalTokenType(G.type),null,-1,0,0));this.balancedBracketSelectors&&(N=this.balancedBracketSelectors.match(D))}if(N&&(x=u.EncodedTokenAttributes.set(x,0,8,N,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===x)return void(this._lastTokenEndIndex=b);if(a.DebugFlags.InDebugMode){const D=p?.getScopeNames()??[];console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,b).replace(/\n$/,"\\n")+"|");for(let G=0;G<D.length;G++)console.log("      * "+D[G])}return this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(x),void(this._lastTokenEndIndex=b)}const P=p?.getScopeNames()??[];if(a.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,b).replace(/\n$/,"\\n")+"|");for(let x=0;x<P.length;x++)console.log("      * "+P[x])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:b,scopes:P}),this._lastTokenEndIndex=b}getResult(p,b){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===b-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(p,b),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(p,b){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===b-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(p,b),this._binaryTokens[this._binaryTokens.length-2]=0);const A=new Uint32Array(this._binaryTokens.length);for(let P=0,x=this._binaryTokens.length;P<x;P++)A[P]=this._binaryTokens[P];return A}}o.LineTokens=y},965:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseInclude=o.TopLevelRepositoryReference=o.TopLevelReference=o.RelativeReference=o.SelfReference=o.BaseReference=o.ScopeDependencyProcessor=o.ExternalReferenceCollector=o.TopLevelRepositoryRuleReference=o.TopLevelRuleReference=void 0;const a=s(878);class u{constructor(l){this.scopeName=l}toKey(){return this.scopeName}}o.TopLevelRuleReference=u;class c{constructor(l,y){this.scopeName=l,this.ruleName=y}toKey(){return`${this.scopeName}#${this.ruleName}`}}o.TopLevelRepositoryRuleReference=c;class h{constructor(){this._references=[],this._seenReferenceKeys=new Set,this.visitedRule=new Set}get references(){return this._references}add(l){const y=l.toKey();this._seenReferenceKeys.has(y)||(this._seenReferenceKeys.add(y),this._references.push(l))}}function f(g,l,y,m){const p=y.lookup(g.scopeName);if(!p){if(g.scopeName===l)throw new Error(`No grammar provided for <${l}>`);return}const b=y.lookup(l);g instanceof u?S({baseGrammar:b,selfGrammar:p},m):d(g.ruleName,{baseGrammar:b,selfGrammar:p,repository:p.repository},m);const A=y.injections(g.scopeName);if(A)for(const P of A)m.add(new u(P))}function d(g,l,y){l.repository&&l.repository[g]&&v([l.repository[g]],l,y)}function S(g,l){g.selfGrammar.patterns&&Array.isArray(g.selfGrammar.patterns)&&v(g.selfGrammar.patterns,{...g,repository:g.selfGrammar.repository},l),g.selfGrammar.injections&&v(Object.values(g.selfGrammar.injections),{...g,repository:g.selfGrammar.repository},l)}function v(g,l,y){for(const m of g){if(y.visitedRule.has(m))continue;y.visitedRule.add(m);const p=m.repository?a.mergeObjects({},l.repository,m.repository):l.repository;Array.isArray(m.patterns)&&v(m.patterns,{...l,repository:p},y);const b=m.include;if(!b)continue;const A=w(b);switch(A.kind){case 0:S({...l,selfGrammar:l.baseGrammar},y);break;case 1:S(l,y);break;case 2:d(A.ruleName,{...l,repository:p},y);break;case 3:case 4:const P=A.scopeName===l.selfGrammar.scopeName?l.selfGrammar:A.scopeName===l.baseGrammar.scopeName?l.baseGrammar:void 0;if(P){const x={baseGrammar:l.baseGrammar,selfGrammar:P,repository:p};A.kind===4?d(A.ruleName,x,y):S(x,y)}else A.kind===4?y.add(new c(A.scopeName,A.ruleName)):y.add(new u(A.scopeName))}}}o.ExternalReferenceCollector=h,o.ScopeDependencyProcessor=class{constructor(g,l){this.repo=g,this.initialScopeName=l,this.seenFullScopeRequests=new Set,this.seenPartialScopeRequests=new Set,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new u(this.initialScopeName)]}processQueue(){const g=this.Q;this.Q=[];const l=new h;for(const y of g)f(y,this.initialScopeName,this.repo,l);for(const y of l.references)if(y instanceof u){if(this.seenFullScopeRequests.has(y.scopeName))continue;this.seenFullScopeRequests.add(y.scopeName),this.Q.push(y)}else{if(this.seenFullScopeRequests.has(y.scopeName)||this.seenPartialScopeRequests.has(y.toKey()))continue;this.seenPartialScopeRequests.add(y.toKey()),this.Q.push(y)}}};class k{constructor(){this.kind=0}}o.BaseReference=k;class T{constructor(){this.kind=1}}o.SelfReference=T;class _{constructor(l){this.ruleName=l,this.kind=2}}o.RelativeReference=_;class E{constructor(l){this.scopeName=l,this.kind=3}}o.TopLevelReference=E;class C{constructor(l,y){this.scopeName=l,this.ruleName=y,this.kind=4}}function w(g){if(g==="$base")return new k;if(g==="$self")return new T;const l=g.indexOf("#");if(l===-1)return new E(g);if(l===0)return new _(g.substring(1));{const y=g.substring(0,l),m=g.substring(l+1);return new C(y,m)}}o.TopLevelRepositoryReference=C,o.parseInclude=w},391:function(i,o,s){var a=this&&this.__createBinding||(Object.create?function(c,h,f,d){d===void 0&&(d=f),Object.defineProperty(c,d,{enumerable:!0,get:function(){return h[f]}})}:function(c,h,f,d){d===void 0&&(d=f),c[d]=h[f]}),u=this&&this.__exportStar||function(c,h){for(var f in c)f==="default"||Object.prototype.hasOwnProperty.call(h,f)||a(h,c,f)};Object.defineProperty(o,"__esModule",{value:!0}),u(s(947),o)},47:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LocalStackElement=o._tokenizeString=void 0;const a=s(350),u=s(44),c=s(792),h=s(878);class f{constructor(C,w){this.stack=C,this.stoppedEarly=w}}function d(E,C,w,g,l,y,m,p){const b=C.content.length;let A=!1,P=-1;if(m){const D=function(G,X,K,q,J,se){let te=J.beginRuleCapturedEOL?0:-1;const V=[];for(let j=J;j;j=j.pop()){const z=j.getRule(G);z instanceof c.BeginWhileRule&&V.push({rule:z,stack:j})}for(let j=V.pop();j;j=V.pop()){const{ruleScanner:z,findOptions:ue}=v(j.rule,G,j.stack.endRule,K,q===te),B=z.findNextMatchSync(X,q,ue);if(a.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(z.toString())),!B){a.DebugFlags.InDebugMode&&console.log("  popping "+j.rule.debugName+" - "+j.rule.debugWhileRegExp),J=j.stack.pop();break}if(B.ruleId!==c.whileRuleId){J=j.stack.pop();break}B.captureIndices&&B.captureIndices.length&&(se.produce(j.stack,B.captureIndices[0].start),T(G,X,K,j.stack,se,j.rule.whileCaptures,B.captureIndices),se.produce(j.stack,B.captureIndices[0].end),te=B.captureIndices[0].end,B.captureIndices[0].end>q&&(q=B.captureIndices[0].end,K=!1))}return{stack:J,linePos:q,anchorPosition:te,isFirstLine:K}}(E,C,w,g,l,y);l=D.stack,g=D.linePos,w=D.isFirstLine,P=D.anchorPosition}const x=Date.now();for(;!A;){if(p!==0&&Date.now()-x>p)return new f(l,!0);N()}return new f(l,!1);function N(){a.DebugFlags.InDebugMode&&(console.log(""),console.log(`@@scanNext ${g}: |${C.content.substr(g).replace(/\n$/,"\\n")}|`));const D=function(q,J,se,te,V,j){const z=function(le,ve,fe,Je,ze,Oe){const Me=ze.getRule(le),{ruleScanner:qe,findOptions:be}=S(Me,le,ze.endRule,fe,Je===Oe);let Le=0;a.DebugFlags.InDebugMode&&(Le=h.performanceNow());const Ee=qe.findNextMatchSync(ve,Je,be);if(a.DebugFlags.InDebugMode){const Ye=h.performanceNow()-Le;Ye>5&&console.warn(`Rule ${Me.debugName} (${Me.id}) matching took ${Ye} against '${ve}'`),console.log(`  scanning for (linePos: ${Je}, anchorPosition: ${Oe})`),console.log(qe.toString()),Ee&&console.log(`matched rule id: ${Ee.ruleId} from ${Ee.captureIndices[0].start} to ${Ee.captureIndices[0].end}`)}return Ee?{captureIndices:Ee.captureIndices,matchedRuleId:Ee.ruleId}:null}(q,J,se,te,V,j),ue=q.getInjections();if(ue.length===0)return z;const B=function(le,ve,fe,Je,ze,Oe,Me){let qe,be=Number.MAX_VALUE,Le=null,Ee=0;const Ye=Oe.contentNameScopesList.getScopeNames();for(let ot=0,_t=le.length;ot<_t;ot++){const Qe=le[ot];if(!Qe.matcher(Ye))continue;const $t=ve.getRule(Qe.ruleId),{ruleScanner:vt,findOptions:Ft}=S($t,ve,null,Je,ze===Me),ke=vt.findNextMatchSync(fe,ze,Ft);if(!ke)continue;a.DebugFlags.InDebugMode&&(console.log(`  matched injection: ${Qe.debugSelector}`),console.log(vt.toString()));const bt=ke.captureIndices[0].start;if(!(bt>=be)&&(be=bt,Le=ke.captureIndices,qe=ke.ruleId,Ee=Qe.priority,be===ze))break}return Le?{priorityMatch:Ee===-1,captureIndices:Le,matchedRuleId:qe}:null}(ue,q,J,se,te,V,j);if(!B)return z;if(!z)return B;const Y=z.captureIndices[0].start,Q=B.captureIndices[0].start;return Q<Y||B.priorityMatch&&Q===Y?B:z}(E,C,w,g,l,P);if(!D)return a.DebugFlags.InDebugMode&&console.log("  no more matches."),y.produce(l,b),void(A=!0);const G=D.captureIndices,X=D.matchedRuleId,K=!!(G&&G.length>0)&&G[0].end>g;if(X===c.endRuleId){const q=l.getRule(E);a.DebugFlags.InDebugMode&&console.log("  popping "+q.debugName+" - "+q.debugEndRegExp),y.produce(l,G[0].start),l=l.withContentNameScopesList(l.nameScopesList),T(E,C,w,l,y,q.endCaptures,G),y.produce(l,G[0].end);const J=l;if(l=l.parent,P=J.getAnchorPos(),!K&&J.getEnterPos()===g)return a.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),l=J,y.produce(l,b),void(A=!0)}else{const q=E.getRule(X);y.produce(l,G[0].start);const J=l,se=q.getName(C.content,G),te=l.contentNameScopesList.pushAttributed(se,E);if(l=l.push(X,g,P,G[0].end===b,null,te,te),q instanceof c.BeginEndRule){const V=q;a.DebugFlags.InDebugMode&&console.log("  pushing "+V.debugName+" - "+V.debugBeginRegExp),T(E,C,w,l,y,V.beginCaptures,G),y.produce(l,G[0].end),P=G[0].end;const j=V.getContentName(C.content,G),z=te.pushAttributed(j,E);if(l=l.withContentNameScopesList(z),V.endHasBackReferences&&(l=l.withEndRule(V.getEndWithResolvedBackReferences(C.content,G))),!K&&J.hasSameRuleAs(l))return a.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),l=l.pop(),y.produce(l,b),void(A=!0)}else if(q instanceof c.BeginWhileRule){const V=q;a.DebugFlags.InDebugMode&&console.log("  pushing "+V.debugName),T(E,C,w,l,y,V.beginCaptures,G),y.produce(l,G[0].end),P=G[0].end;const j=V.getContentName(C.content,G),z=te.pushAttributed(j,E);if(l=l.withContentNameScopesList(z),V.whileHasBackReferences&&(l=l.withEndRule(V.getWhileWithResolvedBackReferences(C.content,G))),!K&&J.hasSameRuleAs(l))return a.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),l=l.pop(),y.produce(l,b),void(A=!0)}else{const V=q;if(a.DebugFlags.InDebugMode&&console.log("  matched "+V.debugName+" - "+V.debugMatchRegExp),T(E,C,w,l,y,V.captures,G),y.produce(l,G[0].end),l=l.pop(),!K)return a.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),l=l.safePop(),y.produce(l,b),void(A=!0)}}G[0].end>g&&(g=G[0].end,w=!1)}}function S(E,C,w,g,l){return a.UseOnigurumaFindOptions?{ruleScanner:E.compile(C,w),findOptions:k(g,l)}:{ruleScanner:E.compileAG(C,w,g,l),findOptions:0}}function v(E,C,w,g,l){return a.UseOnigurumaFindOptions?{ruleScanner:E.compileWhile(C,w),findOptions:k(g,l)}:{ruleScanner:E.compileWhileAG(C,w,g,l),findOptions:0}}function k(E,C){let w=0;return E||(w|=1),C||(w|=4),w}function T(E,C,w,g,l,y,m){if(y.length===0)return;const p=C.content,b=Math.min(y.length,m.length),A=[],P=m[0].end;for(let x=0;x<b;x++){const N=y[x];if(N===null)continue;const D=m[x];if(D.length===0)continue;if(D.start>P)break;for(;A.length>0&&A[A.length-1].endPos<=D.start;)l.produceFromScopes(A[A.length-1].scopes,A[A.length-1].endPos),A.pop();if(A.length>0?l.produceFromScopes(A[A.length-1].scopes,D.start):l.produce(g,D.start),N.retokenizeCapturedWithRuleId){const X=N.getName(p,m),K=g.contentNameScopesList.pushAttributed(X,E),q=N.getContentName(p,m),J=K.pushAttributed(q,E),se=g.push(N.retokenizeCapturedWithRuleId,D.start,-1,!1,null,K,J),te=E.createOnigString(p.substring(0,D.end));d(E,te,w&&D.start===0,D.start,se,l,!1,0),u.disposeOnigString(te);continue}const G=N.getName(p,m);if(G!==null){const X=(A.length>0?A[A.length-1].scopes:g.contentNameScopesList).pushAttributed(G,E);A.push(new _(X,D.end))}}for(;A.length>0;)l.produceFromScopes(A[A.length-1].scopes,A[A.length-1].endPos),A.pop()}o._tokenizeString=d;class _{constructor(C,w){this.scopes=C,this.endPos=w}}o.LocalStackElement=_},974:(i,o)=>{function s(h,f){throw new Error("Near offset "+h.pos+": "+f+" ~~~"+h.source.substr(h.pos,50)+"~~~")}Object.defineProperty(o,"__esModule",{value:!0}),o.parseJSON=void 0,o.parseJSON=function(h,f,d){let S=new a(h),v=new u,k=0,T=null,_=[],E=[];function C(){_.push(k),E.push(T)}function w(){k=_.pop(),T=E.pop()}function g(l){s(S,l)}for(;c(S,v);){if(k===0){if(T!==null&&g("too many constructs in root"),v.type===3){T={},d&&(T.$vscodeTextmateLocation=v.toLocation(f)),C(),k=1;continue}if(v.type===2){T=[],C(),k=4;continue}g("unexpected token in root")}if(k===2){if(v.type===5){w();continue}if(v.type===7){k=3;continue}g("expected , or }")}if(k===1||k===3){if(k===1&&v.type===5){w();continue}if(v.type===1){let l=v.value;if(c(S,v)&&v.type===6||g("expected colon"),c(S,v)||g("expected value"),k=2,v.type===1){T[l]=v.value;continue}if(v.type===8){T[l]=null;continue}if(v.type===9){T[l]=!0;continue}if(v.type===10){T[l]=!1;continue}if(v.type===11){T[l]=parseFloat(v.value);continue}if(v.type===2){let y=[];T[l]=y,C(),k=4,T=y;continue}if(v.type===3){let y={};d&&(y.$vscodeTextmateLocation=v.toLocation(f)),T[l]=y,C(),k=1,T=y;continue}}g("unexpected token in dict")}if(k===5){if(v.type===4){w();continue}if(v.type===7){k=6;continue}g("expected , or ]")}if(k===4||k===6){if(k===4&&v.type===4){w();continue}if(k=5,v.type===1){T.push(v.value);continue}if(v.type===8){T.push(null);continue}if(v.type===9){T.push(!0);continue}if(v.type===10){T.push(!1);continue}if(v.type===11){T.push(parseFloat(v.value));continue}if(v.type===2){let l=[];T.push(l),C(),k=4,T=l;continue}if(v.type===3){let l={};d&&(l.$vscodeTextmateLocation=v.toLocation(f)),T.push(l),C(),k=1,T=l;continue}g("unexpected token in array")}g("unknown state")}return E.length!==0&&g("unclosed constructs"),T};class a{constructor(f){this.source=f,this.pos=0,this.len=f.length,this.line=1,this.char=0}}class u{constructor(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}toLocation(f){return{filename:f,line:this.line,char:this.char}}}function c(h,f){f.value=null,f.type=0,f.offset=-1,f.len=-1,f.line=-1,f.char=-1;let d,S=h.source,v=h.pos,k=h.len,T=h.line,_=h.char;for(;;){if(v>=k)return!1;if(d=S.charCodeAt(v),d!==32&&d!==9&&d!==13){if(d!==10)break;v++,T++,_=0}else v++,_++}if(f.offset=v,f.line=T,f.char=_,d===34){for(f.type=1,v++,_++;;){if(v>=k)return!1;if(d=S.charCodeAt(v),v++,_++,d!==92){if(d===34)break}else v++,_++}f.value=S.substring(f.offset+1,v-1).replace(/\\u([0-9A-Fa-f]{4})/g,(E,C)=>String.fromCodePoint(parseInt(C,16))).replace(/\\(.)/g,(E,C)=>{switch(C){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:s(h,"invalid escape sequence")}throw new Error("unreachable")})}else if(d===91)f.type=2,v++,_++;else if(d===123)f.type=3,v++,_++;else if(d===93)f.type=4,v++,_++;else if(d===125)f.type=5,v++,_++;else if(d===58)f.type=6,v++,_++;else if(d===44)f.type=7,v++,_++;else if(d===110){if(f.type=8,v++,_++,d=S.charCodeAt(v),d!==117||(v++,_++,d=S.charCodeAt(v),d!==108)||(v++,_++,d=S.charCodeAt(v),d!==108))return!1;v++,_++}else if(d===116){if(f.type=9,v++,_++,d=S.charCodeAt(v),d!==114||(v++,_++,d=S.charCodeAt(v),d!==117)||(v++,_++,d=S.charCodeAt(v),d!==101))return!1;v++,_++}else if(d===102){if(f.type=10,v++,_++,d=S.charCodeAt(v),d!==97||(v++,_++,d=S.charCodeAt(v),d!==108)||(v++,_++,d=S.charCodeAt(v),d!==115)||(v++,_++,d=S.charCodeAt(v),d!==101))return!1;v++,_++}else for(f.type=11;;){if(v>=k)return!1;if(d=S.charCodeAt(v),!(d===46||d>=48&&d<=57||d===101||d===69||d===45||d===43))break;v++,_++}return f.len=v-f.offset,f.value===null&&(f.value=S.substr(f.offset,f.len)),h.pos=v,h.line=T,h.char=_,!0}},787:function(i,o,s){var a=this&&this.__createBinding||(Object.create?function(k,T,_,E){E===void 0&&(E=_),Object.defineProperty(k,E,{enumerable:!0,get:function(){return T[_]}})}:function(k,T,_,E){E===void 0&&(E=_),k[E]=T[_]}),u=this&&this.__exportStar||function(k,T){for(var _ in k)_==="default"||Object.prototype.hasOwnProperty.call(T,_)||a(T,k,_)};Object.defineProperty(o,"__esModule",{value:!0}),o.applyStateStackDiff=o.diffStateStacksRefEq=o.parseRawGrammar=o.INITIAL=o.Registry=void 0;const c=s(391),h=s(50),f=s(652),d=s(583),S=s(965),v=s(442);Object.defineProperty(o,"applyStateStackDiff",{enumerable:!0,get:function(){return v.applyStateStackDiff}}),Object.defineProperty(o,"diffStateStacksRefEq",{enumerable:!0,get:function(){return v.diffStateStacksRefEq}}),u(s(44),o),o.Registry=class{constructor(k){this._options=k,this._syncRegistry=new f.SyncRegistry(d.Theme.createFromRawTheme(k.theme,k.colorMap),k.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(k,T){this._syncRegistry.setTheme(d.Theme.createFromRawTheme(k,T))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(k,T,_){return this.loadGrammarWithConfiguration(k,T,{embeddedLanguages:_})}loadGrammarWithConfiguration(k,T,_){return this._loadGrammar(k,T,_.embeddedLanguages,_.tokenTypes,new c.BalancedBracketSelectors(_.balancedBracketSelectors||[],_.unbalancedBracketSelectors||[]))}loadGrammar(k){return this._loadGrammar(k,0,null,null,null)}async _loadGrammar(k,T,_,E,C){const w=new S.ScopeDependencyProcessor(this._syncRegistry,k);for(;w.Q.length>0;)await Promise.all(w.Q.map(g=>this._loadSingleGrammar(g.scopeName))),w.processQueue();return this._grammarForScopeName(k,T,_,E,C)}async _loadSingleGrammar(k){return this._ensureGrammarCache.has(k)||this._ensureGrammarCache.set(k,this._doLoadSingleGrammar(k)),this._ensureGrammarCache.get(k)}async _doLoadSingleGrammar(k){const T=await this._options.loadGrammar(k);if(T){const _=typeof this._options.getInjections=="function"?this._options.getInjections(k):void 0;this._syncRegistry.addGrammar(T,_)}}async addGrammar(k,T=[],_=0,E=null){return this._syncRegistry.addGrammar(k,T),await this._grammarForScopeName(k.scopeName,_,E)}_grammarForScopeName(k,T=0,_=null,E=null,C=null){return this._syncRegistry.grammarForScopeName(k,T,_,E,C)}},o.INITIAL=c.StateStackImpl.NULL,o.parseRawGrammar=h.parseRawGrammar},736:(i,o)=>{function s(a){return!!a&&!!a.match(/[\w\.:]+/)}Object.defineProperty(o,"__esModule",{value:!0}),o.createMatchers=void 0,o.createMatchers=function(a,u){const c=[],h=function(v){let k=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,T=k.exec(v);return{next:()=>{if(!T)return null;const _=T[0];return T=k.exec(v),_}}}(a);let f=h.next();for(;f!==null;){let v=0;if(f.length===2&&f.charAt(1)===":"){switch(f.charAt(0)){case"R":v=1;break;case"L":v=-1;break;default:console.log(`Unknown priority ${f} in scope selector`)}f=h.next()}let k=S();if(c.push({matcher:k,priority:v}),f!==",")break;f=h.next()}return c;function d(){if(f==="-"){f=h.next();const v=d();return k=>!!v&&!v(k)}if(f==="("){f=h.next();const v=function(){const k=[];let T=S();for(;T&&(k.push(T),f==="|"||f===",");){do f=h.next();while(f==="|"||f===",");T=S()}return _=>k.some(E=>E(_))}();return f===")"&&(f=h.next()),v}if(s(f)){const v=[];do v.push(f),f=h.next();while(s(f));return k=>u(v,k)}return null}function S(){const v=[];let k=d();for(;k;)v.push(k),k=d();return T=>v.every(_=>_(T))}}},44:(i,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.disposeOnigString=void 0,o.disposeOnigString=function(s){typeof s.dispose=="function"&&s.dispose()}},50:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseRawGrammar=void 0;const a=s(69),u=s(350),c=s(974);o.parseRawGrammar=function(h,f=null){return f!==null&&/\.json$/.test(f)?(d=h,S=f,u.DebugFlags.InDebugMode?c.parseJSON(d,S,!0):JSON.parse(d)):function(v,k){return u.DebugFlags.InDebugMode?a.parseWithLocation(v,k,"$vscodeTextmateLocation"):a.parsePLIST(v)}(h,f);var d,S}},69:(i,o)=>{function s(a,u,c){const h=a.length;let f=0,d=1,S=0;function v(B){if(c===null)f+=B;else for(;B>0;)a.charCodeAt(f)===10?(f++,d++,S=0):(f++,S++),B--}function k(B){c===null?f=B:v(B-f)}function T(){for(;f<h;){let B=a.charCodeAt(f);if(B!==32&&B!==9&&B!==13&&B!==10)break;v(1)}}function _(B){return a.substr(f,B.length)===B&&(v(B.length),!0)}function E(B){let Y=a.indexOf(B,f);k(Y!==-1?Y+B.length:h)}function C(B){let Y=a.indexOf(B,f);if(Y!==-1){let Q=a.substring(f,Y);return k(Y+B.length),Q}{let Q=a.substr(f);return k(h),Q}}h>0&&a.charCodeAt(0)===65279&&(f=1);let w=0,g=null,l=[],y=[],m=null;function p(B,Y){l.push(w),y.push(g),w=B,g=Y}function b(){if(l.length===0)return A("illegal state stack");w=l.pop(),g=y.pop()}function A(B){throw new Error("Near offset "+f+": "+B+" ~~~"+a.substr(f,50)+"~~~")}const P=function(){if(m===null)return A("missing <key>");let B={};c!==null&&(B[c]={filename:u,line:d,char:S}),g[m]=B,m=null,p(1,B)},x=function(){if(m===null)return A("missing <key>");let B=[];g[m]=B,m=null,p(2,B)},N=function(){let B={};c!==null&&(B[c]={filename:u,line:d,char:S}),g.push(B),p(1,B)},D=function(){let B=[];g.push(B),p(2,B)};function G(){if(w!==1)return A("unexpected </dict>");b()}function X(){return w===1||w!==2?A("unexpected </array>"):void b()}function K(B){if(w===1){if(m===null)return A("missing <key>");g[m]=B,m=null}else w===2?g.push(B):g=B}function q(B){if(isNaN(B))return A("cannot parse float");if(w===1){if(m===null)return A("missing <key>");g[m]=B,m=null}else w===2?g.push(B):g=B}function J(B){if(isNaN(B))return A("cannot parse integer");if(w===1){if(m===null)return A("missing <key>");g[m]=B,m=null}else w===2?g.push(B):g=B}function se(B){if(w===1){if(m===null)return A("missing <key>");g[m]=B,m=null}else w===2?g.push(B):g=B}function te(B){if(w===1){if(m===null)return A("missing <key>");g[m]=B,m=null}else w===2?g.push(B):g=B}function V(B){if(w===1){if(m===null)return A("missing <key>");g[m]=B,m=null}else w===2?g.push(B):g=B}function j(){let B=C(">"),Y=!1;return B.charCodeAt(B.length-1)===47&&(Y=!0,B=B.substring(0,B.length-1)),{name:B.trim(),isClosed:Y}}function z(B){if(B.isClosed)return"";let Y=C("</");return E(">"),Y.replace(/&#([0-9]+);/g,function(Q,le){return String.fromCodePoint(parseInt(le,10))}).replace(/&#x([0-9a-f]+);/g,function(Q,le){return String.fromCodePoint(parseInt(le,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(Q){switch(Q){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return Q})}for(;f<h&&(T(),!(f>=h));){const B=a.charCodeAt(f);if(v(1),B!==60)return A("expected <");if(f>=h)return A("unexpected end of input");const Y=a.charCodeAt(f);if(Y===63){v(1),E("?>");continue}if(Y===33){if(v(1),_("--")){E("-->");continue}E(">");continue}if(Y===47){if(v(1),T(),_("plist")){E(">");continue}if(_("dict")){E(">"),G();continue}if(_("array")){E(">"),X();continue}return A("unexpected closed tag")}let Q=j();switch(Q.name){case"dict":w===1?P():w===2?N():(g={},c!==null&&(g[c]={filename:u,line:d,char:S}),p(1,g)),Q.isClosed&&G();continue;case"array":w===1?x():w===2?D():(g=[],p(2,g)),Q.isClosed&&X();continue;case"key":ue=z(Q),w!==1?A("unexpected <key>"):m!==null?A("too many <key>"):m=ue;continue;case"string":K(z(Q));continue;case"real":q(parseFloat(z(Q)));continue;case"integer":J(parseInt(z(Q),10));continue;case"date":se(new Date(z(Q)));continue;case"data":te(z(Q));continue;case"true":z(Q),V(!0);continue;case"false":z(Q),V(!1);continue}if(!/^plist/.test(Q.name))return A("unexpected opened tag "+Q.name)}var ue;return g}Object.defineProperty(o,"__esModule",{value:!0}),o.parsePLIST=o.parseWithLocation=void 0,o.parseWithLocation=function(a,u,c){return s(a,u,c)},o.parsePLIST=function(a){return s(a,null,null)}},652:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SyncRegistry=void 0;const a=s(391);o.SyncRegistry=class{constructor(u,c){this._onigLibPromise=c,this._grammars=new Map,this._rawGrammars=new Map,this._injectionGrammars=new Map,this._theme=u}dispose(){for(const u of this._grammars.values())u.dispose()}setTheme(u){this._theme=u}getColorMap(){return this._theme.getColorMap()}addGrammar(u,c){this._rawGrammars.set(u.scopeName,u),c&&this._injectionGrammars.set(u.scopeName,c)}lookup(u){return this._rawGrammars.get(u)}injections(u){return this._injectionGrammars.get(u)}getDefaults(){return this._theme.getDefaults()}themeMatch(u){return this._theme.match(u)}async grammarForScopeName(u,c,h,f,d){if(!this._grammars.has(u)){let S=this._rawGrammars.get(u);if(!S)return null;this._grammars.set(u,a.createGrammar(u,S,c,h,f,d,this,await this._onigLibPromise))}return this._grammars.get(u)}}},792:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CompiledRule=o.RegExpSourceList=o.RegExpSource=o.RuleFactory=o.BeginWhileRule=o.BeginEndRule=o.IncludeOnlyRule=o.MatchRule=o.CaptureRule=o.Rule=o.ruleIdToNumber=o.ruleIdFromNumber=o.whileRuleId=o.endRuleId=void 0;const a=s(878),u=s(965),c=/\\(\d+)/,h=/\\(\d+)/g;o.endRuleId=-1,o.whileRuleId=-2,o.ruleIdFromNumber=function(g){return g},o.ruleIdToNumber=function(g){return g};class f{constructor(l,y,m,p){this.$location=l,this.id=y,this._name=m||null,this._nameIsCapturing=a.RegexSource.hasCaptures(this._name),this._contentName=p||null,this._contentNameIsCapturing=a.RegexSource.hasCaptures(this._contentName)}get debugName(){const l=this.$location?`${a.basename(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${l}`}getName(l,y){return this._nameIsCapturing&&this._name!==null&&l!==null&&y!==null?a.RegexSource.replaceCaptures(this._name,l,y):this._name}getContentName(l,y){return this._contentNameIsCapturing&&this._contentName!==null?a.RegexSource.replaceCaptures(this._contentName,l,y):this._contentName}}o.Rule=f;class d extends f{constructor(l,y,m,p,b){super(l,y,m,p),this.retokenizeCapturedWithRuleId=b}dispose(){}collectPatterns(l,y){throw new Error("Not supported!")}compile(l,y){throw new Error("Not supported!")}compileAG(l,y,m,p){throw new Error("Not supported!")}}o.CaptureRule=d;class S extends f{constructor(l,y,m,p,b){super(l,y,m,null),this._match=new E(p,this.id),this.captures=b,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(l,y){y.push(this._match)}compile(l,y){return this._getCachedCompiledPatterns(l).compile(l)}compileAG(l,y,m,p){return this._getCachedCompiledPatterns(l).compileAG(l,m,p)}_getCachedCompiledPatterns(l){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new C,this.collectPatterns(l,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}o.MatchRule=S;class v extends f{constructor(l,y,m,p,b){super(l,y,m,p),this.patterns=b.patterns,this.hasMissingPatterns=b.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(l,y){for(const m of this.patterns)l.getRule(m).collectPatterns(l,y)}compile(l,y){return this._getCachedCompiledPatterns(l).compile(l)}compileAG(l,y,m,p){return this._getCachedCompiledPatterns(l).compileAG(l,m,p)}_getCachedCompiledPatterns(l){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new C,this.collectPatterns(l,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}o.IncludeOnlyRule=v;class k extends f{constructor(l,y,m,p,b,A,P,x,N,D){super(l,y,m,p),this._begin=new E(b,this.id),this.beginCaptures=A,this._end=new E(P||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=x,this.applyEndPatternLast=N||!1,this.patterns=D.patterns,this.hasMissingPatterns=D.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(l,y){return this._end.resolveBackReferences(l,y)}collectPatterns(l,y){y.push(this._begin)}compile(l,y){return this._getCachedCompiledPatterns(l,y).compile(l)}compileAG(l,y,m,p){return this._getCachedCompiledPatterns(l,y).compileAG(l,m,p)}_getCachedCompiledPatterns(l,y){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new C;for(const m of this.patterns)l.getRule(m).collectPatterns(l,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,y):this._cachedCompiledPatterns.setSource(0,y)),this._cachedCompiledPatterns}}o.BeginEndRule=k;class T extends f{constructor(l,y,m,p,b,A,P,x,N){super(l,y,m,p),this._begin=new E(b,this.id),this.beginCaptures=A,this.whileCaptures=x,this._while=new E(P,o.whileRuleId),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=N.patterns,this.hasMissingPatterns=N.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(l,y){return this._while.resolveBackReferences(l,y)}collectPatterns(l,y){y.push(this._begin)}compile(l,y){return this._getCachedCompiledPatterns(l).compile(l)}compileAG(l,y,m,p){return this._getCachedCompiledPatterns(l).compileAG(l,m,p)}_getCachedCompiledPatterns(l){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new C;for(const y of this.patterns)l.getRule(y).collectPatterns(l,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(l,y){return this._getCachedCompiledWhilePatterns(l,y).compile(l)}compileWhileAG(l,y,m,p){return this._getCachedCompiledWhilePatterns(l,y).compileAG(l,m,p)}_getCachedCompiledWhilePatterns(l,y){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new C,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,y||""),this._cachedCompiledWhilePatterns}}o.BeginWhileRule=T;class _{static createCaptureRule(l,y,m,p,b){return l.registerRule(A=>new d(y,A,m,p,b))}static getCompiledRuleId(l,y,m){return l.id||y.registerRule(p=>{if(l.id=p,l.match)return new S(l.$vscodeTextmateLocation,l.id,l.name,l.match,_._compileCaptures(l.captures,y,m));if(l.begin===void 0){l.repository&&(m=a.mergeObjects({},m,l.repository));let b=l.patterns;return b===void 0&&l.include&&(b=[{include:l.include}]),new v(l.$vscodeTextmateLocation,l.id,l.name,l.contentName,_._compilePatterns(b,y,m))}return l.while?new T(l.$vscodeTextmateLocation,l.id,l.name,l.contentName,l.begin,_._compileCaptures(l.beginCaptures||l.captures,y,m),l.while,_._compileCaptures(l.whileCaptures||l.captures,y,m),_._compilePatterns(l.patterns,y,m)):new k(l.$vscodeTextmateLocation,l.id,l.name,l.contentName,l.begin,_._compileCaptures(l.beginCaptures||l.captures,y,m),l.end,_._compileCaptures(l.endCaptures||l.captures,y,m),l.applyEndPatternLast,_._compilePatterns(l.patterns,y,m))}),l.id}static _compileCaptures(l,y,m){let p=[];if(l){let b=0;for(const A in l){if(A==="$vscodeTextmateLocation")continue;const P=parseInt(A,10);P>b&&(b=P)}for(let A=0;A<=b;A++)p[A]=null;for(const A in l){if(A==="$vscodeTextmateLocation")continue;const P=parseInt(A,10);let x=0;l[A].patterns&&(x=_.getCompiledRuleId(l[A],y,m)),p[P]=_.createCaptureRule(y,l[A].$vscodeTextmateLocation,l[A].name,l[A].contentName,x)}}return p}static _compilePatterns(l,y,m){let p=[];if(l)for(let b=0,A=l.length;b<A;b++){const P=l[b];let x=-1;if(P.include){const N=u.parseInclude(P.include);switch(N.kind){case 0:case 1:x=_.getCompiledRuleId(m[P.include],y,m);break;case 2:let D=m[N.ruleName];D&&(x=_.getCompiledRuleId(D,y,m));break;case 3:case 4:const G=N.scopeName,X=N.kind===4?N.ruleName:null,K=y.getExternalGrammar(G,m);if(K)if(X){let q=K.repository[X];q&&(x=_.getCompiledRuleId(q,y,K.repository))}else x=_.getCompiledRuleId(K.repository.$self,y,K.repository)}}else x=_.getCompiledRuleId(P,y,m);if(x!==-1){const N=y.getRule(x);let D=!1;if((N instanceof v||N instanceof k||N instanceof T)&&N.hasMissingPatterns&&N.patterns.length===0&&(D=!0),D)continue;p.push(x)}}return{patterns:p,hasMissingPatterns:(l?l.length:0)!==p.length}}}o.RuleFactory=_;class E{constructor(l,y){if(l){const m=l.length;let p=0,b=[],A=!1;for(let P=0;P<m;P++)if(l.charAt(P)==="\\"&&P+1<m){const x=l.charAt(P+1);x==="z"?(b.push(l.substring(p,P)),b.push("$(?!\\n)(?<!\\n)"),p=P+2):x!=="A"&&x!=="G"||(A=!0),P++}this.hasAnchor=A,p===0?this.source=l:(b.push(l.substring(p,m)),this.source=b.join(""))}else this.hasAnchor=!1,this.source=l;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=y,this.hasBackReferences=c.test(this.source)}clone(){return new E(this.source,this.ruleId)}setSource(l){this.source!==l&&(this.source=l,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(l,y){let m=y.map(p=>l.substring(p.start,p.end));return h.lastIndex=0,this.source.replace(h,(p,b)=>a.escapeRegExpCharacters(m[parseInt(b,10)]||""))}_buildAnchorCache(){let l,y,m,p,b=[],A=[],P=[],x=[];for(l=0,y=this.source.length;l<y;l++)m=this.source.charAt(l),b[l]=m,A[l]=m,P[l]=m,x[l]=m,m==="\\"&&l+1<y&&(p=this.source.charAt(l+1),p==="A"?(b[l+1]="",A[l+1]="",P[l+1]="A",x[l+1]="A"):p==="G"?(b[l+1]="",A[l+1]="G",P[l+1]="",x[l+1]="G"):(b[l+1]=p,A[l+1]=p,P[l+1]=p,x[l+1]=p),l++);return{A0_G0:b.join(""),A0_G1:A.join(""),A1_G0:P.join(""),A1_G1:x.join("")}}resolveAnchors(l,y){return this.hasAnchor&&this._anchorCache?l?y?this._anchorCache.A1_G1:this._anchorCache.A1_G0:y?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source}}o.RegExpSource=E;class C{constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(l){this._items.push(l),this._hasAnchors=this._hasAnchors||l.hasAnchor}unshift(l){this._items.unshift(l),this._hasAnchors=this._hasAnchors||l.hasAnchor}length(){return this._items.length}setSource(l,y){this._items[l].source!==y&&(this._disposeCaches(),this._items[l].setSource(y))}compile(l){if(!this._cached){let y=this._items.map(m=>m.source);this._cached=new w(l,y,this._items.map(m=>m.ruleId))}return this._cached}compileAG(l,y,m){return this._hasAnchors?y?m?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(l,y,m)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(l,y,m)),this._anchorCache.A1_G0):m?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(l,y,m)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(l,y,m)),this._anchorCache.A0_G0):this.compile(l)}_resolveAnchors(l,y,m){let p=this._items.map(b=>b.resolveAnchors(y,m));return new w(l,p,this._items.map(b=>b.ruleId))}}o.RegExpSourceList=C;class w{constructor(l,y,m){this.regExps=y,this.rules=m,this.scanner=l.createOnigScanner(y)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const l=[];for(let y=0,m=this.rules.length;y<m;y++)l.push("   - "+this.rules[y]+": "+this.regExps[y]);return l.join(`
`)}findNextMatchSync(l,y,m){const p=this.scanner.findNextMatchSync(l,y,m);return p?{ruleId:this.rules[p.index],captureIndices:p.captureIndices}:null}}o.CompiledRule=w},583:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ThemeTrieElement=o.ThemeTrieElementRule=o.ColorMap=o.fontStyleToString=o.ParsedThemeRule=o.parseTheme=o.StyleAttributes=o.ScopeStack=o.Theme=void 0;const a=s(878);class u{constructor(C,w,g){this._colorMap=C,this._defaults=w,this._root=g,this._cachedMatchRoot=new a.CachedFn(l=>this._root.match(l))}static createFromRawTheme(C,w){return this.createFromParsedTheme(d(C),w)}static createFromParsedTheme(C,w){return function(g,l){g.sort((x,N)=>{let D=a.strcmp(x.scope,N.scope);return D!==0?D:(D=a.strArrCmp(x.parentScopes,N.parentScopes),D!==0?D:x.index-N.index)});let y=0,m="#000000",p="#ffffff";for(;g.length>=1&&g[0].scope==="";){let x=g.shift();x.fontStyle!==-1&&(y=x.fontStyle),x.foreground!==null&&(m=x.foreground),x.background!==null&&(p=x.background)}let b=new v(l),A=new f(y,b.getId(m),b.getId(p)),P=new _(new T(0,null,-1,0,0),[]);for(let x=0,N=g.length;x<N;x++){let D=g[x];P.insert(0,D.scope,D.parentScopes,D.fontStyle,b.getId(D.foreground),b.getId(D.background))}return new u(b,A,P)}(C,w)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(C){if(C===null)return this._defaults;const w=C.scopeName,g=this._cachedMatchRoot.get(w).find(l=>function(y,m){if(m.length===0)return!0;for(let p=0;p<m.length;p++){let b=m[p],A=!1;if(b===">"){if(p===m.length-1)return!1;b=m[++p],A=!0}for(;y&&!h(y.scopeName,b);){if(A)return!1;y=y.parent}if(!y)return!1;y=y.parent}return!0}(C.parent,l.parentScopes));return g?new f(g.fontStyle,g.foreground,g.background):null}}o.Theme=u;class c{constructor(C,w){this.parent=C,this.scopeName=w}static push(C,w){for(const g of w)C=new c(C,g);return C}static from(...C){let w=null;for(let g=0;g<C.length;g++)w=new c(w,C[g]);return w}push(C){return new c(this,C)}getSegments(){let C=this;const w=[];for(;C;)w.push(C.scopeName),C=C.parent;return w.reverse(),w}toString(){return this.getSegments().join(" ")}extends(C){return this===C||this.parent!==null&&this.parent.extends(C)}getExtensionIfDefined(C){const w=[];let g=this;for(;g&&g!==C;)w.push(g.scopeName),g=g.parent;return g===C?w.reverse():void 0}}function h(E,C){return C===E||E.startsWith(C)&&E[C.length]==="."}o.ScopeStack=c;class f{constructor(C,w,g){this.fontStyle=C,this.foregroundId=w,this.backgroundId=g}}function d(E){if(!E)return[];if(!E.settings||!Array.isArray(E.settings))return[];let C=E.settings,w=[],g=0;for(let l=0,y=C.length;l<y;l++){let m,p=C[l];if(!p.settings)continue;if(typeof p.scope=="string"){let x=p.scope;x=x.replace(/^[,]+/,""),x=x.replace(/[,]+$/,""),m=x.split(",")}else m=Array.isArray(p.scope)?p.scope:[""];let b=-1;if(typeof p.settings.fontStyle=="string"){b=0;let x=p.settings.fontStyle.split(" ");for(let N=0,D=x.length;N<D;N++)switch(x[N]){case"italic":b|=1;break;case"bold":b|=2;break;case"underline":b|=4;break;case"strikethrough":b|=8}}let A=null;typeof p.settings.foreground=="string"&&a.isValidHexColor(p.settings.foreground)&&(A=p.settings.foreground);let P=null;typeof p.settings.background=="string"&&a.isValidHexColor(p.settings.background)&&(P=p.settings.background);for(let x=0,N=m.length;x<N;x++){let D=m[x].trim().split(" "),G=D[D.length-1],X=null;D.length>1&&(X=D.slice(0,D.length-1),X.reverse()),w[g++]=new S(G,X,l,b,A,P)}}return w}o.StyleAttributes=f,o.parseTheme=d;class S{constructor(C,w,g,l,y,m){this.scope=C,this.parentScopes=w,this.index=g,this.fontStyle=l,this.foreground=y,this.background=m}}o.ParsedThemeRule=S,o.fontStyleToString=function(E){if(E===-1)return"not set";let C="";return 1&E&&(C+="italic "),2&E&&(C+="bold "),4&E&&(C+="underline "),8&E&&(C+="strikethrough "),C===""&&(C="none"),C.trim()};class v{constructor(C){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(C)){this._isFrozen=!0;for(let w=0,g=C.length;w<g;w++)this._color2id[C[w]]=w,this._id2color[w]=C[w]}else this._isFrozen=!1}getId(C){if(C===null)return 0;C=C.toUpperCase();let w=this._color2id[C];if(w)return w;if(this._isFrozen)throw new Error(`Missing color in color map - ${C}`);return w=++this._lastColorId,this._color2id[C]=w,this._id2color[w]=C,w}getColorMap(){return this._id2color.slice(0)}}o.ColorMap=v;const k=Object.freeze([]);class T{constructor(C,w,g,l,y){this.scopeDepth=C,this.parentScopes=w||k,this.fontStyle=g,this.foreground=l,this.background=y}clone(){return new T(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(C){let w=[];for(let g=0,l=C.length;g<l;g++)w[g]=C[g].clone();return w}acceptOverwrite(C,w,g,l){this.scopeDepth>C?console.log("how did this happen?"):this.scopeDepth=C,w!==-1&&(this.fontStyle=w),g!==0&&(this.foreground=g),l!==0&&(this.background=l)}}o.ThemeTrieElementRule=T;class _{constructor(C,w=[],g={}){this._mainRule=C,this._children=g,this._rulesWithParentScopes=w}static _cmpBySpecificity(C,w){if(C.scopeDepth!==w.scopeDepth)return w.scopeDepth-C.scopeDepth;let g=0,l=0;for(;C.parentScopes[g]===">"&&g++,w.parentScopes[l]===">"&&l++,!(g>=C.parentScopes.length||l>=w.parentScopes.length);){const y=w.parentScopes[l].length-C.parentScopes[g].length;if(y!==0)return y;g++,l++}return w.parentScopes.length-C.parentScopes.length}match(C){if(C!==""){let g,l,y=C.indexOf(".");if(y===-1?(g=C,l=""):(g=C.substring(0,y),l=C.substring(y+1)),this._children.hasOwnProperty(g))return this._children[g].match(l)}const w=this._rulesWithParentScopes.concat(this._mainRule);return w.sort(_._cmpBySpecificity),w}insert(C,w,g,l,y,m){if(w==="")return void this._doInsertHere(C,g,l,y,m);let p,b,A,P=w.indexOf(".");P===-1?(p=w,b=""):(p=w.substring(0,P),b=w.substring(P+1)),this._children.hasOwnProperty(p)?A=this._children[p]:(A=new _(this._mainRule.clone(),T.cloneArr(this._rulesWithParentScopes)),this._children[p]=A),A.insert(C+1,b,g,l,y,m)}_doInsertHere(C,w,g,l,y){if(w!==null){for(let m=0,p=this._rulesWithParentScopes.length;m<p;m++){let b=this._rulesWithParentScopes[m];if(a.strArrCmp(b.parentScopes,w)===0)return void b.acceptOverwrite(C,g,l,y)}g===-1&&(g=this._mainRule.fontStyle),l===0&&(l=this._mainRule.foreground),y===0&&(y=this._mainRule.background),this._rulesWithParentScopes.push(new T(C,w,g,l,y))}else this._mainRule.acceptOverwrite(C,g,l,y)}}o.ThemeTrieElement=_},878:(i,o)=>{function s(c){return Array.isArray(c)?function(h){let f=[];for(let d=0,S=h.length;d<S;d++)f[d]=s(h[d]);return f}(c):typeof c=="object"?function(h){let f={};for(let d in h)f[d]=s(h[d]);return f}(c):c}Object.defineProperty(o,"__esModule",{value:!0}),o.performanceNow=o.CachedFn=o.escapeRegExpCharacters=o.isValidHexColor=o.strArrCmp=o.strcmp=o.RegexSource=o.basename=o.mergeObjects=o.clone=void 0,o.clone=function(c){return s(c)},o.mergeObjects=function(c,...h){return h.forEach(f=>{for(let d in f)c[d]=f[d]}),c},o.basename=function c(h){const f=~h.lastIndexOf("/")||~h.lastIndexOf("\\");return f===0?h:~f==h.length-1?c(h.substring(0,h.length-1)):h.substr(1+~f)};let a=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g;function u(c,h){return c<h?-1:c>h?1:0}o.RegexSource=class{static hasCaptures(c){return c!==null&&(a.lastIndex=0,a.test(c))}static replaceCaptures(c,h,f){return c.replace(a,(d,S,v,k)=>{let T=f[parseInt(S||v,10)];if(!T)return d;{let _=h.substring(T.start,T.end);for(;_[0]===".";)_=_.substring(1);switch(k){case"downcase":return _.toLowerCase();case"upcase":return _.toUpperCase();default:return _}}})}},o.strcmp=u,o.strArrCmp=function(c,h){if(c===null&&h===null)return 0;if(!c)return-1;if(!h)return 1;let f=c.length,d=h.length;if(f===d){for(let S=0;S<f;S++){let v=u(c[S],h[S]);if(v!==0)return v}return 0}return f-d},o.isValidHexColor=function(c){return!!(/^#[0-9a-f]{6}$/i.test(c)||/^#[0-9a-f]{8}$/i.test(c)||/^#[0-9a-f]{3}$/i.test(c)||/^#[0-9a-f]{4}$/i.test(c))},o.escapeRegExpCharacters=function(c){return c.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},o.CachedFn=class{constructor(c){this.fn=c,this.cache=new Map}get(c){if(this.cache.has(c))return this.cache.get(c);const h=this.fn(c);return this.cache.set(c,h),h}},o.performanceNow=typeof performance>"u"?function(){return Date.now()}:function(){return performance.now()}}},r={};return function i(o){var s=r[o];if(s!==void 0)return s.exports;var a=r[o]={exports:{}};return n[o].call(a.exports,a,a.exports,i),a.exports}(787)})())})(ts);var Pr=ts.exports;function Hi(t,e,n){let r;Re(()=>{var i;const o=(i=e.style)==null?void 0:i[n];o!==r&&((r=o)!=null?t.style.setProperty(n,typeof o>"u"?null:o.toString()):t.style.removeProperty(n))})}function Yu(t){let e=parseInt(t.slice(1),16),n=e>>16&255,r=e>>8&255,i=e&255;return[n,r,i]}function Qu(t,e,n){const r=[t,e,n].map(i=>(i/=255,i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)));return r[0]*.2126+r[1]*.7152+r[2]*.0722}function Zu(t,e,n){const r=typeof t=="function"?t():t;return r?e(r):n?n():void 0}function fr(t,e,n){return()=>Zu(t,e,n)}function zi(...t){function e(){const n=new Array(t.length);for(let r=0;r<t.length;r++){const i=typeof t[r]=="function"?t[r]():t[r];if(!i)return;n[r]=i}return n}return e}function el(t){return t===0?1:Math.floor(Math.log10(Math.abs(t)))+1}function qi(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function tl(t){let e=0;for(const n of t)n.length>e&&(e=n.length);return e}class nl{constructor(){Yo(this,At,[])}peek(){return pt(this,At)[pt(this,At).length-1]}push(e){pt(this,At).push(e)}pop(){return pt(this,At).pop()}}At=new WeakMap;var rl=jt("<pre part=line>"),il=jt("<div part=root><code part=code></code><textarea part=textarea autocomplete=off inputmode=none></textarea><code aria-hidden>&nbsp;");const Be=100,Sn=50,hr={},ol=new Pr.Registry({onigLib:Ju,loadGrammar:t=>Jo("grammar",t).then(e=>(e.scopeName=t,e))}),[sl]=st(()=>rt(async()=>fetch(Ko("oniguruma",null)).then(t=>t.arrayBuffer()).then(t=>ri.loadWASM(t)).then(()=>!0)));class al{constructor(e){Wu(this,"themeData"),Yo(this,Zt,{}),this.themeData=e}resolveScope(e){const n=e.join("-");if(pt(this,Zt)[n])return pt(this,Zt)[n];let r={};for(let i=0;i<e.length;i++){const o=e[i];for(const s of this.themeData.tokenColors){const a=Array.isArray(s.scope)?s.scope:[s.scope];for(const u of a)o.startsWith(u||"")&&(r={...r,...s.settings})}}return pt(this,Zt)[n]=r}getBackgroundColor(){var e;return((e=this.themeData.colors)==null?void 0:e["editor.background"])||void 0}getForegroundColor(){var e;return((e=this.themeData.colors)==null?void 0:e["editor.foreground"])||void 0}}Zt=new WeakMap;function cl(t,e){let n=!1;return t===e?!0:!t||!e?!1:(t.ruleId!==e.ruleId&&(n=!0),t.depth!==e.depth&&(n=!0),Xi(t.nameScopesList,e.nameScopesList)||(n=!0),Xi(t.contentNameScopesList,e.contentNameScopesList)||(n=!0),!n)}function Xi(t,e){var n,r;return!t&&!e?!0:!(!t||!e||((n=t.scopePath)==null?void 0:n.scopeName)!==((r=e.scopePath)==null?void 0:r.scopeName)||t.tokenAttributes!==e.tokenAttributes)}const ns=Ss(null);function ul(){const t=As(ns);if(!t)throw"useTextarea should be used in a descendant of TmTextarea";return t}function ll(t){function e(n){const r=ul(),i=r.segments.peek(),[o,s]=Ce(i?.stack||Pr.INITIAL,{equals:cl}),a=n.index*Be,u=a+Be,c=qu(fr(zi(()=>r.tokenizer,()=>r.theme),([h,f])=>{let d=i?.stack||Pr.INITIAL;const S=r.lines.slice(a,u).map(v=>{const{ruleStack:k,tokens:T}=h.tokenizeLine(v,d);return d=k,T.map(_=>{const E=f.resolveScope(_.scopes),C=v.slice(_.startIndex,_.endIndex);return`<span style="${E.foreground?`color:${E.foreground};`:""}${E.fontStyle?`text-decoration:${E.fontStyle}`:""}">${qi(C)}</span>`}).join("")});return s(d),S},()=>r.lines.slice(a,u).map(qi)));return r.segments.push({get stack(){return o()}}),We(()=>r.segments.pop()),$e(wr,{get when(){return r.isSegmentVisible(n.index*Be)},get children(){return $e(ui,{get each(){return Array.from({length:Be})},children:(h,f)=>$e(wr,{get when(){return r.isVisible(n.index*Be+f)},get children(){var d=rl();return Re(S=>{var v,k=t.line,T=(v=c())==null?void 0:v[f],_=n.index*Be+f;return k!==S.e&&Vt(d,S.e=k),T!==S.t&&(d.innerHTML=S.t=T),_!==S.a&&((S.a=_)!=null?d.style.setProperty("--tm-line-number",_):d.style.removeProperty("--tm-line-number")),S},{e:void 0,t:void 0,a:void 0}),d}})})}})}return function(r){const[i,o]=br(Mn({editable:!0},r),["class","grammar","onInput","value","style","theme","editable","onScroll","textareaRef"]);let s;const[a,u]=Ce(),[c,h]=Ce(),[f,d]=Ce(0),[S,v]=Ce(r.value),[k]=rt(zi(()=>r.grammar,sl),async([p])=>p in hr?hr[p]:hr[p]=await ol.loadGrammar(p)),[T]=rt(()=>r.theme,async p=>Jo("theme",p).then(b=>new al(b))),_=he(()=>S().split(`
`)),E=he(()=>tl(_())),C=he(()=>{var p;return Math.floor(f()/(((p=a())==null?void 0:p.height)||1))}),w=he(()=>{var p,b;return Math.floor((f()+(((p=c())==null?void 0:p.height)||0))/(((b=a())==null?void 0:b.height)||1))}),g=he(()=>Math.floor(C()/Be)),l=he(()=>Math.ceil(w()/Be)),y=fr(T,p=>{const b=p.getBackgroundColor(),A=Qu(...Yu(b));return`rgba(98, 114, 164, ${A>.9?.1:A<.1?.25:.175})`}),m=fr(()=>i.style,p=>br(p,["width","height"])[1]);return oo(()=>new ResizeObserver(([p])=>h(p?.contentRect)).observe(s)),Re(()=>v(r.value)),Re(()=>{var p;return console.log((p=T())==null?void 0:p.getForegroundColor())}),$e(ns.Provider,{get value(){return{get viewport(){return c()},get character(){return a()},get scrollTop(){return f()},get lines(){return _()},get theme(){return T()},get tokenizer(){return k()},segments:new nl,isVisible:ai(()=>[C(),w()],(p,[b,A])=>p>_().length-1?!1:p+Sn>b&&p-Sn<A),isSegmentVisible:ai(()=>[g(),l()],p=>{const b=Math.floor((p-Sn)/Be),A=Math.ceil((p+Sn)/Be);return b<=g()&&A>=l()||b>=g()&&b<=l()||A>=g()&&A<=l()})}},get children(){var p=il(),b=p.firstChild,A=b.nextSibling,P=A.nextSibling;p.addEventListener("scroll",N=>{var D;d(N.currentTarget.scrollTop),(D=r.onScroll)==null||D.call(r,N)}),Ct(N=>{s=N,Hi(N,r,"width"),Hi(N,r,"height")},p),ho(p,Mn({get class(){return Xu(t.container,i.class)},get style(){var N,D,G,X;return{"--tm-background-color":(N=T())==null?void 0:N.getBackgroundColor(),"--tm-char-height":`${((D=a())==null?void 0:D.height)||0}px`,"--tm-char-width":`${((G=a())==null?void 0:G.width)||0}px`,"--tm-foreground-color":(X=T())==null?void 0:X.getForegroundColor(),"--tm-line-count":_().length,"--tm-line-size":E(),"--tm-selection-color":y(),"--tm-line-digits":el(_().length),...m()}}},o),!1,!0),Dr(b,$e(ui,{get each(){return Array.from({length:Math.ceil(_().length/Be)})},children:(N,D)=>$e(e,{index:D})})),A.$$keydown=N=>{if(N.key==="Enter"){N.preventDefault();const D=s.scrollTop,G=N.currentTarget.selectionStart,X=N.currentTarget.selectionEnd,K=N.currentTarget.value;N.currentTarget.value=v(K.substring(0,G)+`
`+K.substring(X)),N.currentTarget.selectionStart=N.currentTarget.selectionEnd=G+1,s.scrollTop=D}},A.addEventListener("scroll",N=>{N.preventDefault(),N.stopPropagation()});var x=i.textareaRef;return typeof x=="function"?Ct(x,A):i.textareaRef=A,rn(A,"spellcheck",!1),A.addEventListener("input",N=>{var D;const X=N.currentTarget.value;v(X),(D=i.onInput)==null||D.call(i,N)}),Ct(N=>{new ResizeObserver(([D])=>{const{height:G,width:X}=getComputedStyle(D.target);u({height:Number(G.replace("px","")),width:Number(X.replace("px",""))})}).observe(N)},P),Re(N=>{var D=t.code,G=t.textarea,X=!i.editable,K=_().length,q=t.character;return D!==N.e&&Vt(b,N.e=D),G!==N.t&&Vt(A,N.t=G),X!==N.a&&(A.disabled=N.a=X),K!==N.o&&rn(A,"rows",N.o=K),q!==N.i&&Vt(P,N.i=q),N},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),Re(()=>A.value=i.value),p}})}}fo(["keydown"]);var fl=Object.defineProperty,hl=(t,e,n)=>e in t?fl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ie=(t,e,n)=>(hl(t,typeof e!="symbol"?e+"":e,n),n),ii=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},ye=(t,e,n)=>(ii(t,e,"read from private field"),n?n.call(t):e.get(t)),Ae=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Tt=(t,e,n,r)=>(ii(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ot=(t,e,n)=>(ii(t,e,"access private method"),n),Ir,rs,is,kn,Xe,Fn,oi,ln,xr,os,Nr,ss;function dl(t){var e,n,r,i,o,s,a,u,c,h;return h=class extends t{constructor(){super(...arguments),Ae(this,n),Ae(this,r),Ae(this,s),Ae(this,u),Ae(this,e,new Set),Ae(this,i,null),Ae(this,o,null)}createEffect(f){Ot(this,s,a).call(this,f)}stopEffects(){Ot(this,u,c).call(this)}},e=new WeakMap,n=new WeakSet,r=new WeakSet,i=new WeakMap,o=new WeakMap,s=new WeakSet,a=function(f){if(!ye(this,i))st(d=>{Tt(this,i,gr()),Tt(this,o,d),Ot(this,s,a).call(this,f)});else{let d=gr();for(;d&&d!==ye(this,i);)d=d?.owner??null;if(d===ye(this,i))return xe(f);ws(ye(this,i),()=>xe(f))}},u=new WeakSet,c=function(){var f;(f=ye(this,o))==null||f.call(this)},h}function pl(t,e){let n=t,r;for(;n;){if(r=Object.getOwnPropertyDescriptor(n,e),r)return r.owner=n,r;n=n.__proto__}}const An=new WeakMap;function gl(t,...e){const n=e.length?e:Object.keys(t).concat(Object.getOwnPropertySymbols(t));for(const r of n)as(t,r);return t}let Vi=!1;function ml(){if(Vi)throw new Error('Export "createSignalAccessor" is internal to classy-solid only.');return Vi=!0,as}const Tn=new WeakMap;function yl(t,e){var n;return!!((n=Tn.get(t))!=null&&n.has(e))}function Ki(t,e){Tn.has(t)||Tn.set(t,new Set),Tn.get(t).add(e)}const Ji=new WeakSet;function as(t,e,n=de(()=>t[e]),r=!1){var i;if(!r&&((i=An.get(t))!=null&&i.has(e))||t[Ne])return;let s=pl(t,e),a,u;if(s){if(a=s.get,u=s.set,a&&Ji.has(a))return;if(a||u){if(!a||!u){console.warn(`The \`@signal\` decorator was used on an accessor named "${e.toString()}" which had a getter or a setter, but not both. Reactivity on accessors works only when accessors have both get and set. In this case the decorator does not do anything.`);return}delete s.get,delete s.set}else{if(n=s.value,!s.writable){console.warn(`The \`@signal\` decorator was used on a property named "${e.toString()}" that is not writable. Reactivity is not enabled for non-writable properties.`);return}delete s.value,delete s.writable}}const c=Ce(n,{equals:!1});s={configurable:!0,enumerable:!0,...s,get:a?function(){return c[0](),a.call(this)}:function(){return c[0]()},set:u?function(h){u.call(this,h),Ki(this,e),typeof h=="function"?c[1](()=>h):c[1](h)}:function(h){Ki(this,e),typeof h=="function"?c[1](()=>h):c[1](h)}},Ji.add(s.get),Object.defineProperty(t,e,s),An.has(t)||An.set(t,new Set),An.get(t).add(e)}let Jn=new Map,tn=null;function _l(){if(tn)throw new Error("Attempted use of classy-solid internals.");return tn=Symbol(),tn}function vl(t){if(t!==tn)throw new Error("Attempted use of classy-solid internals.");return Jn}function bl(t){if(t!==tn)throw new Error("Attempted use of classy-solid internals.");Jn=new Map}function wl(t){return"private"in t}function Yi(t,e){const{kind:n,name:r}=e,i=Jn;if(wl(e)){if(e.private)throw new Error("@signal is not supported on private fields yet.");if(e.static)throw new Error("@signal is not supported on static fields yet.")}if(n==="field")return i.set(r,{initialValue:void 0}),function(o){return i.get(r).initialValue=o,o};if(n==="getter"||n==="setter")i.set(r,{initialValue:void 0});else throw new Error("The @signal decorator is only for use on fields, getters, and setters. Auto accessor support is coming next if there is demand for it.");Sl(i)}let dr=!1;function Sl(t){dr||(dr=!0,queueMicrotask(()=>{if(dr=!1,t===Jn)throw new Error(`Stray @signal-decorated properties detected: ${Array.from(t.keys()).join(", ")}. Did you forget to use the \`@reactive\` decorator on a class that has properties decorated with \`@signal\`?`)}))}const Qi=_l(),Al=ml(),Zi=Object.prototype.hasOwnProperty;function Cl(t,e){if(typeof t!="function"||e&&e.kind!=="class")throw new TypeError("The @reactive decorator is only for use on classes.");const n=t,r=vl(Qi);bl(Qi);class i extends n{constructor(...s){let a;nn()?de(()=>a=Reflect.construct(n,s,new.target)):(super(...s),a=this);for(const[u,{initialValue:c}]of r){if(!(Zi.call(a,u)||Zi.call(n.prototype,u)))throw new Error(`Property "${u.toString()}" not found on instance of class decorated with \`@reactive\`. Did you forget to use the \`@reactive\` decorator on one of your classes that has a "${u.toString()}" property decorated with \`@signal\`?`);Al(a,u,c,!0)}return a}}return i}var fn;let Xt;const El=globalThis.HTMLElement??class{constructor(){throw new Error("@lume/element needs a DOM to operate with! If this code is running during server-side rendering, it means your app is trying to instantiate elements when it shouldn't be, and should be refactored to avoid doing that when no DOM is present.")}};class ct extends dl(El){constructor(){super(...arguments),Ae(this,Ir),Ae(this,xr),Ae(this,Nr),Ae(this,is,Ot(this,Ir,rs).call(this)),Ie(this,"hasShadow",!0),Ie(this,"__root",null),Ae(this,kn,void 0),Ae(this,Xe,null),Ae(this,Fn,e=>`${e} {
		display: block;
	}`),Ae(this,oi,fn.__elementId++),Ae(this,ln,null)}static defineElement(e,n=customElements){if(e){if(n.get(e))return console.warn(`defineElement(): An element class was already defined for tag name ${e}.`),this;{const r=class extends this{};return r.elementName=e,n.define(e,r),r}}else return e=this.elementName,n.get(e)?(console.warn(`defineElement(): An element class was already defined for tag name ${e}.`),this):(n.define(e,this),this)}get root(){return this.hasShadow?this.__root?this.__root:this.shadowRoot?this.__root=this.shadowRoot:this.__root=this.attachShadow({mode:"open"}):this}set root(e){if(!this.hasShadow)throw new Error("Can not set root, element.hasShadow is false.");if(this.__root||this.shadowRoot)throw new Error("Element root can only be set once if there is no ShadowRoot.");this.__root=e}get styleRoot(){return this.root}attachShadow(e){return this.__root&&console.warn("Element already has a root defined."),this.__root=super.attachShadow(e)}connectedCallback(){const e=this.template;e&&Tt(this,kn,lo(typeof e=="function"?e.bind(this):()=>e,this.root)),Ot(this,xr,os).call(this)}disconnectedCallback(){var e;this.stopEffects(),(e=ye(this,kn))==null||e.call(this),Ot(this,Nr,ss).call(this)}adoptedCallback(){}}Ir=new WeakSet;rs=function(){const t=Object.keys(this);this._preUpgradeValues=new Map;for(const e of t){const n=Object.getOwnPropertyDescriptor(this,e);"value"in n&&(delete this[e],this._preUpgradeValues.set(e,n.value),queueMicrotask(()=>{if(yl(this,e))return;e in this.__proto__&&(this[e]=n.value)}))}};is=new WeakMap;kn=new WeakMap;Xe=new WeakMap;Fn=new WeakMap;oi=new WeakMap;ln=new WeakMap;xr=new WeakSet;os=function(){Xt=this.constructor;const t=typeof Xt.css=="function"?Xt.css=Xt.css():Xt.css||"",e=typeof this.css=="function"?this.css():this.css||"";if(this.hasShadow){const n=":host",r=document.createElement("style");r.innerHTML=`
				${ye(this,Fn).call(this,n)}
				${t}
				${e}
			`,this.styleRoot.appendChild(r)}else{const n=this.getRootNode();Tt(this,Xe,n===document?document.head:n);let r=fn.__styleRootNodeRefCountPerTagName.get(ye(this,Xe));r||fn.__styleRootNodeRefCountPerTagName.set(ye(this,Xe),r={});const i=r[this.tagName]||0;if(r[this.tagName]=i+1,i===0){const o=this.tagName.toLowerCase(),s=document.createElement("style");s.innerHTML=`
					${ye(this,Fn).call(this,o)}
					${t&&t.replaceAll(":host",o)}
				`,s.id=this.tagName.toLowerCase(),ye(this,Xe).appendChild(s)}if(e){const o=this.tagName.toLowerCase()+"-"+ye(this,oi);this.setAttribute(o,"");const s=Tt(this,ln,document.createElement("style"));s.id=o,s.innerHTML=e.replaceAll(":host",`[${o}]`);const a=this.getRootNode();Tt(this,Xe,a===document?document.head:a),ye(this,Xe).appendChild(s)}}};Nr=new WeakSet;ss=function(){do{if(this.hasShadow)break;const t=fn.__styleRootNodeRefCountPerTagName.get(ye(this,Xe));if(!t)break;let e=t[this.tagName];if(e===void 0)break;if(t[this.tagName]=--e,e===0){delete t[this.tagName];const n=ye(this,Xe).querySelector("#"+this.tagName);n?.remove()}}while(!1);ye(this,ln)&&ye(this,ln).remove()};Ie(ct,"elementName","");Ie(ct,"observedAttributes");Ie(ct,"__styleRootNodeRefCountPerTagName",new WeakMap);Ie(ct,"__elementId",0);fn=ct;Symbol.metadata??(Symbol.metadata=Symbol.for("Symbol.metadata"));function kl(t){return t.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}function Tl(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0,enumerable:!0})}const Mr=[];function mt(t,e){if(arguments.length===2)return eo(t,e,void 0);const n=t;return(r,i)=>eo(r,i,n)}function eo(t,e,n={}){const{kind:r,name:i,private:o,static:s,metadata:a}=e,u=Object.hasOwn(a,"noSignal")&&a.noSignal||void 0,c=!u?.has(i);if(typeof i=="symbol")throw new Error("@attribute is not supported on symbol fields yet.");if(o)throw new Error("@attribute is not supported on private fields yet.");if(s)throw new Error("@attribute is not supported on static fields.");if(Mr.push(h=>cs(h,i,n)),r==="field"){const h=c?Yi(t,e):f=>f;return function(f){return f=h(f),"default"in n||(n.default=f),f}}else if(r==="getter"||r==="setter")c&&Yi(t,e);else throw new Error("@attribute is only for use on fields, getters, and setters. Auto accessor support is coming next if there is demand for it.")}function cs(t,e,n){if(!t.observedAttributes||!t.hasOwnProperty("observedAttributes")){const i=t.__proto__.observedAttributes;if(i&&!Array.isArray(i))throw new TypeError("observedAttributes is in the wrong format. Did you forget to decorate your custom element class with the `@element` decorator?");Tl(t,"observedAttributes",[...i||[]])}if(!Array.isArray(t.observedAttributes))throw new TypeError("observedAttributes is in the wrong format. Maybe you forgot to decorate your custom element class with the `@element` decorator.");const r=kl(e);t.observedAttributes.includes(r)||t.observedAttributes.push(r),Ol(t.prototype,r,e,n)}function Ol(t,e,n,r){if(!t.__hasAttributeChangedCallback){t.__hasAttributeChangedCallback=!0;const i=t.attributeChangedCallback;t.attributeChangedCallback=function(o,s,a){var u,c;i?i.call(this,o,s,a):(c=(u=t.__proto__)==null?void 0:u.attributeChangedCallback)==null||c.call(this,o,s,a);const h=this.__attributesToProps&&this.__attributesToProps[o];if(h){const f=h.attributeHandler;this[h.name]=f?a===null?"default"in f?f.default:null:f.from?f.from(a):a:a}}}t.hasOwnProperty("__attributesToProps")||Object.defineProperty(t,"__attributesToProps",{value:{__proto__:t.__attributesToProps||Object.prototype}}),t.__attributesToProps[e]={name:n,attributeHandler:r}}const Rl=t=>t;mt.string=()=>({from:Rl});function Cn(t,e){return mt(mt.string())(t,e)}const Pl=t=>+t;mt.number=()=>({from:Pl});const Il=t=>t!=="false";mt.boolean=()=>({from:Il});function xl(t,e){return mt(mt.boolean())(t,e)}function Nl(t,e){let n="",r=!0;return n=t,(i,o)=>Ml(i,o,n,r)}function Ml(t,e,n,r){if(typeof t!="function"||e&&e.kind!=="class")throw new Error("@element is only for use on classes.");const{metadata:i={}}=e??{},o=Object.hasOwn(i,"noSignal")&&i.noSignal||void 0;let s=t;const a=s.observedAttributes;if(s.hasOwnProperty("elementName")?n=s.elementName||n:s.elementName=n,!Array.isArray(a)){if(a&&typeof a=="object"){s.observedAttributes=void 0;for(const f in a)cs(s,f,a[f])}}s=Cl(s,e);class u extends s{constructor(...d){super(...d),de(()=>{Ll(this);const S=[],v=u.prototype.__attributesToProps??{};for(const k of Object.values(v)){const T=k.name;!o?.has(T)&&S.push(T);const E=k.attributeHandler;E&&!("default"in E)&&(E.default=this[T])}S.length&&gl(this,...S)})}}const c=[...Mr];Mr.length=0;function h(){var f,d;for(const S of c)S(u);n&&r&&((d=(f=globalThis.window)==null?void 0:f.customElements)==null||d.define(n,u))}return e?.addInitializer?e.addInitializer(h):h(),u}function Ll(t){if(t instanceof ct)for(const[e,n]of t._preUpgradeValues){if(!(e in t))continue;t._preUpgradeValues.delete(e);const r=Object.getOwnPropertyDescriptor(t,e);r&&"value"in r&&delete t[e],t[e]=n}}const jl=["container","code","line","character","textarea"],Dl=`:host {
  display: contents;

  & .container {
    all: inherit;
    display: flex;
    position: relative;
    box-sizing: border-box;
    background: var(--tm-background-color, inherit);
    overflow: auto;
    color: var(--tm-foreground-color, inherit);
  }
}

.container {
  --tm-min-height: calc(var(--tm-line-count) * var(--tm-char-height));
  --tm-min-width: calc(var(--tm-line-size) * 1ch);
  display: flex;
  position: relative;
  box-sizing: border-box;
  background-color: var(--tm-background-color);
  overflow: auto;
  color: var(--tm-foreground-color);
  font-size: 13px;

  & .code {
    display: block;
    position: absolute;
    z-index: 1;
    /* fixes color change when textarea is focused */
    backface-visibility: hidden;
    contain: layout;
    pointer-events: none;
    font-size: inherit;
    line-height: inherit;
    font-family: monospace;
    white-space: pre;

    & .line {
      position: absolute;
      top: calc(var(--tm-line-number) * var(--tm-char-height));
      margin: 0px;

      & span {
        margin: 0px;
        background: transparent !important;
      }
    }
  }

  & .character {
    position: absolute;
    align-self: start;
    visibility: hidden;
    pointer-events: none;
    font-size: inherit;
    line-height: inherit;
  }

  & .textarea {
    transition: color 0.5s;
    outline: none;
    border: none;
    background: transparent;
    padding: 0px;
    width: 100%;
    min-width: var(--tm-min-width);
    height: 100%;
    min-height: var(--tm-min-height);
    overflow: hidden;
    resize: none;
    color: transparent;
    caret-color: var(--tm-foreground-color);
    font-size: inherit;
    line-height: inherit;
    font-family: monospace;
    text-align: inherit;
    white-space: pre;
  }

  & .textarea::selection {
    background: var(--tm-selection-color);
  }
}
`,pr=new Map;function us(t){if(t instanceof CSSStyleSheet)return t;if(!pr.has(t)){const e=new CSSStyleSheet;e.replace(t),pr.set(t,e)}return pr.get(t)}let ls,fs,hs,ds,ps,gs,ms;function Bl(t,e,n,r,i,o){function s(v,k,T){return function(_,E){return T&&T(_),v[k].call(_,E)}}function a(v,k){for(var T=0;T<v.length;T++)v[T].call(k);return k}function u(v,k,T,_){if(typeof v!="function"&&(_||v!==void 0))throw new TypeError(k+" must "+(T||"be")+" a function"+(_?"":" or undefined"));return v}function c(v,k,T,_,E,C,w,g,l,y,m,p,b){function A(Y){if(!b(Y))throw new TypeError("Attempted to access private element on non-instance")}var P,x=k[0],N=k[3],D=!g;if(!D){T||Array.isArray(x)||(x=[x]);var G={},X=[],K=E===3?"get":E===4||p?"set":"value";y?(m||p?G={get:to(function(){return N(this)},_,"get"),set:function(Y){k[4](this,Y)}}:G[K]=N,m||to(G[K],_,E===2?"":K)):m||(G=Object.getOwnPropertyDescriptor(v,_))}for(var q=v,J=x.length-1;J>=0;J-=T?2:1){var se=x[J],te=T?x[J-1]:void 0,V={},j={kind:["field","accessor","method","getter","setter","class"][E],name:_,metadata:C,addInitializer:function(Y,Q){if(Y.v)throw Error("attempted to call addInitializer after decoration was finished");u(Q,"An initializer","be",!0),w.push(Q)}.bind(null,V)};try{if(D)(P=u(se.call(te,q,j),"class decorators","return"))&&(q=P);else{var z,ue;j.static=l,j.private=y,y?E===2?z=function(Y){return A(Y),G.value}:(E<4&&(z=s(G,"get",A)),E!==3&&(ue=s(G,"set",A))):(z=function(Y){return Y[_]},(E<2||E===4)&&(ue=function(Y,Q){Y[_]=Q}));var B=j.access={has:y?b.bind():function(Y){return _ in Y}};if(z&&(B.get=z),ue&&(B.set=ue),q=se.call(te,p?{get:G.get,set:G.set}:G[K],j),p){if(typeof q=="object"&&q)(P=u(q.get,"accessor.get"))&&(G.get=P),(P=u(q.set,"accessor.set"))&&(G.set=P),(P=u(q.init,"accessor.init"))&&X.push(P);else if(q!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else u(q,(m?"field":"method")+" decorators","return")&&(m?X.push(q):G[K]=q)}}finally{V.v=!0}}return(m||p)&&g.push(function(Y,Q){for(var le=X.length-1;le>=0;le--)Q=X[le].call(Y,Q);return Q}),m||D||(y?p?g.push(s(G,"get"),s(G,"set")):g.push(E===2?G[K]:s.call.bind(G[K])):Object.defineProperty(v,_,G)),q}function h(v,k){return Object.defineProperty(v,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:k})}if(arguments.length>=6)var f=o[Symbol.metadata||Symbol.for("Symbol.metadata")];var d=Object.create(f??null),S=function(v,k,T,_){var E,C,w=[],g=function(K){return Fl(K)===v},l=new Map;function y(K){K&&w.push(a.bind(null,K))}for(var m=0;m<k.length;m++){var p=k[m];if(Array.isArray(p)){var b=p[1],A=p[2],P=p.length>3,x=16&b,N=!!(8&b),D=(b&=7)==0,G=A+"/"+N;if(!D&&!P){var X=l.get(G);if(X===!0||X===3&&b!==4||X===4&&b!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+A);l.set(G,!(b>2)||b)}c(N?v:v.prototype,p,x,P?"#"+A:Gl(A),b,_,N?C=C||[]:E=E||[],w,N,P,D,b===1,N&&P?g:T)}}return y(E),y(C),w}(t,e,i,d);return n.length||h(t,d),{e:S,get c(){var v=[];return n.length&&[h(c(t,[n],r,t.name,5,d,v),d),a.bind(null,v,t)]}}}function Gl(t){var e=$l(t,"string");return typeof e=="symbol"?e:e+""}function $l(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function to(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function Fl(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}const Ul=ll(Object.fromEntries(jl.map(t=>[t,t]))),Wl=us(Dl);fs=[Nl("tm-textarea")];let ys;const Hl=class extends ct{constructor(){super(...arguments),Ie(this,"editable",hs(this,!0)),Ie(this,"grammar",ds(this,"tsx")),Ie(this,"stylesheet",ps(this,"")),Ie(this,"theme",gs(this,"dark-plus")),Ie(this,"value",ms(this,"")),Ie(this,"template",()=>{const e=this,n=this.shadowRoot.adoptedStyleSheets;return n.push(Wl),this.stylesheet&&n.push(us(this.stylesheet)),$e(Ul,{get grammar(){return e.grammar},get theme(){return e.theme},get value(){return e.value},get editable(){return e.editable},onInput:r=>e.value=r.currentTarget.value})})}};({e:[hs,ds,ps,gs,ms],c:[ys,ls]}=Bl(Hl,[[xl,0,"editable"],[Cn,0,"grammar"],[Cn,0,"stylesheet"],[Cn,0,"theme"],[Cn,0,"value"]],fs,0,void 0,ct));ls();function zl(){customElements.get("tm-textarea")||customElements.define("tm-textarea",ys)}var ql=jt("<div>");zl();const Xl=location.hash?JSON.parse(Vo.decompressFromEncodedURIComponent(location.hash.slice(1))):{"src/index.css":`body {
background: blue;
}
/* .test */
.button {
background: red;
}
  `,"src/index.tsx":`import { render } from "solid-js/web";
import { dispose } from "@repl/std";
import "solid-js/jsx-runtime";
import "./index.css";

function App() {
return (
  <button class="button" >
    hello
  </button>
);
}

dispose('src/index.tsx', render(() => <App />, document.body));`},Vl=()=>{const[t]=rt(async()=>{const[e,n]=await Promise.all([zc(),Promise.all([Xc(),qc({plugins:[["proposal-decorators",{version:"2023-11"}]],presets:["babel-preset-solid@1.8.22"]})])]);return new ya({importExternalTypes:!0,transformModulePaths:e,tsconfig:{target:2,module:5,jsx:1,jsxImportSource:"solid-js",esModuleInterop:!0,allowSyntheticDefaultImports:!0,forceConsistentCasingInFileNames:!0,isolatedModules:!0,resolveJsonModule:!0,skipLibCheck:!0,strict:!0,noEmit:!1,outDir:"./dist"},transform:n,files:Xl}).initialize()});return(()=>{var e=ql();return e.style.setProperty("display","grid"),e.style.setProperty("grid-template-columns","1fr 1fr"),e.style.setProperty("height","100%"),e.style.setProperty("overflow","hidden"),Dr(e,$e(wr,{get when(){return t()},children:n=>[$e(Hc,{get runtime(){return n()},path:"src/index.tsx",get monaco(){return Mu.init()},theme:$u,style:{flex:"1"}}),$e(Sa,{get runtime(){return n()},style:{flex:"1"},onReady:r=>{const i=n().getFile("src/index.tsx");let o;function s({url:a}){o?.(),a&&(r.clearBody(),o=r.injectModuleUrl(a))}i.onUrl(s),i.onSource(()=>{location.hash=Vo.compressToEncodedURIComponent(JSON.stringify(n().fs.toJSON().sources))}),s(i)}})]})),e})()};lo(()=>$e(Vl,{}),document.getElementById("root"));
