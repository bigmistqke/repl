(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const Wo=(t,e)=>t===e,xe=Symbol("solid-proxy"),Dn=Symbol("solid-track"),Bn={equals:Wo};let Ho=Yo;const He=1,Gn=2,zo={owned:null,cleanups:null,context:null,owner:null},hr={};var ce=null;let dr=null,ya=null,le=null,_e=null,Je=null,Qn=0;function Ye(t,e){const n=le,r=ce,i=t.length===0,o=e===void 0?r:e,s=i?zo:{owned:null,cleanups:null,context:o?o.context:null,owner:o},a=i?t:()=>t(()=>fe(()=>Zn(s)));ce=s,le=null;try{return at(a,!0)}finally{le=n,ce=r}}function de(t,e){e=e?Object.assign({},Bn,e):Bn;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Jo(n,i));return[Xo.bind(n),r]}function Si(t,e,n){const r=_n(t,e,!0,He);Ct(r)}function Oe(t,e,n){const r=_n(t,e,!1,He);Ct(r)}function Pe(t,e,n){Ho=Ta;const r=_n(t,e,!1,He);(!n||!n.render)&&(r.user=!0),Je?Je.push(r):Ct(r)}function pe(t,e,n){n=n?Object.assign({},Bn,n):Bn;const r=_n(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Ct(r),Xo.bind(r)}function va(t){return t&&typeof t=="object"&&"then"in t}function We(t,e,n){let r,i,o;arguments.length===2&&typeof e=="object"||arguments.length===1?(r=!0,i=t,o=e||{}):(r=t,i=e,o=n||{});let s=null,a=hr,c=!1,u="initialValue"in o,h=typeof r=="function"&&pe(r);const f=new Set,[p,T]=(o.storage||de)(o.initialValue),[g,C]=de(void 0),[k,m]=de(void 0,{equals:!1}),[w,E]=de(u?"ready":"unresolved");function A(y,d,b,S){return s===y&&(s=null,S!==void 0&&(u=!0),(y===a||d===a)&&o.onHydrated&&queueMicrotask(()=>o.onHydrated(S,{value:d})),a=hr,_(d,b)),d}function _(y,d){at(()=>{d===void 0&&T(()=>y),E(d!==void 0?"errored":u?"ready":"unresolved"),C(d);for(const b of f.keys())b.decrement();f.clear()},!1)}function l(){const y=Aa,d=p(),b=g();if(b!==void 0&&!s)throw b;return le&&!le.user&&y&&Si(()=>{k(),s&&(y.resolved||f.has(y)||(y.increment(),f.add(y)))}),d}function v(y=!0){if(y!==!1&&c)return;c=!1;const d=h?h():r;if(d==null||d===!1){A(s,fe(p));return}const b=a!==hr?a:fe(()=>i(d,{value:p(),refetching:y}));return va(b)?(s=b,"value"in b?(b.status==="success"?A(s,b.value,void 0,d):A(s,void 0,Pr(b.value),d),b):(c=!0,queueMicrotask(()=>c=!1),at(()=>{E(u?"refreshing":"pending"),m()},!1),b.then(S=>A(b,S,void 0,d),S=>A(b,void 0,Pr(S),d)))):(A(s,b,void 0,d),b)}return Object.defineProperties(l,{state:{get:()=>w()},error:{get:()=>g()},loading:{get(){const y=w();return y==="pending"||y==="refreshing"}},latest:{get(){if(!u)return l();const y=g();if(y&&!s)throw y;return p()}}}),h?Si(()=>v(!1)):v(!1),[l,{refetch:v,mutate:T}]}function Ai(t,e=Wo,n){const r=new Map,i=_n(o=>{const s=t();for(const[a,c]of r.entries())if(e(a,s)!==e(a,o))for(const u of c.values())u.state=He,u.pure?_e.push(u):Je.push(u);return s},void 0,!0,He);return Ct(i),o=>{const s=le;if(s){let a;(a=r.get(o))?a.add(s):r.set(o,a=new Set([s])),Ie(()=>{a.delete(s),!a.size&&r.delete(o)})}return e(o,i.value)}}function Vr(t){return at(t,!1)}function fe(t){if(le===null)return t();const e=le;le=null;try{return t()}finally{le=e}}function _a(t,e,n){const r=Array.isArray(t);let i,o=n&&n.defer;return s=>{let a;if(r){a=Array(t.length);for(let u=0;u<t.length;u++)a[u]=t[u]()}else a=t();if(o)return o=!1,s;const c=fe(()=>e(a,i,s));return i=a,c}}function qo(t){Pe(()=>fe(t))}function Ie(t){return ce===null||(ce.cleanups===null?ce.cleanups=[t]:ce.cleanups.push(t)),t}function Lt(){return le}function ft(){return ce}function Ko(t,e){const n=ce,r=le;ce=t,le=null;try{return at(e,!0)}catch(i){Qr(i)}finally{ce=n,le=r}}function ba(t,e){const n=Symbol("context");return{id:n,Provider:ka(n),defaultValue:t}}function wa(t){let e;return ce&&ce.context&&(e=ce.context[t.id])!==void 0?e:t.defaultValue}function Sa(t){const e=pe(t),n=pe(()=>Ir(e()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let Aa;function Xo(){if(this.sources&&this.state)if(this.state===He)Ct(this);else{const t=_e;_e=null,at(()=>Un(this),!1),_e=t}if(le){const t=this.observers?this.observers.length:0;le.sources?(le.sources.push(this),le.sourceSlots.push(t)):(le.sources=[this],le.sourceSlots=[t]),this.observers?(this.observers.push(le),this.observerSlots.push(le.sources.length-1)):(this.observers=[le],this.observerSlots=[le.sources.length-1])}return this.value}function Jo(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&at(()=>{for(let i=0;i<t.observers.length;i+=1){const o=t.observers[i],s=dr&&dr.running;s&&dr.disposed.has(o),(s?!o.tState:!o.state)&&(o.pure?_e.push(o):Je.push(o),o.observers&&Vo(o)),s||(o.state=He)}if(_e.length>1e6)throw _e=[],new Error},!1)),e}function Ct(t){if(!t.fn)return;Zn(t);const e=Qn;Ca(t,t.value,e)}function Ca(t,e,n){let r;const i=ce,o=le;le=ce=t;try{r=t.fn(e)}catch(s){return t.pure&&(t.state=He,t.owned&&t.owned.forEach(Zn),t.owned=null),t.updatedAt=n+1,Qr(s)}finally{le=o,ce=i}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?Jo(t,r):t.value=r,t.updatedAt=n)}function _n(t,e,n,r=He,i){const o={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:ce,context:ce?ce.context:null,pure:n};return ce===null||ce!==zo&&(ce.owned?ce.owned.push(o):ce.owned=[o]),o}function Fn(t){if(t.state===0)return;if(t.state===Gn)return Un(t);if(t.suspense&&fe(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Qn);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===He)Ct(t);else if(t.state===Gn){const r=_e;_e=null,at(()=>Un(t,e[0]),!1),_e=r}}function at(t,e){if(_e)return t();let n=!1;e||(_e=[]),Je?n=!0:Je=[],Qn++;try{const r=t();return Ea(n),r}catch(r){n||(Je=null),_e=null,Qr(r)}}function Ea(t){if(_e&&(Yo(_e),_e=null),t)return;const e=Je;Je=null,e.length&&at(()=>Ho(e),!1)}function Yo(t){for(let e=0;e<t.length;e++)Fn(t[e])}function Ta(t){let e,n=0;for(e=0;e<t.length;e++){const r=t[e];r.user?t[n++]=r:Fn(r)}for(e=0;e<n;e++)Fn(t[e])}function Un(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const r=t.sources[n];if(r.sources){const i=r.state;i===He?r!==e&&(!r.updatedAt||r.updatedAt<Qn)&&Fn(r):i===Gn&&Un(r,e)}}}function Vo(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=Gn,n.pure?_e.push(n):Je.push(n),n.observers&&Vo(n))}}function Zn(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),s=n.observerSlots.pop();r<i.length&&(o.sourceSlots[s]=r,i[r]=o,n.observerSlots[r]=s)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)Zn(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function Pr(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function Qr(t,e=ce){throw Pr(t)}function Ir(t){if(typeof t=="function"&&!t.length)return Ir(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=Ir(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}function ka(t,e){return function(r){let i;return Oe(()=>i=fe(()=>(ce.context={...ce.context,[t]:r.value},Sa(()=>r.children))),void 0),i}}const xr=Symbol("fallback");function Wn(t){for(let e=0;e<t.length;e++)t[e]()}function Ci(t,e,n={}){let r=[],i=[],o=[],s=0,a=e.length>1?[]:null;return Ie(()=>Wn(o)),()=>{let c=t()||[],u=c.length,h,f;return c[Dn],fe(()=>{let T,g,C,k,m,w,E,A,_;if(u===0)s!==0&&(Wn(o),o=[],r=[],i=[],s=0,a&&(a=[])),n.fallback&&(r=[xr],i[0]=Ye(l=>(o[0]=l,n.fallback())),s=1);else if(s===0){for(i=new Array(u),f=0;f<u;f++)r[f]=c[f],i[f]=Ye(p);s=u}else{for(C=new Array(u),k=new Array(u),a&&(m=new Array(u)),w=0,E=Math.min(s,u);w<E&&r[w]===c[w];w++);for(E=s-1,A=u-1;E>=w&&A>=w&&r[E]===c[A];E--,A--)C[A]=i[E],k[A]=o[E],a&&(m[A]=a[E]);for(T=new Map,g=new Array(A+1),f=A;f>=w;f--)_=c[f],h=T.get(_),g[f]=h===void 0?-1:h,T.set(_,f);for(h=w;h<=E;h++)_=r[h],f=T.get(_),f!==void 0&&f!==-1?(C[f]=i[h],k[f]=o[h],a&&(m[f]=a[h]),f=g[f],T.set(_,f)):o[h]();for(f=w;f<u;f++)f in C?(i[f]=C[f],o[f]=k[f],a&&(a[f]=m[f],a[f](f))):i[f]=Ye(p);i=i.slice(0,s=u),r=c.slice(0)}return i});function p(T){if(o[f]=T,a){const[g,C]=de(f);return a[f]=C,e(c[f],g)}return e(c[f])}}}function Oa(t,e,n={}){let r=[],i=[],o=[],s=[],a=0,c;return Ie(()=>Wn(o)),()=>{const u=t()||[],h=u.length;return u[Dn],fe(()=>{if(h===0)return a!==0&&(Wn(o),o=[],r=[],i=[],a=0,s=[]),n.fallback&&(r=[xr],i[0]=Ye(p=>(o[0]=p,n.fallback())),a=1),i;for(r[0]===xr&&(o[0](),o=[],r=[],i=[],a=0),c=0;c<h;c++)c<r.length&&r[c]!==u[c]?s[c](()=>u[c]):c>=r.length&&(i[c]=Ye(f));for(;c<r.length;c++)o[c]();return a=s.length=o.length=h,r=u.slice(0),i=i.slice(0,a)});function f(p){o[c]=p;const[T,g]=de(u[c]);return s[c]=g,e(T,c)}}}function it(t,e){return fe(()=>t(e||{}))}function Tn(){return!0}const Nr={get(t,e,n){return e===xe?n:t.get(e)},has(t,e){return e===xe?!0:t.has(e)},set:Tn,deleteProperty:Tn,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:Tn,deleteProperty:Tn}},ownKeys(t){return t.keys()}};function pr(t){return(t=typeof t=="function"?t():t)?t:{}}function Ra(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function Mr(...t){let e=!1;for(let s=0;s<t.length;s++){const a=t[s];e=e||!!a&&xe in a,t[s]=typeof a=="function"?(e=!0,pe(a)):a}if(e)return new Proxy({get(s){for(let a=t.length-1;a>=0;a--){const c=pr(t[a])[s];if(c!==void 0)return c}},has(s){for(let a=t.length-1;a>=0;a--)if(s in pr(t[a]))return!0;return!1},keys(){const s=[];for(let a=0;a<t.length;a++)s.push(...Object.keys(pr(t[a])));return[...new Set(s)]}},Nr);const n={},r=Object.create(null);for(let s=t.length-1;s>=0;s--){const a=t[s];if(!a)continue;const c=Object.getOwnPropertyNames(a);for(let u=c.length-1;u>=0;u--){const h=c[u];if(h==="__proto__"||h==="constructor")continue;const f=Object.getOwnPropertyDescriptor(a,h);if(!r[h])r[h]=f.get?{enumerable:!0,configurable:!0,get:Ra.bind(n[h]=[f.get.bind(a)])}:f.value!==void 0?f:void 0;else{const p=n[h];p&&(f.get?p.push(f.get.bind(a)):f.value!==void 0&&p.push(()=>f.value))}}}const i={},o=Object.keys(r);for(let s=o.length-1;s>=0;s--){const a=o[s],c=r[a];c&&c.get?Object.defineProperty(i,a,c):i[a]=c?c.value:void 0}return i}function Ei(t,...e){if(xe in t){const i=new Set(e.length>1?e.flat():e[0]),o=e.map(s=>new Proxy({get(a){return s.includes(a)?t[a]:void 0},has(a){return s.includes(a)&&a in t},keys(){return s.filter(a=>a in t)}},Nr));return o.push(new Proxy({get(s){return i.has(s)?void 0:t[s]},has(s){return i.has(s)?!1:s in t},keys(){return Object.keys(t).filter(s=>!i.has(s))}},Nr)),o}const n={},r=e.map(()=>({}));for(const i of Object.getOwnPropertyNames(t)){const o=Object.getOwnPropertyDescriptor(t,i),s=!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable;let a=!1,c=0;for(const u of e)u.includes(i)&&(a=!0,s?r[c][i]=o.value:Object.defineProperty(r[c],i,o)),++c;a||(s?n[i]=o.value:Object.defineProperty(n,i,o))}return[...r,n]}const Pa=t=>`Stale read from <${t}>.`;function Ti(t){const e="fallback"in t&&{fallback:()=>t.fallback};return pe(Oa(()=>t.each,t.children,e||void 0))}function Lr(t){const e=t.keyed,n=pe(()=>t.when,void 0,{equals:(r,i)=>e?r===i:!r==!i});return pe(()=>{const r=n();if(r){const i=t.children;return typeof i=="function"&&i.length>0?fe(()=>i(e?r:()=>{if(!fe(n))throw Pa("Show");return t.when})):i}return t.fallback},void 0,void 0)}const Ia=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],xa=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Ia]),Na=new Set(["innerHTML","textContent","innerText","children"]),Ma=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),La=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function $a(t,e){const n=La[t];return typeof n=="object"?n[e]?n.$:void 0:n}const ja=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Da={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Ba(t,e,n){let r=n.length,i=e.length,o=r,s=0,a=0,c=e[i-1].nextSibling,u=null;for(;s<i||a<o;){if(e[s]===n[a]){s++,a++;continue}for(;e[i-1]===n[o-1];)i--,o--;if(i===s){const h=o<r?a?n[a-1].nextSibling:n[o-a]:c;for(;a<o;)t.insertBefore(n[a++],h)}else if(o===a)for(;s<i;)(!u||!u.has(e[s]))&&e[s].remove(),s++;else if(e[s]===n[o-1]&&n[a]===e[i-1]){const h=e[--i].nextSibling;t.insertBefore(n[a++],e[s++].nextSibling),t.insertBefore(n[--o],h),e[i]=n[o]}else{if(!u){u=new Map;let f=a;for(;f<o;)u.set(n[f],f++)}const h=u.get(e[s]);if(h!=null)if(a<h&&h<o){let f=s,p=1,T;for(;++f<i&&f<o&&!((T=u.get(e[f]))==null||T!==h+p);)p++;if(p>h-a){const g=e[s];for(;a<h;)t.insertBefore(n[a++],g)}else t.replaceChild(n[a++],e[s++])}else s++;else e[s++].remove()}}}const ki="_$DX_DELEGATE";function Zr(t,e,n,r={}){let i;return Ye(o=>{i=o,e===document?t():ei(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{i(),e.textContent=""}}function Qe(t,e,n){let r;const i=()=>{const s=document.createElement("template");return s.innerHTML=t,n?s.content.firstChild.firstChild:s.content.firstChild},o=e?()=>fe(()=>document.importNode(r||(r=i()),!0)):()=>(r||(r=i())).cloneNode(!0);return o.cloneNode=o,o}function Qo(t,e=window.document){const n=e[ki]||(e[ki]=new Set);for(let r=0,i=t.length;r<i;r++){const o=t[r];n.has(o)||(n.add(o),e.addEventListener(o,Ka))}}function wt(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function Ga(t,e,n,r){r==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r)}function tn(t,e){e==null?t.removeAttribute("class"):t.className=e}function Fa(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const i=n[0];t.addEventListener(e,n[0]=o=>i.call(t,n[1],o))}else t.addEventListener(e,n)}function Ua(t,e,n={}){const r=Object.keys(e||{}),i=Object.keys(n);let o,s;for(o=0,s=i.length;o<s;o++){const a=i[o];!a||a==="undefined"||e[a]||(Oi(t,a,!1),delete n[a])}for(o=0,s=r.length;o<s;o++){const a=r[o],c=!!e[a];!a||a==="undefined"||n[a]===c||!c||(Oi(t,a,!0),n[a]=c)}return n}function Wa(t,e,n){if(!e)return n?wt(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let i,o;for(o in n)e[o]==null&&r.removeProperty(o),delete n[o];for(o in e)i=e[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function Ha(t,e={},n,r){const i={};return r||Oe(()=>i.children=$t(t,e.children,i.children)),Oe(()=>typeof e.ref=="function"&&_t(e.ref,t)),Oe(()=>za(t,e,n,!0,i,!0)),i}function _t(t,e,n){return fe(()=>t(e,n))}function ei(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return $t(t,e,r,n);Oe(i=>$t(t,e(),i,n),r)}function za(t,e,n,r,i={},o=!1){e||(e={});for(const s in i)if(!(s in e)){if(s==="children")continue;i[s]=Ri(t,s,null,i[s],n,o)}for(const s in e){if(s==="children"){r||$t(t,e.children);continue}const a=e[s];i[s]=Ri(t,s,a,i[s],n,o)}}function qa(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function Oi(t,e,n){const r=e.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)t.classList.toggle(r[i],n)}function Ri(t,e,n,r,i,o){let s,a,c,u,h;if(e==="style")return Wa(t,n,r);if(e==="classList")return Ua(t,n,r);if(n===r)return r;if(e==="ref")o||n(t);else if(e.slice(0,3)==="on:"){const f=e.slice(3);r&&t.removeEventListener(f,r),n&&t.addEventListener(f,n)}else if(e.slice(0,10)==="oncapture:"){const f=e.slice(10);r&&t.removeEventListener(f,r,!0),n&&t.addEventListener(f,n,!0)}else if(e.slice(0,2)==="on"){const f=e.slice(2).toLowerCase(),p=ja.has(f);if(!p&&r){const T=Array.isArray(r)?r[0]:r;t.removeEventListener(f,T)}(p||n)&&(Fa(t,f,n,p),p&&Qo([f]))}else if(e.slice(0,5)==="attr:")wt(t,e.slice(5),n);else if((h=e.slice(0,5)==="prop:")||(c=Na.has(e))||!i&&((u=$a(e,t.tagName))||(a=xa.has(e)))||(s=t.nodeName.includes("-")))h&&(e=e.slice(5),a=!0),e==="class"||e==="className"?tn(t,n):s&&!a&&!c?t[qa(e)]=n:t[u||e]=n;else{const f=i&&e.indexOf(":")>-1&&Da[e.split(":")[0]];f?Ga(t,f,e,n):wt(t,Ma[e]||e,n)}return n}function Ka(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[e];if(r&&!n.disabled){const i=n[`${e}Data`];if(i!==void 0?r.call(n,i,t):r.call(n,t),t.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function $t(t,e,n,r,i){for(;typeof n=="function";)n=n();if(e===n)return n;const o=typeof e,s=r!==void 0;if(t=s&&n[0]&&n[0].parentNode||t,o==="string"||o==="number"){if(o==="number"&&(e=e.toString(),e===n))return n;if(s){let a=n[0];a&&a.nodeType===3?a.data!==e&&(a.data=e):a=document.createTextNode(e),n=Ot(t,n,r,a)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||o==="boolean")n=Ot(t,n,r);else{if(o==="function")return Oe(()=>{let a=e();for(;typeof a=="function";)a=a();n=$t(t,a,n,r)}),()=>n;if(Array.isArray(e)){const a=[],c=n&&Array.isArray(n);if($r(a,e,n,i))return Oe(()=>n=$t(t,a,n,r,!0)),()=>n;if(a.length===0){if(n=Ot(t,n,r),s)return n}else c?n.length===0?Pi(t,a,r):Ba(t,n,a):(n&&Ot(t),Pi(t,a));n=a}else if(e.nodeType){if(Array.isArray(n)){if(s)return n=Ot(t,n,r,e);Ot(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function $r(t,e,n,r){let i=!1;for(let o=0,s=e.length;o<s;o++){let a=e[o],c=n&&n[t.length],u;if(!(a==null||a===!0||a===!1))if((u=typeof a)=="object"&&a.nodeType)t.push(a);else if(Array.isArray(a))i=$r(t,a,c)||i;else if(u==="function")if(r){for(;typeof a=="function";)a=a();i=$r(t,Array.isArray(a)?a:[a],Array.isArray(c)?c:[c])||i}else t.push(a),i=!0;else{const h=String(a);c&&c.nodeType===3&&c.data===h?t.push(c):t.push(document.createTextNode(h))}}return i}function Pi(t,e,n=null){for(let r=0,i=e.length;r<i;r++)t.insertBefore(e[r],n)}function Ot(t,e,n,r){if(n===void 0)return t.textContent="";const i=r||document.createTextNode("");if(e.length){let o=!1;for(let s=e.length-1;s>=0;s--){const a=e[s];if(i!==a){const c=a.parentNode===t;!o&&!s?c?t.replaceChild(i,a):t.insertBefore(i,n):c&&a.remove()}else o=!0}}else t.insertBefore(i,n);return[i]}var ti=(t,e)=>{let n;const r=()=>clearTimeout(n);return ft()&&Ie(r),Object.assign((...o)=>{n!==void 0&&r(),n=setTimeout(()=>t(...o),e)},{clear:r})};function ni(t){let e=0,n=!1;const[r,i]=de(void 0,{equals:!1}),o=t(()=>{n=!0,i()});return()=>(n||(o(),r()),n?(n=!!e,!0):(Lt()&&(e++,Ie(()=>e--)),!1))}const Xa=t=>t.split("/").pop()?.split(".")[1];class Zo extends EventTarget{addEventListener(e,n,r){super.addEventListener(e,n,r)}removeEventListener(e,n,r){super.removeEventListener(e,n,r)}dispatchEvent(e){return super.dispatchEvent(e)}}class es extends Event{constructor(e){super("url"),this.url=e}}class ri extends Zo{constructor(e,n,r){super(),this.runtime=e,this.path=n,[this.#e,this.#r]=de(""),this.#n=()=>r!==void 0?r:!!e.config.controlled}#e;#r;#n;get source(){return this.#n()?this.runtime.config.files[this.path]:this.#e()}get extension(){return Xa(this.path)}toJSON(){return this.get()}set(e){this.runtime.config.onFileChange?.(this.path,e),this.#n()||this.#r(e)}get(){return this.#n()?this.runtime.config.files[this.path]:this.#e()}moduleTransform(){const e=this.url;if(!e)throw`Currently module-url of ${this.path} is undefined.`;return e}}function Ja(t,e){return`
import { dispose } from "@repl/std"
(() => {
  let stylesheet = document.querySelector('[data-repl-css-id="${t}"]');
  if(!stylesheet){
    stylesheet = document.createElement('style')
    stylesheet.setAttribute('data-repl-css-id', '${t}');
    document.head.appendChild(stylesheet)
    dispose('${t}', () => stylesheet.remove())
  }
  const styles = document.createTextNode(\`${e}\`)
  stylesheet.innerHTML = ''
  stylesheet.appendChild(styles)
})()`}class Ya extends ri{jsFile;type="css";constructor(e,n){super(e,n),this.jsFile=e.fs.create(n.replace(".css",".js"));const r=ni(i=>ti(i,250));this.jsFile.addEventListener("url",i=>this.dispatchEvent(i)),Pe(()=>{r()&&this.jsFile.set(Ja(n,this.get()))})}generate(){return this.jsFile.generate()}get url(){return this.jsFile.generate()}}function bt(t,e,n){const r=typeof t=="function"?t():t;return r?e(r):n?n():void 0}function ts(t,e,n){return()=>bt(t,e,n)}function Ii(...t){function e(){const n=new Array(t.length);for(let r=0;r<t.length;r++){const i=typeof t[r]=="function"?t[r]():t[r];if(!i)return;n[r]=i}return n}return e}function Fe(t,e){Pe(ts(t,e))}function ii(t,e){const n=e.match(/\.\.\//g)?.length||0;return(n>0?[...t.split("/").slice(0,-(n+1)),...e.split("/").slice(n)]:[...t.split("/").slice(0,-1),...e.split("/").slice(1)]).join("/")}const oi=t=>t.startsWith("blob:")||t.startsWith("http:")||t.startsWith("https:"),si=t=>t.startsWith("."),Va=/(?:@?[^@\/]*\/)?([^@\/]+)@([^\s\/]+)/,xi=t=>{const e=t.match(Va);if(e){const n=e[1],r=e[2];return[n,r]}else return};class mt extends ri{constructor(e,n){super(e,n),this.runtime=e,this.path=n,[this.directDependencies,this.#e]=de([]),[this.#t,this.#i]=de([]);let r=!1;const i=ni(s=>ti(s,250)),[o]=We(()=>[this.get(),!r||i()],async([s])=>{r=!0;try{return Array.isArray(e.config.transform)?e.config.transform.reduce((a,c)=>c(a,n,e),s):e.config.transform(this.get(),this.path,e)}catch(a){console.error("error while transforming js",a)}});this.#n=pe(s=>bt(o,a=>{const c=[],u=new Set(fe(this.directDependencies));try{return Vr(()=>e.config.transformModulePaths(a,h=>{if(oi(h))return h;const f=e.fs.alias[h];if(f||si(h)){const p=e.fs.resolve(f||ii(n,h));if(!p)throw`Could not resolve relative module-path to its virtual file. Are you sure ${h} exists?`;return c.push(p),u.delete(p),p.moduleTransform()}else return e.config.importExternalTypes&&e.types.import.fromPackageName(h),`${e.config.cdn}/${h}`}))}catch(h){return console.warn("error",h),s}finally{this.#e(c);for(const h of u)this.#o(h)}},()=>s)),this.#r=pe(s=>bt(this.generate.bind(this),a=>(this.dispatchEvent(new es(a)),a),()=>s))}directDependencies;#e;#r;#n;#t;#i;get type(){switch(this.extension){case"js":return"javascript";case"jsx":return"javascript";case"ts":return"typescript";case"tsx":return"typescript";default:throw`Unknown extension ${this.extension}`}}onDependencyRemoved(e){this.#i(n=>[...n,e]),Ie(()=>{this.#i(n=>{const r=n.findIndex(i=>i===e);return r!==-1?(n.splice(r,1),[...n]):n})})}#o(e){for(const n of this.#t())n(e)}resolveDependencies(){const e=new Set,n=[...this.directDependencies()];for(;n.length>0;){const r=n.pop();if(r&&!e.has(r)&&(e.add(r),r instanceof mt))for(const i of r.directDependencies())e.has(i)||n.push(i)}return Array.from(e)}generate(){return bt(this.#n.bind(this),e=>URL.createObjectURL(new Blob([e],{type:"application/javascript"})))}get url(){return this.#r()}}const ns=(t,e)=>t.reduce((n,r,i)=>n+r+(e[i]||""),"");function rs(t,...e){const n=URL.createObjectURL(new Blob([ns(t,e)],{type:"text/html"}));return Ie(()=>URL.revokeObjectURL(n)),n}function is(t,...e){const n=URL.createObjectURL(new Blob([ns(t,e)],{type:"text/javascript"}));return Ie(()=>URL.revokeObjectURL(n)),n}class Qa extends ri{#e;generate;type="wasm";constructor(e,n,r){super(e,n,r);const i=ni(o=>ti(o,250));this.generate=()=>{const o=this.get();if(!o)return;const s=Uint8Array.from(atob(o),a=>a.charCodeAt(0));return is`
const wasmCode = new Uint8Array([${s.toString()}]);
export default (imports) =>  WebAssembly.instantiate(wasmCode, imports).then(result => result.instance);
`},this.#e=pe(o=>{if(!i())return o;const s=this.generate();return s?(this.dispatchEvent(new es(s)),s):o})}get url(){return this.#e()}}function os(t,e){return new Promise(n=>{const r=()=>{n(),t.removeEventListener(e,r)};t.addEventListener(e,r)})}class Za{constructor(e){this.iframe=e;const n=e.contentWindow;if(!n)throw"contentWindow is not defined!";this.contentWindow=n}contentWindow;reloading=!1;injectModuleUrl(e){const n=this.contentWindow.document.createElement("script");return n.type="module",n.src=e,this.contentWindow.document.head.appendChild(n),()=>{this.contentWindow.document.head.removeChild(n),URL.revokeObjectURL(e)}}injectFile(e){return Pe(_a(()=>e.url,()=>Ie(()=>this.dispose(e.path)))),e instanceof mt&&e.onDependencyRemoved(n=>this.dispose(n.path)),bt(e.generate(),n=>this.injectModuleUrl(n))}dispose(e){const n=this.contentWindow.repl?.dispose;if(typeof n=="function")return n(e)}reload(){return this.contentWindow.location.reload(),this.reloading=!0,os(this.iframe,"load").then(()=>this.reloading=!1)}clearBody(){this.contentWindow.document.body.innerHTML=""}}class ec{async parse(e){e.startsWith(".")&&(e=new URL(e,window.location.href.toString()).href);const n=await fetch(`${e}/package.json`).then(o=>o.json()),r=typeof n.exports=="string"?n.exports:this.resolveExportPath(e,n.exports,"default","import")||n.module||n.main;if(!r)throw new Error("No valid module entry found for script.");const i=typeof n.exports!="string"&&this.resolveExportPath(e,n.exports,"default","types")||n.types||n.typings;return{typesUrl:i&&new URL(i,`${e}/`).href,scriptUrl:new URL(r,`${e}/`).href,packageName:n.name}}resolveExportPath(e,n,r,i){if(!n)return;function o(s,a){if(s)return typeof s=="string"?s:o(s[a],a)||o(s.default,a)}return o(n[r],r)||o(n[i],i)}}const jr=Symbol("store-raw"),It=Symbol("store-node"),ot=Symbol("store-has"),ss=Symbol("store-self");function as(t){let e=t[xe];if(!e&&(Object.defineProperty(t,xe,{value:e=new Proxy(t,rc)}),!Array.isArray(t))){const n=Object.keys(t),r=Object.getOwnPropertyDescriptors(t);for(let i=0,o=n.length;i<o;i++){const s=n[i];r[s].get&&Object.defineProperty(t,s,{enumerable:r[s].enumerable,get:r[s].get.bind(e)})}}return e}function Hn(t){let e;return t!=null&&typeof t=="object"&&(t[xe]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function jt(t,e=new Set){let n,r,i,o;if(n=t!=null&&t[jr])return n;if(!Hn(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let s=0,a=t.length;s<a;s++)i=t[s],(r=jt(i,e))!==i&&(t[s]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const s=Object.keys(t),a=Object.getOwnPropertyDescriptors(t);for(let c=0,u=s.length;c<u;c++)o=s[c],!a[o].get&&(i=t[o],(r=jt(i,e))!==i&&(t[o]=r))}return t}function zn(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function hn(t,e,n){if(t[e])return t[e];const[r,i]=de(n,{equals:!1,internal:!0});return r.$=i,t[e]=r}function tc(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===xe||e===It||(delete n.value,delete n.writable,n.get=()=>t[xe][e]),n}function cs(t){Lt()&&hn(zn(t,It),ss)()}function nc(t){return cs(t),Reflect.ownKeys(t)}const rc={get(t,e,n){if(e===jr)return t;if(e===xe)return n;if(e===Dn)return cs(t),n;const r=zn(t,It),i=r[e];let o=i?i():t[e];if(e===It||e===ot||e==="__proto__")return o;if(!i){const s=Object.getOwnPropertyDescriptor(t,e);Lt()&&(typeof o!="function"||t.hasOwnProperty(e))&&!(s&&s.get)&&(o=hn(r,e,o)())}return Hn(o)?as(o):o},has(t,e){return e===jr||e===xe||e===Dn||e===It||e===ot||e==="__proto__"?!0:(Lt()&&hn(zn(t,ot),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:nc,getOwnPropertyDescriptor:tc};function qn(t,e,n,r=!1){if(!r&&t[e]===n)return;const i=t[e],o=t.length;n===void 0?(delete t[e],t[ot]&&t[ot][e]&&i!==void 0&&t[ot][e].$()):(t[e]=n,t[ot]&&t[ot][e]&&i===void 0&&t[ot][e].$());let s=zn(t,It),a;if((a=hn(s,e,i))&&a.$(()=>n),Array.isArray(t)&&t.length!==o){for(let c=t.length;c<o;c++)(a=s[c])&&a.$();(a=hn(s,"length",o))&&a.$(t.length)}(a=s[ss])&&a.$()}function us(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const i=n[r];qn(t,i,e[i])}}function ic(t,e){if(typeof e=="function"&&(e=e(t)),e=jt(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){const i=e[n];t[n]!==i&&qn(t,n,i)}qn(t,"length",r)}else us(t,e)}function nn(t,e,n=[]){let r,i=t;if(e.length>1){r=e.shift();const s=typeof r,a=Array.isArray(t);if(Array.isArray(r)){for(let c=0;c<r.length;c++)nn(t,[r[c]].concat(e),n);return}else if(a&&s==="function"){for(let c=0;c<t.length;c++)r(t[c],c)&&nn(t,[c].concat(e),n);return}else if(a&&s==="object"){const{from:c=0,to:u=t.length-1,by:h=1}=r;for(let f=c;f<=u;f+=h)nn(t,[f].concat(e),n);return}else if(e.length>1){nn(t[r],e,[r].concat(n));return}i=t[r],n=[r].concat(n)}let o=e[0];typeof o=="function"&&(o=o(i,n),o===i)||r===void 0&&o==null||(o=jt(o),r===void 0||Hn(i)&&Hn(o)&&!Array.isArray(o)?us(i,o):qn(t,r,o))}function Kn(...[t,e]){const n=jt(t||{}),r=Array.isArray(n),i=as(n);function o(...s){Vr(()=>{r&&s.length===1?ic(n,s[0]):nn(n,s)})}return[i,o]}const oc=`/**
 * Standard library that is included in each FileSystem, aliased to \`@repl/std\`
 */

const cleanups = new Map<string, () => void>()
/** Add function to clean-up side-effects after module is reload. */
export const dispose = (id: string, callback: () => void) => cleanups.set(id, callback)

// Extend the Window interface in the same file
declare global {
  interface Window {
    repl?: {
      dispose: (id?: string) => void
    }
  }
}

window.repl = {
  dispose(id?: string) {
    if (id) {
      cleanups.get(id)?.()
    } else {
      cleanups.forEach(cleanup => cleanup())
    }
  },
}
`;class sc extends Event{constructor(e){super("file"),this.file=e}}class ac extends Zo{constructor(e){super(),this.runtime=e;const[n,r]=Kn({});this.#e=n,this.#r=r,[this.alias,this.setAlias]=Kn({"@repl/std":"@repl/std.ts"}),Ie(()=>this.#n.forEach(i=>i()))}alias;setAlias;#e;#r;#n=[];initialize(e){const n={...e,"@repl/std.ts":oc};for(const[r,i]of Object.entries(n))this.create(r).set(i)}toJSON(){return{sources:Object.fromEntries(Object.entries(this.#e).map(([e,n])=>[e,n.toJSON()])),alias:this.alias}}addProject(e){Object.entries(e).forEach(([n,r])=>{this.create(n).set(r)})}create(e){let n=null;for(const i in this.runtime.extensions)e.endsWith(i)&&i.length>(n?.length||0)&&(n=i);if(n===null)throw"extension type is not supported";const r=new this.runtime.extensions[n](this.runtime,e);return this.#r(e,r),this.dispatchEvent(new sc(r)),r}has(e){return e in this.#e}get(e){return this.#e[e]}getOrCreate(e){return this.runtime.fs.get(e)||this.runtime.fs.create(e)}resolve(e){return this.#e[e]||this.#e[`${e}/index.ts`]||this.#e[`${e}/index.tsx`]||this.#e[`${e}/index.d.ts`]||this.#e[`${e}/index.js`]||this.#e[`${e}/index.jsx`]||this.#e[`${e}.ts`]||this.#e[`${e}.tsx`]||this.#e[`${e}.d.ts`]||this.#e[`${e}.js`]||this.#e[`${e}.jsx`]}all(){return Object.fromEntries(Object.entries(this.#e).filter(([e])=>e.split("/")[0]!=="node_modules"))}remove(e){this.#r({[e]:void 0})}}class cc{constructor(e){this.runtime=e}packageJsonParser=new ec;async fromPackageJson(e){const n=o=>oi(o)?new URL(o).pathname:o,[r]=We(()=>this.packageJsonParser.parse(e)),[i]=We(r,async({scriptUrl:o,packageName:s})=>{const a={},c=async u=>{const h=n(u),f=await fetch(u).then(g=>{if(g.status!==200)throw new Error(`Error while loading ${u}: ${g.statusText}`);return g.text()}),p=[],T=await this.runtime.config.transformModulePaths(f,g=>(si(g)&&p.push(c(ii(u,g))),g));if(!T)throw new Error(`Transform returned undefined for ${h}`);await Promise.all(p),a[h]=T};return await c(o),this.runtime.fs.setAlias(s,`node_modules${n(o)}`),a});Fe(r,({typesUrl:o,packageName:s})=>{o&&this.runtime.types.import.fromUrl(o,s)}),Fe(i,o=>Object.entries(o).forEach(([s,a])=>{this.runtime.fs.create(`node_modules${s}`).set(a)}))}}function ls(t,...e){return[`%c[REPL]%c ${t}`,"color: red","",...e]}class uc{constructor(e,n){this.runtime=e,this.typeRegistry=n}cachedUrls=new Set;cachedPackageNames=new Set;initialize(e){e.sources&&Object.keys(e.sources).forEach(n=>{this.cachedUrls.add(n)}),e.alias&&Object.entries(e.alias).forEach(([n])=>{this.cachedPackageNames.add(n)})}async fromUrl(e,n){const r=this.getVirtualPath(e);if(n&&this.cachedPackageNames.has(n)||this.cachedUrls.has(r))return;this.cachedUrls.add(r),n&&this.cachedPackageNames.add(n);const i=async o=>{const s=this.getVirtualPath(o);if(this.typeRegistry.has(s))return;this.typeRegistry.set(s,null);const a=await fetch(o).then(h=>(h.status,h.text())),c=[],u=await this.runtime.config.transformModulePaths(a,h=>{if(si(h)){if(c.push(i(ii(o,h))),h.endsWith(".js"))return h=h.replace(".js",".d.ts"),h}else if(oi(h)){let f=this.getVirtualPath(h);return bt(xi(f),([p,T])=>{for(const g of Object.keys(this.typeRegistry.sources))if(bt(xi(g),([k,m])=>k===p?(T!==m&&(console.warn(`Conflicting version numbers: Overwriting version number of ${p} from ${T} to ${m}.
Accessed ${h} from ${o}.`),h=h.replace(T,m),f=f.replace(T,m)),!0):!1))break}),c.push(this.fromUrl(h)),this.typeRegistry.aliasPath(f,`file:///node_modules/${f}`),f}else c.push(this.fromPackageName(h));return h});if(!u)throw new Error(`Transform returned undefined for ${s}`);await Promise.all(c),this.typeRegistry.set(s,u)};await i(e),n&&(this.cachedPackageNames.add(n),this.typeRegistry.aliasPath(n,`file:///node_modules/${r}`))}async fromPackageName(e){if(this.cachedPackageNames.has(e))return;this.cachedPackageNames.add(e);const n=await fetch(`${this.runtime.config.cdn}/${e}`).then(i=>i.headers.get("X-TypeScript-Types")).catch(i=>{console.info(i)});if(!n){console.error(...ls("no type url was found for package",e));return}const r=this.getVirtualPath(n);await this.fromUrl(n),this.typeRegistry.aliasPath(e,`file:///node_modules/${r}`)}getVirtualPath(e){return e.replace(`${this.runtime.config.cdn}/`,"").replace("http://","").split("/").slice(1).join("/")}}class lc{constructor(e){this.runtime=e,[this.sources,this.setSources]=Kn({}),[this.alias,this.setAlias]=Kn({}),this.import=new uc(e,this)}sources;setSources;alias;setAlias;import;toJSON(){return{alias:this.alias,sources:this.sources}}initialize(e){Vr(()=>{e.sources&&this.setSources(e.sources),e.alias&&(this.setAlias(e.alias),Object.entries(e.alias).forEach(([n,r])=>{this.aliasPath(n,r[0])}))}),this.import.initialize(e)}aliasPath(e,n){this.setAlias(e,[n])}set(e,n){this.setSources(e,n)}has(e){return e in this.sources}}class fc{config;fs;types;import;get extensions(){return{css:Ya,js:mt,jsx:mt,ts:mt,tsx:mt,wasm:Qa,...this.config.extensions}}initialized=!1;constructor(e){this.config=Mr({cdn:"https://esm.sh"},e),this.fs=new ac(this),this.import=new cc(this),this.types=new lc(this)}toJSON(){return{files:this.fs.toJSON(),types:this.types.toJSON()}}initialize(){return this.config.files&&this.fs.initialize(this.config.files),this.initialized=!0,this}download(e="repl.config.json"){const n=this.toJSON(),r=new Blob([JSON.stringify(n)],{type:"text/json"}),i=document.createElement("a");i.download=e,i.href=window.URL.createObjectURL(r),i.dataset.downloadurl=["text/json",i.download,i.href].join(":");const o=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});i.dispatchEvent(o),i.remove()}getFile(e,n=!0){return this.fs.get(e)||fe(()=>n?this.fs.create(e):void 0)}setFile(e,n,r){return this.getFile(e,r)?.set(n)}}function hc(t){const[e,n]=de(!0);return Pe(()=>e()&&t()),{stop:()=>n(!1),resume:()=>n(!0)}}function dc(t){return class extends t{#e=new Set;createEffect(n){this.#o(n)}stopEffects(){this.#s()}#r(n){let r=null;r=hc(()=>{r&&this.#e.add(r),Pe(n),Ie(()=>this.#e.delete(r))}),this.#e.add(r)}#n(){for(const n of this.#e)n.stop()}#t=null;#i=null;#o(n){if(!this.#t)Ye(r=>{this.#t=ft(),this.#i=r,this.#o(n)});else{let r=ft();for(;r&&r!==this.#t;)r=r?.owner??null;if(r===this.#t)return Pe(n);Ko(this.#t,()=>Pe(n))}}#s(){this.#i?.()}}}function pc(t,e){let n=t,r;for(;n;){if(r=Object.getOwnPropertyDescriptor(n,e),r)return r.owner=n,r;n=n.__proto__}}const kn=new WeakMap;function gc(t,...e){const n=e.length?e:Object.keys(t).concat(Object.getOwnPropertySymbols(t));for(const r of n)fs(t,r);return t}let Ni=!1;function mc(){if(Ni)throw new Error('Export "createSignalAccessor" is internal to classy-solid only.');return Ni=!0,fs}const Mn=new WeakMap;function yc(t,e){return!!Mn.get(t)?.has(e)}function Mi(t,e){Mn.has(t)||Mn.set(t,new Set),Mn.get(t).add(e)}const Li=new WeakSet;function fs(t,e,n=fe(()=>t[e]),r=!1){if(!r&&kn.get(t)?.has(e)||t[xe])return;let o=pc(t,e),s,a;if(o){if(s=o.get,a=o.set,s&&Li.has(s))return;if(s||a){if(!s||!a){console.warn(`The \`@signal\` decorator was used on an accessor named "${e.toString()}" which had a getter or a setter, but not both. Reactivity on accessors works only when accessors have both get and set. In this case the decorator does not do anything.`);return}delete o.get,delete o.set}else{if(n=o.value,!o.writable){console.warn(`The \`@signal\` decorator was used on a property named "${e.toString()}" that is not writable. Reactivity is not enabled for non-writable properties.`);return}delete o.value,delete o.writable}}const c=de(n,{equals:!1});o={configurable:!0,enumerable:!0,...o,get:s?function(){return c[0](),s.call(this)}:function(){return c[0]()},set:a?function(u){a.call(this,u),Mi(this,e),typeof u=="function"?c[1](()=>u):c[1](u)}:function(u){Mi(this,e),typeof u=="function"?c[1](()=>u):c[1](u)}},Li.add(o.get),Object.defineProperty(t,e,o),kn.has(t)||kn.set(t,new Set),kn.get(t).add(e)}let er=new Map,un=null;function vc(){if(un)throw new Error("Attempted use of classy-solid internals.");return un=Symbol(),un}function _c(t){if(t!==un)throw new Error("Attempted use of classy-solid internals.");return er}function bc(t){if(t!==un)throw new Error("Attempted use of classy-solid internals.");er=new Map}function wc(t){return"private"in t}function ct(t,e){const{kind:n,name:r}=e,i=er;if(wc(e)){if(e.private)throw new Error("@signal is not supported on private fields yet.");if(e.static)throw new Error("@signal is not supported on static fields yet.")}if(n==="field")return i.set(r,{initialValue:void 0}),function(o){return i.get(r).initialValue=o,o};if(n==="getter"||n==="setter")i.set(r,{initialValue:void 0});else throw new Error("The @signal decorator is only for use on fields, getters, and setters. Auto accessor support is coming next if there is demand for it.");Sc(i)}let gr=!1;function Sc(t){gr||(gr=!0,queueMicrotask(()=>{if(gr=!1,t===er)throw new Error(`Stray @signal-decorated properties detected: ${Array.from(t.keys()).join(", ")}. Did you forget to use the \`@reactive\` decorator on a class that has properties decorated with \`@signal\`?`)}))}const $i=vc(),Ac=mc(),ji=Object.prototype.hasOwnProperty;function Cc(t,e){if(typeof t!="function"||e&&e.kind!=="class")throw new TypeError("The @reactive decorator is only for use on classes.");const n=t,r=_c($i);bc($i);class i extends n{constructor(...s){let a;Lt()?fe(()=>a=Reflect.construct(n,s,new.target)):(super(...s),a=this);for(const[c,{initialValue:u}]of r){if(!(ji.call(a,c)||ji.call(n.prototype,c)))throw new Error(`Property "${c.toString()}" not found on instance of class decorated with \`@reactive\`. Did you forget to use the \`@reactive\` decorator on one of your classes that has a "${c.toString()}" property decorated with \`@signal\`?`);Ac(a,c,u,!0)}return a}}return i}var rn;let Yt;const Ec=globalThis.HTMLElement??class{constructor(){throw new Error("@lume/element needs a DOM to operate with! If this code is running during server-side rendering, it means your app is trying to instantiate elements when it shouldn't be, and should be refactored to avoid doing that when no DOM is present.")}};let Ve=class extends dc(Ec){static elementName="";static defineElement(e,n=customElements){if(e){if(n.get(e))return console.warn(`defineElement(): An element class was already defined for tag name ${e}.`),this;{const r=class extends this{};return r.elementName=e,n.define(e,r),r}}else return e=this.elementName,n.get(e)?(console.warn(`defineElement(): An element class was already defined for tag name ${e}.`),this):(n.define(e,this),this)}static observedAttributes;#e(){const e=Object.keys(this);this._preUpgradeValues=new Map;for(const n of e){const r=Object.getOwnPropertyDescriptor(this,n);"value"in r&&(delete this[n],this._preUpgradeValues.set(n,r.value),queueMicrotask(()=>{if(yc(this,n))return;n in this.__proto__&&(this[n]=r.value)}))}}#r=this.#e();hasShadow=!0;__root=null;get root(){return this.hasShadow?this.__root?this.__root:this.shadowRoot?this.__root=this.shadowRoot:this.__root=this.attachShadow({mode:"open"}):this}set root(e){if(!this.hasShadow)throw new Error("Can not set root, element.hasShadow is false.");if(this.__root||this.shadowRoot)throw new Error("Element root can only be set once if there is no ShadowRoot.");this.__root=e}get styleRoot(){return this.root}attachShadow(e){return this.__root&&console.warn("Element already has a root defined."),this.__root=super.attachShadow(e)}#n;connectedCallback(){const e=this.template;e&&(this.#n=Zr(typeof e=="function"?e.bind(this):()=>e,this.root)),this.#a()}disconnectedCallback(){this.stopEffects(),this.#n?.(),this.#c()}static __styleRootNodeRefCountPerTagName=new WeakMap;#t=null;#i=e=>`${e} {
		display: block;
	}`;static __elementId=0;#o=rn.__elementId++;#s=null;#a(){Yt=this.constructor;const e=typeof Yt.css=="function"?Yt.css=Yt.css():Yt.css||"",n=typeof this.css=="function"?this.css():this.css||"";if(this.hasShadow){const r=":host",i=document.createElement("style");i.innerHTML=`
				${this.#i(r)}
				${e}
				${n}
			`,this.styleRoot.appendChild(i)}else{const r=this.getRootNode();this.#t=r===document?document.head:r;let i=rn.__styleRootNodeRefCountPerTagName.get(this.#t);i||rn.__styleRootNodeRefCountPerTagName.set(this.#t,i={});const o=i[this.tagName]||0;if(i[this.tagName]=o+1,o===0){const s=this.tagName.toLowerCase(),a=document.createElement("style");a.innerHTML=`
					${this.#i(s)}
					${e&&e.replaceAll(":host",s)}
				`,a.id=this.tagName.toLowerCase(),this.#t.appendChild(a)}if(n){const s=this.tagName.toLowerCase()+"-"+this.#o;this.setAttribute(s,"");const a=this.#s=document.createElement("style");a.id=s,a.innerHTML=n.replaceAll(":host",`[${s}]`);const c=this.getRootNode();this.#t=c===document?document.head:c,this.#t.appendChild(a)}}}#c(){do{if(this.hasShadow)break;const e=rn.__styleRootNodeRefCountPerTagName.get(this.#t);if(!e)break;let n=e[this.tagName];if(n===void 0)break;e[this.tagName]=--n,n===0&&(delete e[this.tagName],this.#t.querySelector("#"+this.tagName)?.remove())}while(!1);this.#s&&this.#s.remove()}adoptedCallback(){}};rn=Ve;Symbol.metadata??=Symbol.for("Symbol.metadata");function Tc(t,...e){let n="";for(let r=0;r<e.length;r++)n+=t[r]+String(e[r]);return n+t[t.length-1]}function kc(t){return t.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}function Oc(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0,enumerable:!0})}const Dr=[];function dn(t,e){if(arguments.length===2)return Di(t,e,void 0);const n=t;return(r,i)=>Di(r,i,n)}function Di(t,e,n={}){const{kind:r,name:i,private:o,static:s,metadata:a}=e,u=!(Object.hasOwn(a,"noSignal")&&a.noSignal||void 0)?.has(i);if(typeof i=="symbol")throw new Error("@attribute is not supported on symbol fields yet.");if(o)throw new Error("@attribute is not supported on private fields yet.");if(s)throw new Error("@attribute is not supported on static fields.");if(Dr.push(h=>hs(h,i,n)),r==="field"){const h=u?ct(t,e):f=>f;return function(f){return f=h(f),"default"in n||(n.default=f),f}}else if(r==="getter"||r==="setter")u&&ct(t,e);else throw new Error("@attribute is only for use on fields, getters, and setters. Auto accessor support is coming next if there is demand for it.")}function hs(t,e,n){if(!t.observedAttributes||!t.hasOwnProperty("observedAttributes")){const i=t.__proto__.observedAttributes;if(i&&!Array.isArray(i))throw new TypeError("observedAttributes is in the wrong format. Did you forget to decorate your custom element class with the `@element` decorator?");Oc(t,"observedAttributes",[...i||[]])}if(!Array.isArray(t.observedAttributes))throw new TypeError("observedAttributes is in the wrong format. Maybe you forgot to decorate your custom element class with the `@element` decorator.");const r=kc(e);t.observedAttributes.includes(r)||t.observedAttributes.push(r),Rc(t.prototype,r,e,n)}function Rc(t,e,n,r){if(!t.__hasAttributeChangedCallback){t.__hasAttributeChangedCallback=!0;const i=t.attributeChangedCallback;t.attributeChangedCallback=function(o,s,a){i?i.call(this,o,s,a):t.__proto__?.attributeChangedCallback?.call(this,o,s,a);const c=this.__attributesToProps&&this.__attributesToProps[o];if(c){const u=c.attributeHandler;this[c.name]=u?a===null?"default"in u?u.default:null:u.from?u.from(a):a:a}}}t.hasOwnProperty("__attributesToProps")||Object.defineProperty(t,"__attributesToProps",{value:{__proto__:t.__attributesToProps||Object.prototype}}),t.__attributesToProps[e]={name:n,attributeHandler:r}}const Pc=t=>t;dn.string=()=>({from:Pc});function Xn(t,e){return dn(dn.string())(t,e)}const Ic=t=>+t;dn.number=()=>({from:Ic});const xc=t=>t!=="false";dn.boolean=()=>({from:xc});function tr(t,e){let n="",r=!!(e??!0);return typeof t=="string"?(n=t,(s,a)=>Bi(s,a,n,r)):(r=!1,Bi(t,e,n,r))}function Bi(t,e,n,r){if(typeof t!="function"||e&&e.kind!=="class")throw new Error("@element is only for use on classes.");const{metadata:i={}}=e??{},o=Object.hasOwn(i,"noSignal")&&i.noSignal||void 0;let s=t;const a=s.observedAttributes;if(s.hasOwnProperty("elementName")?n=s.elementName||n:s.elementName=n,!Array.isArray(a)){if(a&&typeof a=="object"){s.observedAttributes=void 0;for(const f in a)hs(s,f,a[f])}}s=Cc(s,e);class c extends s{constructor(...p){super(...p),fe(()=>{Nc(this);const T=[],g=c.prototype.__attributesToProps??{};for(const C of Object.values(g)){const k=C.name;!o?.has(k)&&T.push(k);const w=C.attributeHandler;w&&!("default"in w)&&(w.default=this[k])}T.length&&gc(this,...T)})}}const u=[...Dr];Dr.length=0;function h(){for(const f of u)f(c);n&&r&&globalThis.window?.customElements?.define(n,c)}return e?.addInitializer?e.addInitializer(h):h(),c}function Nc(t){if(t instanceof Ve)for(const[e,n]of t._preUpgradeValues){if(!(e in t))continue;t._preUpgradeValues.delete(e);const r=Object.getOwnPropertyDescriptor(t,e);r&&"value"in r&&delete t[e],t[e]=n}}const Mc=Tc;var Gi=Object.freeze,Lc=Object.defineProperty,$c=(t,e)=>Gi(Lc(t,"raw",{value:Gi(e||t.slice())})),Fi;let ds,ps,gs,ms,ys;var jc=Qe("<iframe>");function Dc(t,e,n,r,i,o){function s(g,C,k){return function(m,w){return k&&k(m),g[C].call(m,w)}}function a(g,C){for(var k=0;k<g.length;k++)g[k].call(C);return C}function c(g,C,k,m){if(typeof g!="function"&&(m||g!==void 0))throw new TypeError(C+" must "+(k||"be")+" a function"+(m?"":" or undefined"));return g}function u(g,C,k,m,w,E,A,_,l,v,y,d,b){function S(F){if(!b(F))throw new TypeError("Attempted to access private element on non-instance")}var O,P=C[0],N=C[3],L=!_;if(!L){k||Array.isArray(P)||(P=[P]);var I={},W=[],U=w===3?"get":w===4||d?"set":"value";v?(y||d?I={get:Ui(function(){return N(this)},m,"get"),set:function(F){C[4](this,F)}}:I[U]=N,y||Ui(I[U],m,w===2?"":U)):y||(I=Object.getOwnPropertyDescriptor(g,m))}for(var G=g,Q=P.length-1;Q>=0;Q-=k?2:1){var ne=P[Q],Z=k?P[Q-1]:void 0,V={},$={kind:["field","accessor","method","getter","setter","class"][w],name:m,metadata:E,addInitializer:function(F,Y){if(F.v)throw Error("attempted to call addInitializer after decoration was finished");c(Y,"An initializer","be",!0),A.push(Y)}.bind(null,V)};try{if(L)(O=c(ne.call(Z,G,$),"class decorators","return"))&&(G=O);else{var H,ee;$.static=l,$.private=v,v?w===2?H=function(F){return S(F),I.value}:(w<4&&(H=s(I,"get",S)),w!==3&&(ee=s(I,"set",S))):(H=function(F){return F[m]},(w<2||w===4)&&(ee=function(F,Y){F[m]=Y}));var B=$.access={has:v?b.bind():function(F){return m in F}};if(H&&(B.get=H),ee&&(B.set=ee),G=ne.call(Z,d?{get:I.get,set:I.set}:I[U],$),d){if(typeof G=="object"&&G)(O=c(G.get,"accessor.get"))&&(I.get=O),(O=c(G.set,"accessor.set"))&&(I.set=O),(O=c(G.init,"accessor.init"))&&W.push(O);else if(G!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else c(G,(y?"field":"method")+" decorators","return")&&(y?W.push(G):I[U]=G)}}finally{V.v=!0}}return(y||d)&&_.push(function(F,Y){for(var te=W.length-1;te>=0;te--)Y=W[te].call(F,Y);return Y}),y||L||(v?d?_.push(s(I,"get"),s(I,"set")):_.push(w===2?I[U]:s.call.bind(I[U])):Object.defineProperty(g,m,I)),G}function h(g,C){return Object.defineProperty(g,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:C})}if(arguments.length>=6)var f=o[Symbol.metadata||Symbol.for("Symbol.metadata")];var p=Object.create(f??null),T=function(g,C,k,m){var w,E,A=[],_=function(U){return Fc(U)===g},l=new Map;function v(U){U&&A.push(a.bind(null,U))}for(var y=0;y<C.length;y++){var d=C[y];if(Array.isArray(d)){var b=d[1],S=d[2],O=d.length>3,P=16&b,N=!!(8&b),L=(b&=7)==0,I=S+"/"+N;if(!L&&!O){var W=l.get(I);if(W===!0||W===3&&b!==4||W===4&&b!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+S);l.set(I,!(b>2)||b)}u(N?g:g.prototype,d,P,O?"#"+S:Bc(S),b,m,N?E=E||[]:w=w||[],A,N,O,L,b===1,N&&O?_:k)}}return v(w),v(E),A}(t,e,i,p);return n.length||h(t,p),{e:T,get c(){var g=[];return n.length&&[h(u(t,[n],r,t.name,5,p,g),p),a.bind(null,g,t)]}}}function Bc(t){var e=Gc(t,"string");return typeof e=="symbol"?e:e+""}function Gc(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ui(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function Fc(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}ps=[tr("repl-devtools")];let vs;const Uc=class extends Ve{name=gs(this,"default");runtime=ms(this,null);frame=ys(this,null);css=`
    .iframe {
      all: unset;
    }
  `;template=()=>{const e=this,n=rs(Fi||(Fi=$c([`<!doctype html>
      <html lang="en">
        <meta charset="utf-8" />
        <title>DevTools</title>
        <style>
          @media (prefers-color-scheme: dark) {
            body {
              background-color: rgb(41 42 45);
            }
          }
        </style>
        <meta name="referrer" content="no-referrer" />
        <script src="https://unpkg.com/@ungap/custom-elements/es.js"><\/script>
        <script
          type="module"
          src="https://cdn.jsdelivr.net/npm/chii@1.8.0/public/front_end/entrypoints/chii_app/chii_app.js"
        ><\/script>
        <body class="undocked" id="-blink-dev-tools"></body>
      </html>`]))),r=is`
      import('https://cdn.jsdelivr.net/npm/chobitsu').then(shobitsu => {
        const sendToDevtools = (message) => {
          window.parent.postMessage(JSON.stringify(message), '*');
        };
        let id = 0;
        const sendToChobitsu = (message) => {
          message.id = 'tmp' + ++id;
          chobitsu.sendRawMessage(JSON.stringify(message));
        };
        chobitsu.setOnMessage((message) => {
          if (message.includes('"id":"tmp')) return;
          window.parent.postMessage(message, '*');
        });
        window.addEventListener('message', ({ data }) => {
          try {
            const { event, value } = data;
            if (event === 'DEV') {
              chobitsu.sendRawMessage(data.data);
            } else if (event === 'LOADED') {
              sendToDevtools({
                method: 'Page.frameNavigated',
                params: {
                  frame: {
                    id: '1',
                    mimeType: 'text/html',
                    securityOrigin: location.origin,
                    url: location.href,
                  },
                  type: 'Navigation',
                },
              });
              sendToChobitsu({ method: 'Network.enable' });
              sendToDevtools({ method: 'Runtime.executionContextsCleared' });
              sendToChobitsu({ method: 'Runtime.enable' });
              sendToChobitsu({ method: 'Debugger.enable' });
              sendToChobitsu({ method: 'DOMStorage.enable' });
              sendToChobitsu({ method: 'DOM.enable' });
              sendToChobitsu({ method: 'CSS.enable' });
              sendToChobitsu({ method: 'Overlay.enable' });
              sendToDevtools({ method: 'DOM.documentUpdated' });
            }
          } catch (e) {
            console.error(e);
          }
        });
      })`;return(()=>{var i=jc();return _t(o=>{const[s]=We(()=>e.frame,a=>a.contentWindow.document.readyState==="interactive"?a:os(a.contentWindow,"DOMContentLoaded").then(()=>a));Fe(s,a=>{const c=u=>{u.source===a.contentWindow&&o.contentWindow.postMessage(u.data,"*"),u.source===o.contentWindow&&a.contentWindow.postMessage({event:"DEV",data:u.data},"*")};window.addEventListener("message",c),Ie(()=>window.removeEventListener("message",c))}),Fe(s,a=>a.injectModuleUrl(r))},i),Oe(()=>wt(i,"src",`${n}#?embedded=${encodeURIComponent(location.origin)}`)),i})()}};({e:[gs,ms,ys],c:[vs,ds]}=Dc(Uc,[[Xn,0,"name"],[ct,0,"runtime"],[ct,0,"frame"]],ps,0,void 0,Ve));ds();function Wc(){customElements.get("repl-frame")||customElements.define("repl-frame",vs)}var mr;let Wi,_s,Hi,zi,qi;var Hc=Qe("<iframe class=iframe>");function zc(t,e,n,r,i,o){function s(g,C,k){return function(m,w){return k&&k(m),g[C].call(m,w)}}function a(g,C){for(var k=0;k<g.length;k++)g[k].call(C);return C}function c(g,C,k,m){if(typeof g!="function"&&(m||g!==void 0))throw new TypeError(C+" must "+(k||"be")+" a function"+(m?"":" or undefined"));return g}function u(g,C,k,m,w,E,A,_,l,v,y,d,b){function S(F){if(!b(F))throw new TypeError("Attempted to access private element on non-instance")}var O,P=C[0],N=C[3],L=!_;if(!L){k||Array.isArray(P)||(P=[P]);var I={},W=[],U=w===3?"get":w===4||d?"set":"value";v?(y||d?I={get:Ki(function(){return N(this)},m,"get"),set:function(F){C[4](this,F)}}:I[U]=N,y||Ki(I[U],m,w===2?"":U)):y||(I=Object.getOwnPropertyDescriptor(g,m))}for(var G=g,Q=P.length-1;Q>=0;Q-=k?2:1){var ne=P[Q],Z=k?P[Q-1]:void 0,V={},$={kind:["field","accessor","method","getter","setter","class"][w],name:m,metadata:E,addInitializer:function(F,Y){if(F.v)throw Error("attempted to call addInitializer after decoration was finished");c(Y,"An initializer","be",!0),A.push(Y)}.bind(null,V)};try{if(L)(O=c(ne.call(Z,G,$),"class decorators","return"))&&(G=O);else{var H,ee;$.static=l,$.private=v,v?w===2?H=function(F){return S(F),I.value}:(w<4&&(H=s(I,"get",S)),w!==3&&(ee=s(I,"set",S))):(H=function(F){return F[m]},(w<2||w===4)&&(ee=function(F,Y){F[m]=Y}));var B=$.access={has:v?b.bind():function(F){return m in F}};if(H&&(B.get=H),ee&&(B.set=ee),G=ne.call(Z,d?{get:I.get,set:I.set}:I[U],$),d){if(typeof G=="object"&&G)(O=c(G.get,"accessor.get"))&&(I.get=O),(O=c(G.set,"accessor.set"))&&(I.set=O),(O=c(G.init,"accessor.init"))&&W.push(O);else if(G!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else c(G,(y?"field":"method")+" decorators","return")&&(y?W.push(G):I[U]=G)}}finally{V.v=!0}}return(y||d)&&_.push(function(F,Y){for(var te=W.length-1;te>=0;te--)Y=W[te].call(F,Y);return Y}),y||L||(v?d?_.push(s(I,"get"),s(I,"set")):_.push(w===2?I[U]:s.call.bind(I[U])):Object.defineProperty(g,m,I)),G}function h(g,C){return Object.defineProperty(g,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:C})}if(arguments.length>=6)var f=o[Symbol.metadata||Symbol.for("Symbol.metadata")];var p=Object.create(f??null),T=function(g,C,k,m){var w,E,A=[],_=function(U){return Xc(U)===g},l=new Map;function v(U){U&&A.push(a.bind(null,U))}for(var y=0;y<C.length;y++){var d=C[y];if(Array.isArray(d)){var b=d[1],S=d[2],O=d.length>3,P=16&b,N=!!(8&b),L=(b&=7)==0,I=S+"/"+N;if(!L&&!O){var W=l.get(I);if(W===!0||W===3&&b!==4||W===4&&b!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+S);l.set(I,!(b>2)||b)}u(N?g:g.prototype,d,P,O?"#"+S:qc(S),b,m,N?E=E||[]:w=w||[],A,N,O,L,b===1,N&&O?_:k)}}return v(w),v(E),A}(t,e,i,p);return n.length||h(t,p),{e:T,get c(){var g=[];return n.length&&[h(u(t,[n],r,t.name,5,p,g),p),a.bind(null,g,t)]}}}function qc(t){var e=Kc(t,"string");return typeof e=="symbol"?e:e+""}function Kc(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ki(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function Xc(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}function Jc(t){return t}class Yc extends Event{constructor(e){super("ready"),this.frame=e}}_s=[tr("repl-frame")];let Br;new class extends Jc{static[(mr=class extends Ve{name=Hi(this,"default");runtime=zi(this,null);frame=qi(this,null);template=()=>{const t=this;return(()=>{var e=Hc();return _t(n=>{qo(()=>{if(!n.contentWindow){console.error(...ls("contentWindow is not defined on iframe:",n));return}const r=()=>{t.frame=new Za(n),n.contentWindow?.removeEventListener("DOMContentLoaded",r),t.dispatchEvent(new Yc(t.frame))};n.contentWindow.addEventListener("DOMContentLoaded",r)})},e),wt(e,"src",rs`<!doctype html>
          <html>
            <head>
              <meta charset="UTF-8" />
              <meta name="viewport" content="width=device-width, initial-scale=1.0" />
            </head>
            <body></body>
          </html>`),e})()}},{e:[Hi,zi,qi],c:[Br,Wi]}=zc(mr,[[Xn,0,"name"],[ct,0,"runtime"],[ct,0,"frame"]],_s,0,void 0,Ve),mr)];css=`
    :host {
      display: block;
      position: relative;

      & iframe {
        border: none;
        position: absolute;
        height: 100%;
        width: 100%;
      }
    }
  `;constructor(){super(Br),Wi()}};function Vc(){customElements.get("repl-frame")||customElements.define("repl-frame",Br)}var Qc=Object.defineProperty,Zc=(t,e,n)=>e in t?Qc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,eu=(t,e,n)=>(Zc(t,typeof e!="symbol"?e+"":e,n),n);let bs;var tu=Qe("<slot>");function ws(t,e,n,r,i,o){function s(g,C,k){return function(m,w){return k&&k(m),g[C].call(m,w)}}function a(g,C){for(var k=0;k<g.length;k++)g[k].call(C);return C}function c(g,C,k,m){if(typeof g!="function"&&(m||g!==void 0))throw new TypeError(C+" must "+(k||"be")+" a function"+(m?"":" or undefined"));return g}function u(g,C,k,m,w,E,A,_,l,v,y,d,b){function S(F){if(!b(F))throw new TypeError("Attempted to access private element on non-instance")}var O,P=C[0],N=C[3],L=!_;if(!L){k||Array.isArray(P)||(P=[P]);var I={},W=[],U=w===3?"get":w===4||d?"set":"value";v?(y||d?I={get:Xi(function(){return N(this)},m,"get"),set:function(F){C[4](this,F)}}:I[U]=N,y||Xi(I[U],m,w===2?"":U)):y||(I=Object.getOwnPropertyDescriptor(g,m))}for(var G=g,Q=P.length-1;Q>=0;Q-=k?2:1){var ne=P[Q],Z=k?P[Q-1]:void 0,V={},$={kind:["field","accessor","method","getter","setter","class"][w],name:m,metadata:E,addInitializer:function(F,Y){if(F.v)throw Error("attempted to call addInitializer after decoration was finished");c(Y,"An initializer","be",!0),A.push(Y)}.bind(null,V)};try{if(L)(O=c(ne.call(Z,G,$),"class decorators","return"))&&(G=O);else{var H,ee;$.static=l,$.private=v,v?w===2?H=function(F){return S(F),I.value}:(w<4&&(H=s(I,"get",S)),w!==3&&(ee=s(I,"set",S))):(H=function(F){return F[m]},(w<2||w===4)&&(ee=function(F,Y){F[m]=Y}));var B=$.access={has:v?b.bind():function(F){return m in F}};if(H&&(B.get=H),ee&&(B.set=ee),G=ne.call(Z,d?{get:I.get,set:I.set}:I[U],$),d){if(typeof G=="object"&&G)(O=c(G.get,"accessor.get"))&&(I.get=O),(O=c(G.set,"accessor.set"))&&(I.set=O),(O=c(G.init,"accessor.init"))&&W.push(O);else if(G!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else c(G,(y?"field":"method")+" decorators","return")&&(y?W.push(G):I[U]=G)}}finally{V.v=!0}}return(y||d)&&_.push(function(F,Y){for(var te=W.length-1;te>=0;te--)Y=W[te].call(F,Y);return Y}),y||L||(v?d?_.push(s(I,"get"),s(I,"set")):_.push(w===2?I[U]:s.call.bind(I[U])):Object.defineProperty(g,m,I)),G}function h(g,C){return Object.defineProperty(g,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:C})}if(arguments.length>=6)var f=o[Symbol.metadata||Symbol.for("Symbol.metadata")];var p=Object.create(f??null),T=function(g,C,k,m){var w,E,A=[],_=function(U){return iu(U)===g},l=new Map;function v(U){U&&A.push(a.bind(null,U))}for(var y=0;y<C.length;y++){var d=C[y];if(Array.isArray(d)){var b=d[1],S=d[2],O=d.length>3,P=16&b,N=!!(8&b),L=(b&=7)==0,I=S+"/"+N;if(!L&&!O){var W=l.get(I);if(W===!0||W===3&&b!==4||W===4&&b!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+S);l.set(I,!(b>2)||b)}u(N?g:g.prototype,d,P,O?"#"+S:nu(S),b,m,N?E=E||[]:w=w||[],A,N,O,L,b===1,N&&O?_:k)}}return v(w),v(E),A}(t,e,i,p);return n.length||h(t,p),{e:T,get c(){var g=[];return n.length&&[h(u(t,[n],r,t.name,5,p,g),p),a.bind(null,g,t)]}}}function nu(t){var e=ru(t,"string");return typeof e=="symbol"?e:e+""}function ru(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xi(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function iu(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}const ai=class extends Ve{value=bs(this,void 0);template=()=>(()=>{var e=tu();return e._$owner=ft(),e})()};[bs]=ws(ai,[[ct,0,"value"]],[],0,void 0,Ve).e;eu(ai,"css",Mc`
    :host {
      display: contents;
    }
  `);let Ji=ai;function ou(t,e){let n,r;r=[tr(t)];let i;return[i,n]=ws(class extends Ji{},[],r,0,void 0,Ji).c,n(),function(a){let c=a.parentElement;for(;c;){if(c instanceof i)return()=>c.value;c=c.parentElement}if(e)return e;throw`Should use ${a.tagName} inside ${t} tag`}}const[su,Kh]=Ye(()=>{const[t,e]=de();return[t,e]}),au=ou("repl-runtime",su);function cu(t){const e=au(t);return()=>t.runtime===null?e():t.runtime}Vc();Wc();const uu="modulepreload",lu=function(t,e){return new URL(t,e).href},Yi={},Dt=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=lu(o,r),o in Yi)return;Yi[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const f=i[h];if(f.href===o&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":uu,s||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),s)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};var Bt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fu(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ci={},nr={},ui={},ze={},Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});function hu(t){return li(t)}Wt.clone=hu;function li(t){return Array.isArray(t)?du(t):typeof t=="object"?pu(t):t}function du(t){for(var e=[],n=0,r=t.length;n<r;n++)e[n]=li(t[n]);return e}function pu(t){var e={};for(var n in t)e[n]=li(t[n]);return e}function gu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.forEach(function(r){for(var i in r)t[i]=r[i]}),t}Wt.mergeObjects=gu;var Vi=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/,mu=function(){function t(){}return t.hasCaptures=function(e){return Vi.test(e)},t.replaceCaptures=function(e,n,r){return e.replace(Vi,function(i,o,s,a){var c=r[parseInt(o||s,10)];if(c){for(var u=n.substring(c.start,c.end);u[0]===".";)u=u.substring(1);switch(a){case"downcase":return u.toLowerCase();case"upcase":return u.toUpperCase();default:return u}}else return i})},t}();Wt.RegexSource=mu;var Ne={};const yu={},vu=Object.freeze(Object.defineProperty({__proto__:null,default:yu},Symbol.toStringTag,{value:"Module"})),_u=fu(vu);var Ht={},bn={},Ss={exports:{}};(function(t,e){var n=function(){return typeof document<"u"&&document.currentScript&&document.currentScript.src,function(r){r=r||{};var i=typeof r<"u"?r:{},o={},s;for(s in i)i.hasOwnProperty(s)&&(o[s]=i[s]);var a=!1,c="";function u(R){return i.locateFile?i.locateFile(R,c):c+R}var h;h=function(x){var D;return typeof readbuffer=="function"?new Uint8Array(readbuffer(x)):(D=read(x,"binary"),m(typeof D=="object"),D)},typeof scriptArgs<"u"&&scriptArgs,typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print);var f=i.print||console.log.bind(console),p=i.printErr||console.warn.bind(console);for(s in o)o.hasOwnProperty(s)&&(i[s]=o[s]);o=null,i.arguments&&i.arguments,i.thisProgram&&i.thisProgram,i.quit&&i.quit;var T;i.wasmBinary&&(T=i.wasmBinary),i.noExitRuntime&&i.noExitRuntime,typeof WebAssembly!="object"&&p("no native wasm support detected");var g,C=new WebAssembly.Table({initial:244,maximum:244+0,element:"anyfunc"}),k=!1;function m(R,x){R||Re("Assertion failed: "+x)}function w(R){var x=i["_"+R];return m(x,"Cannot call unknown function "+R+", make sure it is exported"),x}function E(R,x,D,z,X){var J={string:function(Ae){var De=0;if(Ae!=null&&Ae!==0){var pt=(Ae.length<<2)+1;De=je(pt),y(Ae,De,pt)}return De},array:function(Ae){var De=je(Ae.length);return d(Ae,De),De}};function q(Ae){return x==="string"?l(Ae):x==="boolean"?!!Ae:Ae}var K=w(R),re=[],ie=0;if(z)for(var ae=0;ae<z.length;ae++){var se=J[D[ae]];se?(ie===0&&(ie=Jt()),re[ae]=se(z[ae])):re[ae]=z[ae]}var ke=K.apply(null,re);return ke=q(ke),ie!==0&&En(ie),ke}var A=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function _(R,x,D){for(var z=x+D,X=x;R[X]&&!(X>=z);)++X;if(X-x>16&&R.subarray&&A)return A.decode(R.subarray(x,X));for(var J="";x<X;){var q=R[x++];if(!(q&128)){J+=String.fromCharCode(q);continue}var K=R[x++]&63;if((q&224)==192){J+=String.fromCharCode((q&31)<<6|K);continue}var re=R[x++]&63;if((q&240)==224?q=(q&15)<<12|K<<6|re:q=(q&7)<<18|K<<12|re<<6|R[x++]&63,q<65536)J+=String.fromCharCode(q);else{var ie=q-65536;J+=String.fromCharCode(55296|ie>>10,56320|ie&1023)}}return J}function l(R,x){return R?_(N,R,x):""}function v(R,x,D,z){if(!(z>0))return 0;for(var X=D,J=D+z-1,q=0;q<R.length;++q){var K=R.charCodeAt(q);if(K>=55296&&K<=57343){var re=R.charCodeAt(++q);K=65536+((K&1023)<<10)|re&1023}if(K<=127){if(D>=J)break;x[D++]=K}else if(K<=2047){if(D+1>=J)break;x[D++]=192|K>>6,x[D++]=128|K&63}else if(K<=65535){if(D+2>=J)break;x[D++]=224|K>>12,x[D++]=128|K>>6&63,x[D++]=128|K&63}else{if(D+3>=J)break;x[D++]=240|K>>18,x[D++]=128|K>>12&63,x[D++]=128|K>>6&63,x[D++]=128|K&63}}return x[D]=0,D-X}function y(R,x,D){return v(R,N,x,D)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");function d(R,x){P.set(R,x)}var b=65536;function S(R,x){return R%x>0&&(R+=x-R%x),R}var O,P,N,L;function I(R){O=R,i.HEAP8=P=new Int8Array(R),i.HEAP16=new Int16Array(R),i.HEAP32=L=new Int32Array(R),i.HEAPU8=N=new Uint8Array(R),i.HEAPU16=new Uint16Array(R),i.HEAPU32=new Uint32Array(R),i.HEAPF32=new Float32Array(R),i.HEAPF64=new Float64Array(R)}var W=5507664,U=264624,G=i.TOTAL_MEMORY||157286400;i.wasmMemory?g=i.wasmMemory:g=new WebAssembly.Memory({initial:G/b}),g&&(O=g.buffer),G=O.byteLength,I(O),L[U>>2]=W;function Q(R){for(;R.length>0;){var x=R.shift();if(typeof x=="function"){x();continue}var D=x.func;typeof D=="number"?x.arg===void 0?i.dynCall_v(D):i.dynCall_vi(D,x.arg):D(x.arg===void 0?null:x.arg)}}var ne=[],Z=[],V=[],$=[];function H(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)Y(i.preRun.shift());Q(ne)}function ee(){Q(Z)}function B(){Q(V)}function F(){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)te(i.postRun.shift());Q($)}function Y(R){ne.unshift(R)}function te(R){$.unshift(R)}var be=0,he=null;function et(R){be++,i.monitorRunDependencies&&i.monitorRunDependencies(be)}function qe(R){if(be--,i.monitorRunDependencies&&i.monitorRunDependencies(be),be==0&&he){var x=he;he=null,x()}}i.preloadedImages={},i.preloadedAudios={};function Re(R){throw i.onAbort&&i.onAbort(R),R+="",f(R),p(R),k=!0,R="abort("+R+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(R)}var Le="data:application/octet-stream;base64,";function Ke(R){return String.prototype.startsWith?R.startsWith(Le):R.indexOf(Le)===0}var we="onigasm.wasm";Ke(we)||(we=u(we));function $e(){try{if(T)return new Uint8Array(T);if(h)return h(we);throw"both async and sync fetching of the wasm failed"}catch(R){Re(R)}}function Ee(){return!T&&a&&typeof fetch=="function"?fetch(we,{credentials:"same-origin"}).then(function(R){if(!R.ok)throw"failed to load wasm binary file at '"+we+"'";return R.arrayBuffer()}).catch(function(){return $e()}):new Promise(function(R,x){R($e())})}function tt(){var R={env:dt,wasi_unstable:dt};function x(q,K){var re=q.exports;i.asm=re,qe()}et();function D(q){x(q.instance)}function z(q){return Ee().then(function(K){return WebAssembly.instantiate(K,R)}).then(q,function(K){p("failed to asynchronously prepare wasm: "+K),Re(K)})}function X(){if(!T&&typeof WebAssembly.instantiateStreaming=="function"&&!Ke(we)&&typeof fetch=="function")fetch(we,{credentials:"same-origin"}).then(function(q){var K=WebAssembly.instantiateStreaming(q,R);return K.then(D,function(re){p("wasm streaming compile failed: "+re),p("falling back to ArrayBuffer instantiation"),z(D)})});else return z(D)}if(i.instantiateWasm)try{var J=i.instantiateWasm(R,x);return J}catch(q){return p("Module.instantiateWasm callback failed with error: "+q),!1}return X(),{}}Z.push({func:function(){Se()}});function ut(){Re()}function Et(){return P.length}function nt(){return 264624}function qt(R,x,D){N.set(N.subarray(x,x+D),R)}function Tt(R){try{return g.grow(R-O.byteLength+65535>>16),I(g.buffer),1}catch{}}function Kt(R){var x=Et(),D=65536,z=2147483648-D;if(R>z)return!1;for(var X=16777216,J=Math.max(x,X);J<R;)J<=536870912?J=S(2*J,D):J=Math.min(S((3*J+2147483648)/4,D),z);var q=Tt(J);return!!q}var Te={buffers:[null,[],[]],printChar:function(R,x){var D=Te.buffers[R];x===0||x===10?((R===1?f:p)(_(D,0)),D.length=0):D.push(x)},varargs:0,get:function(R){Te.varargs+=4;var x=L[Te.varargs-4>>2];return x},getStr:function(){var R=l(Te.get());return R},get64:function(){var R=Te.get();return Te.get(),R},getZero:function(){Te.get()}};function kt(R){try{return 0}catch(x){return(typeof FS>"u"||!(x instanceof FS.ErrnoError))&&Re(x),x.errno}}function ur(R,x,D,z,X){try{return 0}catch(J){return(typeof FS>"u"||!(J instanceof FS.ErrnoError))&&Re(J),J.errno}}function lr(R,x,D,z){try{for(var X=0,J=0;J<D;J++){for(var q=L[x+J*8>>2],K=L[x+(J*8+4)>>2],re=0;re<K;re++)Te.printChar(R,N[q+re]);X+=K}return L[z>>2]=X,0}catch(ie){return(typeof FS>"u"||!(ie instanceof FS.ErrnoError))&&Re(ie),ie.errno}}function fr(R){}var dt={abort:ut,emscripten_get_sbrk_ptr:nt,emscripten_memcpy_big:qt,emscripten_resize_heap:Kt,fd_close:kt,fd_seek:ur,fd_write:lr,memory:g,setTempRet0:fr,table:C},Xt=tt();i.asm=Xt;var Se=i.___wasm_call_ctors=function(){return i.asm.__wasm_call_ctors.apply(null,arguments)};i._malloc=function(){return i.asm.malloc.apply(null,arguments)},i._free=function(){return i.asm.free.apply(null,arguments)},i._getLastError=function(){return i.asm.getLastError.apply(null,arguments)},i._compilePattern=function(){return i.asm.compilePattern.apply(null,arguments)},i._disposeCompiledPatterns=function(){return i.asm.disposeCompiledPatterns.apply(null,arguments)},i._findBestMatch=function(){return i.asm.findBestMatch.apply(null,arguments)},i.___cxa_demangle=function(){return i.asm.__cxa_demangle.apply(null,arguments)},i._setThrew=function(){return i.asm.setThrew.apply(null,arguments)};var Jt=i.stackSave=function(){return i.asm.stackSave.apply(null,arguments)},je=i.stackAlloc=function(){return i.asm.stackAlloc.apply(null,arguments)},En=i.stackRestore=function(){return i.asm.stackRestore.apply(null,arguments)};i.__growWasmMemory=function(){return i.asm.__growWasmMemory.apply(null,arguments)},i.dynCall_vi=function(){return i.asm.dynCall_vi.apply(null,arguments)},i.dynCall_iiii=function(){return i.asm.dynCall_iiii.apply(null,arguments)},i.dynCall_iiiii=function(){return i.asm.dynCall_iiiii.apply(null,arguments)},i.dynCall_iii=function(){return i.asm.dynCall_iii.apply(null,arguments)},i.dynCall_iidiiii=function(){return i.asm.dynCall_iidiiii.apply(null,arguments)},i.dynCall_vii=function(){return i.asm.dynCall_vii.apply(null,arguments)},i.dynCall_ii=function(){return i.asm.dynCall_ii.apply(null,arguments)},i.dynCall_i=function(){return i.asm.dynCall_i.apply(null,arguments)},i.dynCall_v=function(){return i.asm.dynCall_v.apply(null,arguments)},i.dynCall_viiiiii=function(){return i.asm.dynCall_viiiiii.apply(null,arguments)},i.dynCall_viiiii=function(){return i.asm.dynCall_viiiii.apply(null,arguments)},i.dynCall_viiii=function(){return i.asm.dynCall_viiii.apply(null,arguments)},i.dynCall_jiji=function(){return i.asm.dynCall_jiji.apply(null,arguments)},i.asm=Xt,i.ccall=E;var M;i.then=function(R){if(M)R(i);else{var x=i.onRuntimeInitialized;i.onRuntimeInitialized=function(){x&&x(),R(i)}}return i},he=function R(){M||j(),M||(he=R)};function j(R){if(be>0||(H(),be>0))return;function x(){M||(M=!0,!k&&(ee(),B(),i.onRuntimeInitialized&&i.onRuntimeInitialized(),F()))}i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),x()},1)):x()}if(i.run=j,i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return j(),r}}();t.exports=n})(Ss);var bu=Ss.exports;Object.defineProperty(bn,"__esModule",{value:!0});const wu=bu;async function Qi(t){return new Promise((e,n)=>{const{log:r,warn:i,error:o}=console;wu({instantiateWasm(s,a){return WebAssembly.instantiate(t,s).then(c=>{a(c.instance)}).catch(c=>{throw c}),{}}}).then(s=>{bn.onigasmH=s,e()}),typeof print<"u"&&(console.log=r,console.error=o,console.warn=i)})}let Zi=!1;async function Su(t){if(Zi)throw new Error("Onigasm#init has been called and was succesful, subsequent calls are not allowed once initialized");if(typeof t=="string"){const e=await(await fetch(t)).arrayBuffer();await Qi(e)}else if(t instanceof ArrayBuffer)await Qi(t);else throw new TypeError("Expected a string (URL of .wasm file) or ArrayBuffer (.wasm file itself) as first parameter");Zi=!0}bn.loadWASM=Su;var fi={},wn={},yr,eo;function Au(){return eo||(eo=1,yr=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),yr}var Cu=oe;oe.Node=St;oe.create=oe;function oe(t){var e=this;if(e instanceof oe||(e=new oe),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)e.push(arguments[n]);return e}oe.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e};oe.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};oe.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};oe.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Tu(this,arguments[t]);return this.length};oe.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)ku(this,arguments[t]);return this.length};oe.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};oe.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};oe.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;n!==null;r++)t.call(e,n.value,r,this),n=n.next};oe.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;n!==null;r--)t.call(e,n.value,r,this),n=n.prev};oe.prototype.get=function(t){for(var e=0,n=this.head;n!==null&&e<t;e++)n=n.next;if(e===t&&n!==null)return n.value};oe.prototype.getReverse=function(t){for(var e=0,n=this.tail;n!==null&&e<t;e++)n=n.prev;if(e===t&&n!==null)return n.value};oe.prototype.map=function(t,e){e=e||this;for(var n=new oe,r=this.head;r!==null;)n.push(t.call(e,r.value,this)),r=r.next;return n};oe.prototype.mapReverse=function(t,e){e=e||this;for(var n=new oe,r=this.tail;r!==null;)n.push(t.call(e,r.value,this)),r=r.prev;return n};oe.prototype.reduce=function(t,e){var n,r=this.head;if(arguments.length>1)n=e;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=t(n,r.value,i),r=r.next;return n};oe.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(arguments.length>1)n=e;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=t(n,r.value,i),r=r.prev;return n};oe.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;n!==null;e++)t[e]=n.value,n=n.next;return t};oe.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;n!==null;e++)t[e]=n.value,n=n.prev;return t};oe.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new oe;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=0,i=this.head;i!==null&&r<t;r++)i=i.next;for(;i!==null&&r<e;r++,i=i.next)n.push(i.value);return n};oe.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new oe;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=this.length,i=this.tail;i!==null&&r>e;r--)i=i.prev;for(;i!==null&&r>t;r--,i=i.prev)n.push(i.value);return n};oe.prototype.splice=function(t,e){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,r=this.head;r!==null&&n<t;n++)r=r.next;for(var i=[],n=0;r&&n<e;n++)i.push(r.value),r=this.removeNode(r);r===null&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(var n=2;n<arguments.length;n++)r=Eu(this,r,arguments[n]);return i};oe.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this};function Eu(t,e,n){var r=e===t.head?new St(n,null,e,t):new St(n,e,e.next,t);return r.next===null&&(t.tail=r),r.prev===null&&(t.head=r),t.length++,r}function Tu(t,e){t.tail=new St(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function ku(t,e){t.head=new St(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function St(t,e,n,r){if(!(this instanceof St))return new St(t,e,n,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{Au()(oe)}catch{}const Ou=Cu,gt=Symbol("max"),st=Symbol("length"),Rt=Symbol("lengthCalculator"),ln=Symbol("allowStale"),yt=Symbol("maxAge"),rt=Symbol("dispose"),to=Symbol("noDisposeOnSet"),me=Symbol("lruList"),Ge=Symbol("cache"),As=Symbol("updateAgeOnGet"),vr=()=>1;let Ru=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[gt]=e.max||1/0;const n=e.length||vr;if(this[Rt]=typeof n!="function"?vr:n,this[ln]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[yt]=e.maxAge||0,this[rt]=e.dispose,this[to]=e.noDisposeOnSet||!1,this[As]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[gt]=e||1/0,Vt(this)}get max(){return this[gt]}set allowStale(e){this[ln]=!!e}get allowStale(){return this[ln]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[yt]=e,Vt(this)}get maxAge(){return this[yt]}set lengthCalculator(e){typeof e!="function"&&(e=vr),e!==this[Rt]&&(this[Rt]=e,this[st]=0,this[me].forEach(n=>{n.length=this[Rt](n.value,n.key),this[st]+=n.length})),Vt(this)}get lengthCalculator(){return this[Rt]}get length(){return this[st]}get itemCount(){return this[me].length}rforEach(e,n){n=n||this;for(let r=this[me].tail;r!==null;){const i=r.prev;no(this,e,r,n),r=i}}forEach(e,n){n=n||this;for(let r=this[me].head;r!==null;){const i=r.next;no(this,e,r,n),r=i}}keys(){return this[me].toArray().map(e=>e.key)}values(){return this[me].toArray().map(e=>e.value)}reset(){this[rt]&&this[me]&&this[me].length&&this[me].forEach(e=>this[rt](e.key,e.value)),this[Ge]=new Map,this[me]=new Ou,this[st]=0}dump(){return this[me].map(e=>Jn(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[me]}set(e,n,r){if(r=r||this[yt],r&&typeof r!="number")throw new TypeError("maxAge must be a number");const i=r?Date.now():0,o=this[Rt](n,e);if(this[Ge].has(e)){if(o>this[gt])return xt(this,this[Ge].get(e)),!1;const c=this[Ge].get(e).value;return this[rt]&&(this[to]||this[rt](e,c.value)),c.now=i,c.maxAge=r,c.value=n,this[st]+=o-c.length,c.length=o,this.get(e),Vt(this),!0}const s=new Pu(e,n,o,i,r);return s.length>this[gt]?(this[rt]&&this[rt](e,n),!1):(this[st]+=s.length,this[me].unshift(s),this[Ge].set(e,this[me].head),Vt(this),!0)}has(e){if(!this[Ge].has(e))return!1;const n=this[Ge].get(e).value;return!Jn(this,n)}get(e){return _r(this,e,!0)}peek(e){return _r(this,e,!1)}pop(){const e=this[me].tail;return e?(xt(this,e),e.value):null}del(e){xt(this,this[Ge].get(e))}load(e){this.reset();const n=Date.now();for(let r=e.length-1;r>=0;r--){const i=e[r],o=i.e||0;if(o===0)this.set(i.k,i.v);else{const s=o-n;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Ge].forEach((e,n)=>_r(this,n,!1))}};const _r=(t,e,n)=>{const r=t[Ge].get(e);if(r){const i=r.value;if(Jn(t,i)){if(xt(t,r),!t[ln])return}else n&&(t[As]&&(r.value.now=Date.now()),t[me].unshiftNode(r));return i.value}},Jn=(t,e)=>{if(!e||!e.maxAge&&!t[yt])return!1;const n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[yt]&&n>t[yt]},Vt=t=>{if(t[st]>t[gt])for(let e=t[me].tail;t[st]>t[gt]&&e!==null;){const n=e.prev;xt(t,e),e=n}},xt=(t,e)=>{if(e){const n=e.value;t[rt]&&t[rt](n.key,n.value),t[st]-=n.length,t[Ge].delete(n.key),t[me].removeNode(e)}};class Pu{constructor(e,n,r,i,o){this.key=e,this.value=n,this.length=r,this.now=i,this.maxAge=o||0}}const no=(t,e,n,r)=>{let i=n.value;Jn(t,i)&&(xt(t,n),t[ln]||(i=void 0)),i&&e.call(r,i.value,i.key,t)};var Iu=Ru,rr={};Object.defineProperty(rr,"__esModule",{value:!0});class xu{constructor(e){if(this.substring=(n,r)=>this.source.substring(n,r),this.toString=(n,r)=>this.source,typeof e!="string")throw new TypeError("Argument must be a string");this.source=e,this._utf8Bytes=null,this._utf8Indexes=null}get utf8Bytes(){return this._utf8Bytes||this.encode(),this._utf8Bytes}get utf8Indexes(){return this._utf8Bytes||this.encode(),this._utf8Indexes}get content(){return this.source}get length(){return this.source.length}get hasMultiByteCharacters(){return this.utf8Indexes!==null}convertUtf8OffsetToUtf16(e){if(e<0)return 0;const n=this._utf8Bytes;if(e>=n.length-1)return this.source.length;const r=this.utf8Indexes;return r&&e>=this._mappingTableStartOffset?Nu(r,e-this._mappingTableStartOffset)+this._mappingTableStartOffset:e}convertUtf16OffsetToUtf8(e){if(e<0)return 0;const n=this._utf8Bytes;if(e>=this.source.length)return n.length-1;const r=this.utf8Indexes;return r&&e>=this._mappingTableStartOffset?r[e-this._mappingTableStartOffset]+this._mappingTableStartOffset:e}encode(){const e=this.source,n=e.length;let r,i=0,o=0;function s(f){const p=(n-f)*3;p<=255?r=new Uint8Array(n-f):p<=65535?r=new Uint16Array(n-f):r=new Uint32Array(n-f),o=f,r[i++]=0}const a=new Uint8Array(n*3+1);let c=0,u=0;for(;u<e.length;){let f;const p=e.charCodeAt(u);if(r&&(r[i++]=c-o),p<55296||p>57343)f=p;else if(p>=56320)f=65533;else if(u===n-1)f=65533;else{const C=e.charCodeAt(u+1);if(56320<=C&&C<=57343){r||s(u);const k=p&1023,m=C&1023;f=65536+(k<<10)+m,u+=1,r[i++]=c-o}else f=65533}let T,g;if(f<=127?(T=1,g=0):f<=2047?(T=2,g=192):f<=65535?(T=3,g=224):(T=4,g=240),T===1)a[c++]=f;else for(r||s(c),a[c++]=(f>>6*--T)+g;T>0;){const C=f>>6*(T-1);a[c++]=128|C&63,T-=1}u+=1}const h=a.slice(0,c+1);h[c]=0,this._utf8Bytes=h,r&&(this._utf8Indexes=r,this._mappingTableStartOffset=o)}}function Nu(t,e){let n=0,r=t.length;if(r===0)return 0;for(;n<r;){const i=Math.floor((n+r)/2);t[i]>=e?r=i:n=i+1}for(;n>0&&(n>=t.length||t[n]>e);)n--;return n>0&&t[n]===t[n-1]&&n--,n}rr.default=xu;Object.defineProperty(wn,"__esModule",{value:!0});const Mu=Iu,ue=bn,On=rr;function ro(t){const e=ue.onigasmH._malloc(t.utf8Bytes.length);return ue.onigasmH.HEAPU8.set(t.utf8Bytes,e),e}function Gr(t){const e=[];let n=0;for(;ue.onigasmH.HEAPU8[t]!==0;)e[n++]=ue.onigasmH.HEAPU8[t++];return e.join()}const io=new Mu({dispose:(t,e)=>{const n=ue.onigasmH._malloc(e.regexTPtrs.length);if(ue.onigasmH.HEAPU8.set(e.regexTPtrs,n),ue.onigasmH._disposeCompiledPatterns(n,t.patterns.length)!==0){const i=Gr(ue.onigasmH._getLastError());throw new Error(i)}ue.onigasmH._free(n)},max:1e3});class Cs{constructor(e){if(ue.onigasmH===null)throw new Error("Onigasm has not been initialized, call loadWASM from 'onigasm' exports before using any other API");for(let n=0;n<e.length;n++)if(typeof e[n]!="string")throw new TypeError("First parameter to OnigScanner constructor must be array of (pattern) strings");this.sources=e.slice()}get patterns(){return this.sources.slice()}findNextMatch(e,n,r){n==null&&(n=0),typeof n=="function"&&(r=n,n=0);try{const i=this.findNextMatchSync(e,n);r(null,i)}catch(i){r(i)}}findNextMatchSync(e,n){n==null&&(n=0),n=this.convertToNumber(n);let r=io.get(this),i=0;if(!r){const p=ue.onigasmH._malloc(4),T=[];for(let g=0;g<this.sources.length;g++){const C=this.sources[g],k=ro(new On.default(C));if(i=ue.onigasmH._compilePattern(k,p),i!==0){const w=Gr(ue.onigasmH._getLastError());throw new Error(w)}const m=ue.onigasmH.HEAP32[p/4];T.push(m),ue.onigasmH._free(k)}r={regexTPtrs:new Uint8Array(Uint32Array.from(T).buffer)},ue.onigasmH._free(p),io.set(this,r)}const o=e instanceof On.default?e:new On.default(this.convertToString(e)),s=ro(o),a=ue.onigasmH._malloc(8),c=ue.onigasmH._malloc(r.regexTPtrs.length);if(ue.onigasmH.HEAPU8.set(r.regexTPtrs,c),i=ue.onigasmH._findBestMatch(c,this.sources.length,s,o.utf8Bytes.length-1,o.convertUtf16OffsetToUtf8(n),a),i!==0){const p=Gr(ue.onigasmH._getLastError());throw new Error(p)}const[u,h,f]=new Uint32Array(ue.onigasmH.HEAPU32.buffer,a,3);if(ue.onigasmH._free(s),ue.onigasmH._free(a),ue.onigasmH._free(c),f>0){const p=new Uint32Array(ue.onigasmH.HEAPU32.buffer,h,f),T=[];let g=0,C=0;for(;g<f;){const k=C++;let m=p[g++],w=p[g++];o.hasMultiByteCharacters&&(m=o.convertUtf8OffsetToUtf16(m),w=o.convertUtf8OffsetToUtf16(w)),T.push({end:w,index:k,length:w-m,start:m})}return ue.onigasmH._free(h),{captureIndices:T,index:u,scanner:this}}return null}convertToString(e){return e===void 0?"undefined":e===null?"null":e instanceof On.default?e.content:e.toString()}convertToNumber(e){return e=parseInt(e,10),isFinite(e)||(e=0),e=Math.max(e,0),e}}wn.OnigScanner=Cs;wn.default=Cs;Object.defineProperty(fi,"__esModule",{value:!0});const Lu=wn;class $u{constructor(e){this.source=e;try{this.scanner=new Lu.default([this.source])}catch{}}searchSync(e,n){let r;return n==null&&(n=0),r=this.scanner.findNextMatchSync(e,n),this.captureIndicesForMatch(e,r)}search(e,n,r){n==null&&(n=0),typeof n=="function"&&(r=n,n=0);try{const i=this.searchSync(e,n);r(null,i)}catch(i){r(i)}}testSync(e){return typeof this.source=="boolean"||typeof e=="boolean"?this.source===e:this.searchSync(e)!=null}test(e,n){typeof n!="function"&&(n=()=>{});try{n(null,this.testSync(e))}catch(r){n(r)}}captureIndicesForMatch(e,n){if(n!=null){const{captureIndices:r}=n;let i;e=this.scanner.convertToString(e);for(let o=0;o<r.length;o++)i=r[o],i.match=e.slice(i.start,i.end);return r}else return null}}fi.default=$u;Object.defineProperty(Ht,"__esModule",{value:!0});const ju=bn;var Du=Ht.loadWASM=ju.loadWASM;const Bu=fi;Ht.OnigRegExp=Bu.default;const Gu=wn;Ht.OnigScanner=Gu.default;const Fu=rr;Ht.OnigString=Fu.default;var Sn=Bt&&Bt.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ne,"__esModule",{value:!0});var Uu=_u,on=Wt,Es=Ht,Wu=/\\(\d+)/,oo=/\\(\d+)/g,zt=function(){function t(e,n,r,i){this.$location=e,this.id=n,this._name=r||null,this._nameIsCapturing=on.RegexSource.hasCaptures(this._name),this._contentName=i||null,this._contentNameIsCapturing=on.RegexSource.hasCaptures(this._contentName)}return Object.defineProperty(t.prototype,"debugName",{get:function(){return this.constructor.name+"#"+this.id+" @ "+Uu.basename(this.$location.filename)+":"+this.$location.line},enumerable:!0,configurable:!0}),t.prototype.getName=function(e,n){return this._nameIsCapturing?on.RegexSource.replaceCaptures(this._name,e,n):this._name},t.prototype.getContentName=function(e,n){return this._contentNameIsCapturing?on.RegexSource.replaceCaptures(this._contentName,e,n):this._contentName},t.prototype.collectPatternsRecursive=function(e,n,r){throw new Error("Implement me!")},t.prototype.compile=function(e,n,r,i){throw new Error("Implement me!")},t}();Ne.Rule=zt;var Ts=function(t){Sn(e,t);function e(n,r,i,o,s){var a=t.call(this,n,r,i,o)||this;return a.retokenizeCapturedWithRuleId=s,a}return e}(zt);Ne.CaptureRule=Ts;var Gt=function(){function t(e,n,r){r===void 0&&(r=!0),r?this._handleAnchors(e):(this.source=e,this.hasAnchor=!1),this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()),this.ruleId=n,this.hasBackReferences=Wu.test(this.source)}return t.prototype.clone=function(){return new t(this.source,this.ruleId,!0)},t.prototype.setSource=function(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))},t.prototype._handleAnchors=function(e){if(e){var n=void 0,r=void 0,i=void 0,o=void 0,s=0,a=[],c=!1;for(n=0,r=e.length;n<r;n++)i=e.charAt(n),i==="\\"&&n+1<r&&(o=e.charAt(n+1),o==="z"?(a.push(e.substring(s,n)),a.push("$(?!\\n)(?<!\\n)"),s=n+2):(o==="A"||o==="G")&&(c=!0),n++);this.hasAnchor=c,s===0?this.source=e:(a.push(e.substring(s,r)),this.source=a.join(""))}else this.hasAnchor=!1,this.source=e},t.prototype.resolveBackReferences=function(e,n){var r=n.map(function(i){return e.substring(i.start,i.end)});return oo.lastIndex=0,this.source.replace(oo,function(i,o){return qu(r[parseInt(o,10)]||"")})},t.prototype._buildAnchorCache=function(){var e=[],n=[],r=[],i=[],o,s,a,c;for(o=0,s=this.source.length;o<s;o++)a=this.source.charAt(o),e[o]=a,n[o]=a,r[o]=a,i[o]=a,a==="\\"&&o+1<s&&(c=this.source.charAt(o+1),c==="A"?(e[o+1]="",n[o+1]="",r[o+1]="A",i[o+1]="A"):c==="G"?(e[o+1]="",n[o+1]="G",r[o+1]="",i[o+1]="G"):(e[o+1]=c,n[o+1]=c,r[o+1]=c,i[o+1]=c),o++);return{A0_G0:e.join(""),A0_G1:n.join(""),A1_G0:r.join(""),A1_G1:i.join("")}},t.prototype.resolveAnchors=function(e,n){return this.hasAnchor?e?n?this._anchorCache.A1_G1:this._anchorCache.A1_G0:n?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source},t}();Ne.RegExpSource=Gt;function so(t){return new Es.OnigScanner(t)}function Hu(t){var e=new Es.OnigString(t);return e.$str=t,e}Ne.createOnigString=Hu;function zu(t){return t.$str}Ne.getString=zu;var Ft=function(){function t(){this._items=[],this._hasAnchors=!1,this._cached=null,this._cachedSources=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}return t.prototype.push=function(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor},t.prototype.unshift=function(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor},t.prototype.length=function(){return this._items.length},t.prototype.setSource=function(e,n){this._items[e].source!==n&&(this._cached=null,this._anchorCache.A0_G0=null,this._anchorCache.A0_G1=null,this._anchorCache.A1_G0=null,this._anchorCache.A1_G1=null,this._items[e].setSource(n))},t.prototype.compile=function(e,n,r){if(this._hasAnchors)return this._anchorCache={A0_G0:this._anchorCache.A0_G0||(n===!1&&r===!1?this._resolveAnchors(n,r):null),A0_G1:this._anchorCache.A0_G1||(n===!1&&r===!0?this._resolveAnchors(n,r):null),A1_G0:this._anchorCache.A1_G0||(n===!0&&r===!1?this._resolveAnchors(n,r):null),A1_G1:this._anchorCache.A1_G1||(n===!0&&r===!0?this._resolveAnchors(n,r):null)},n?r?this._anchorCache.A1_G1:this._anchorCache.A1_G0:r?this._anchorCache.A0_G1:this._anchorCache.A0_G0;if(!this._cached){var i=this._items.map(function(o){return o.source});this._cached={scanner:so(i),rules:this._items.map(function(o){return o.ruleId}),debugRegExps:i}}return this._cached},t.prototype._resolveAnchors=function(e,n){var r=this._items.map(function(i){return i.resolveAnchors(e,n)});return{scanner:so(r),rules:this._items.map(function(i){return i.ruleId}),debugRegExps:r}},t}();Ne.RegExpSourceList=Ft;var ks=function(t){Sn(e,t);function e(n,r,i,o,s){var a=t.call(this,n,r,i,null)||this;return a._match=new Gt(o,a.id),a.captures=s,a._cachedCompiledPatterns=null,a}return Object.defineProperty(e.prototype,"debugMatchRegExp",{get:function(){return""+this._match.source},enumerable:!0,configurable:!0}),e.prototype.collectPatternsRecursive=function(n,r,i){r.push(this._match)},e.prototype.compile=function(n,r,i,o){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Ft,this.collectPatternsRecursive(n,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(n,i,o)},e}(zt);Ne.MatchRule=ks;var Fr=function(t){Sn(e,t);function e(n,r,i,o,s){var a=t.call(this,n,r,i,o)||this;return a.patterns=s.patterns,a.hasMissingPatterns=s.hasMissingPatterns,a._cachedCompiledPatterns=null,a}return e.prototype.collectPatternsRecursive=function(n,r,i){var o,s,a;for(o=0,s=this.patterns.length;o<s;o++)a=n.getRule(this.patterns[o]),a.collectPatternsRecursive(n,r,!1)},e.prototype.compile=function(n,r,i,o){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Ft,this.collectPatternsRecursive(n,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(n,i,o)},e}(zt);Ne.IncludeOnlyRule=Fr;function qu(t){return t.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var Ur=function(t){Sn(e,t);function e(n,r,i,o,s,a,c,u,h,f){var p=t.call(this,n,r,i,o)||this;return p._begin=new Gt(s,p.id),p.beginCaptures=a,p._end=new Gt(c,-1),p.endHasBackReferences=p._end.hasBackReferences,p.endCaptures=u,p.applyEndPatternLast=h||!1,p.patterns=f.patterns,p.hasMissingPatterns=f.hasMissingPatterns,p._cachedCompiledPatterns=null,p}return Object.defineProperty(e.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"debugEndRegExp",{get:function(){return""+this._end.source},enumerable:!0,configurable:!0}),e.prototype.getEndWithResolvedBackReferences=function(n,r){return this._end.resolveBackReferences(n,r)},e.prototype.collectPatternsRecursive=function(n,r,i){if(i){var o=void 0,s=void 0,a=void 0;for(o=0,s=this.patterns.length;o<s;o++)a=n.getRule(this.patterns[o]),a.collectPatternsRecursive(n,r,!1)}else r.push(this._begin)},e.prototype.compile=function(n,r,i,o){var s=this._precompile(n);return this._end.hasBackReferences&&(this.applyEndPatternLast?s.setSource(s.length()-1,r):s.setSource(0,r)),this._cachedCompiledPatterns.compile(n,i,o)},e.prototype._precompile=function(n){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Ft,this.collectPatternsRecursive(n,this._cachedCompiledPatterns,!0),this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)),this._cachedCompiledPatterns},e}(zt);Ne.BeginEndRule=Ur;var Wr=function(t){Sn(e,t);function e(n,r,i,o,s,a,c,u,h){var f=t.call(this,n,r,i,o)||this;return f._begin=new Gt(s,f.id),f.beginCaptures=a,f.whileCaptures=u,f._while=new Gt(c,-2),f.whileHasBackReferences=f._while.hasBackReferences,f.patterns=h.patterns,f.hasMissingPatterns=h.hasMissingPatterns,f._cachedCompiledPatterns=null,f._cachedCompiledWhilePatterns=null,f}return e.prototype.getWhileWithResolvedBackReferences=function(n,r){return this._while.resolveBackReferences(n,r)},e.prototype.collectPatternsRecursive=function(n,r,i){if(i){var o=void 0,s=void 0,a=void 0;for(o=0,s=this.patterns.length;o<s;o++)a=n.getRule(this.patterns[o]),a.collectPatternsRecursive(n,r,!1)}else r.push(this._begin)},e.prototype.compile=function(n,r,i,o){return this._precompile(n),this._cachedCompiledPatterns.compile(n,i,o)},e.prototype._precompile=function(n){this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Ft,this.collectPatternsRecursive(n,this._cachedCompiledPatterns,!0))},e.prototype.compileWhile=function(n,r,i,o){return this._precompileWhile(n),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,r),this._cachedCompiledWhilePatterns.compile(n,i,o)},e.prototype._precompileWhile=function(n){this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new Ft,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while))},e}(zt);Ne.BeginWhileRule=Wr;var Ku=function(){function t(){}return t.createCaptureRule=function(e,n,r,i,o){return e.registerRule(function(s){return new Ts(n,s,r,i,o)})},t.getCompiledRuleId=function(e,n,r){return e.id||n.registerRule(function(i){return e.id=i,e.match?new ks(e.$vscodeTextmateLocation,e.id,e.name,e.match,t._compileCaptures(e.captures,n,r)):e.begin?e.while?new Wr(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,t._compileCaptures(e.beginCaptures||e.captures,n,r),e.while,t._compileCaptures(e.whileCaptures||e.captures,n,r),t._compilePatterns(e.patterns,n,r)):new Ur(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,t._compileCaptures(e.beginCaptures||e.captures,n,r),e.end,t._compileCaptures(e.endCaptures||e.captures,n,r),e.applyEndPatternLast,t._compilePatterns(e.patterns,n,r)):(e.repository&&(r=on.mergeObjects({},r,e.repository)),new Fr(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,t._compilePatterns(e.patterns,n,r)))}),e.id},t._compileCaptures=function(e,n,r){var i=[],o,s,a,c;if(e){s=0;for(c in e)c!=="$vscodeTextmateLocation"&&(o=parseInt(c,10),o>s&&(s=o));for(a=0;a<=s;a++)i[a]=null;for(c in e)if(c!=="$vscodeTextmateLocation"){o=parseInt(c,10);var u=0;e[c].patterns&&(u=t.getCompiledRuleId(e[c],n,r)),i[o]=t.createCaptureRule(n,e[c].$vscodeTextmateLocation,e[c].name,e[c].contentName,u)}}return i},t._compilePatterns=function(e,n,r){var i=[],o,s,a,c,u,h,f;if(e)for(s=0,a=e.length;s<a;s++){if(o=e[s],c=-1,o.include)if(o.include.charAt(0)==="#"){var p=r[o.include.substr(1)];p&&(c=t.getCompiledRuleId(p,n,r))}else if(o.include==="$base"||o.include==="$self")c=t.getCompiledRuleId(r[o.include],n,r);else{var T=null,g=null,C=o.include.indexOf("#");if(C>=0?(T=o.include.substring(0,C),g=o.include.substring(C+1)):T=o.include,u=n.getExternalGrammar(T,r),u)if(g){var k=u.repository[g];k&&(c=t.getCompiledRuleId(k,n,u.repository))}else c=t.getCompiledRuleId(u.repository.$self,n,u.repository)}else c=t.getCompiledRuleId(o,n,r);if(c!==-1){if(h=n.getRule(c),f=!1,(h instanceof Fr||h instanceof Ur||h instanceof Wr)&&h.hasMissingPatterns&&h.patterns.length===0&&(f=!0),f)continue;i.push(c)}}return{patterns:i,hasMissingPatterns:(e?e.length:0)!==i.length}},t}();Ne.RuleFactory=Ku;var hi={};Object.defineProperty(hi,"__esModule",{value:!0});function Xu(t,e){for(var n=[],r=Ju(t),i=r.next();i!==null;){var o=0;if(i.length===2&&i.charAt(1)===":"){switch(i.charAt(0)){case"R":o=1;break;case"L":o=-1;break;default:console.log("Unknown priority "+i+" in scope selector")}i=r.next()}var s=c();if(s&&n.push({matcher:s,priority:o}),i!==",")break;i=r.next()}return n;function a(){if(i==="-"){i=r.next();var h=a();return function(T){return h&&!h(T)}}if(i==="("){i=r.next();var f=u();return i===")"&&(i=r.next()),f}if(ao(i)){var p=[];do p.push(i),i=r.next();while(ao(i));return function(T){return e(p,T)}}return null}function c(){for(var h=[],f=a();f;)h.push(f),f=a();return function(p){return h.every(function(T){return T(p)})}}function u(){for(var h=[],f=c();f&&(h.push(f),i==="|"||i===",");){do i=r.next();while(i==="|"||i===",");f=c()}return function(p){return h.some(function(T){return T(p)})}}}hi.createMatchers=Xu;function ao(t){return t&&t.match(/[\w\.:]+/)}function Ju(t){var e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,n=e.exec(t);return{next:function(){if(!n)return null;var r=n[0];return n=e.exec(t),r}}}var An={};Object.defineProperty(An,"__esModule",{value:!0});An.CAPTURE_METADATA=typeof process>"u"?!1:!!process.env.VSCODE_TEXTMATE_DEBUG;An.IN_DEBUG_MODE=typeof process>"u"?!1:!!process.env.VSCODE_TEXTMATE_DEBUG;Object.defineProperty(ze,"__esModule",{value:!0});var Yu=Wt,ge=Ne,Os=hi,Ue=An;function Vu(t,e,n,r,i){return new Is(t,e,n,r,i)}ze.createGrammar=Vu;function di(t,e){for(var n=0,r=e.length;n<r;n++){Array.isArray(e[n].patterns)&&di(t,e[n].patterns);var i=e[n].include;if(i&&!(i==="$base"||i==="$self")&&i.charAt(0)!=="#"){var o=i.indexOf("#");o>=0?t[i.substring(0,o)]=!0:t[i]=!0}}}function Rs(t,e){for(var n in e){var r=e[n];r.patterns&&Array.isArray(r.patterns)&&di(t,r.patterns),r.repository&&Rs(t,r.repository)}}function Qu(t,e){e.patterns&&Array.isArray(e.patterns)&&di(t,e.patterns),e.repository&&Rs(t,e.repository),delete t[e.scopeName]}ze.collectIncludedScopes=Qu;function Zu(t,e){if(!t)return!1;if(t===e)return!0;var n=e.length;return t.length>n&&t.substr(0,n)===e&&t[n]==="."}function Ps(t,e){if(e.length<t.length)return!1;var n=0;return t.every(function(r){for(var i=n;i<e.length;i++)if(Zu(e[i],r))return n=i+1,!0;return!1})}function co(t,e,n,r,i){for(var o=Os.createMatchers(e,Ps),s=ge.RuleFactory.getCompiledRuleId(n,r,i.repository),a=0,c=o;a<c.length;a++){var u=c[a];t.push({matcher:u.matcher,ruleId:s,grammar:i,priority:u.priority})}}var Ln=function(){function t(e,n,r,i){this.scopeName=e,this.languageId=n,this.tokenType=r,this.themeData=i}return t}();ze.ScopeMetadata=Ln;var el=function(){function t(e,n,r){if(this._initialLanguage=e,this._themeProvider=n,this.onDidChangeTheme(),this._embeddedLanguages=Object.create(null),r)for(var i=Object.keys(r),o=0,s=i.length;o<s;o++){var a=i[o],c=r[a];if(typeof c!="number"||c===0){console.warn("Invalid embedded language found at scope "+a+": <<"+c+">>");continue}this._embeddedLanguages[a]=c}var u=Object.keys(this._embeddedLanguages).map(function(h){return t._escapeRegExpCharacters(h)});u.length===0?this._embeddedLanguagesRegex=null:(u.sort(),u.reverse(),this._embeddedLanguagesRegex=new RegExp("^(("+u.join(")|(")+"))($|\\.)",""))}return t.prototype.onDidChangeTheme=function(){this._cache=Object.create(null),this._defaultMetaData=new Ln("",this._initialLanguage,0,[this._themeProvider.getDefaults()])},t.prototype.getDefaultMetadata=function(){return this._defaultMetaData},t._escapeRegExpCharacters=function(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},t.prototype.getMetadataForScope=function(e){if(e===null)return t._NULL_SCOPE_METADATA;var n=this._cache[e];return n||(n=this._doGetMetadataForScope(e),this._cache[e]=n,n)},t.prototype._doGetMetadataForScope=function(e){var n=this._scopeToLanguage(e),r=this._toStandardTokenType(e),i=this._themeProvider.themeMatch(e);return new Ln(e,n,r,i)},t.prototype._scopeToLanguage=function(e){if(!e||!this._embeddedLanguagesRegex)return 0;var n=e.match(this._embeddedLanguagesRegex);if(!n)return 0;var r=this._embeddedLanguages[n[1]]||0;return r||0},t.prototype._toStandardTokenType=function(e){var n=e.match(t.STANDARD_TOKEN_TYPE_REGEXP);if(!n)return 0;switch(n[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"meta.embedded":return 8}throw new Error("Unexpected match for standard token type!")},t._NULL_SCOPE_METADATA=new Ln("",0,0,null),t.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/,t}(),Is=function(){function t(e,n,r,i,o){if(this._scopeMetadataProvider=new el(n,o,r),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[],this._includedGrammars={},this._grammarRepository=o,this._grammar=uo(e,null),this._tokenTypeMatchers=[],i)for(var s=0,a=Object.keys(i);s<a.length;s++)for(var c=a[s],u=Os.createMatchers(c,Ps),h=0,f=u;h<f.length;h++){var p=f[h];this._tokenTypeMatchers.push({matcher:p.matcher,type:i[c]})}}return t.prototype.onDidChangeTheme=function(){this._scopeMetadataProvider.onDidChangeTheme()},t.prototype.getMetadataForScope=function(e){return this._scopeMetadataProvider.getMetadataForScope(e)},t.prototype.getInjections=function(){var e=this;if(!this._injections){this._injections=[];var n=this._grammar.injections;if(n)for(var r in n)co(this._injections,r,n[r],this,this._grammar);if(this._grammarRepository){var i=this._grammarRepository.injections(this._grammar.scopeName);i&&i.forEach(function(o){var s=e.getExternalGrammar(o);if(s){var a=s.injectionSelector;a&&co(e._injections,a,s,e,s)}})}this._injections.sort(function(o,s){return o.priority-s.priority})}return this._injections.length===0?this._injections:this._injections},t.prototype.registerRule=function(e){var n=++this._lastRuleId,r=e(n);return this._ruleId2desc[n]=r,r},t.prototype.getRule=function(e){return this._ruleId2desc[e]},t.prototype.getExternalGrammar=function(e,n){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){var r=this._grammarRepository.lookup(e);if(r)return this._includedGrammars[e]=uo(r,n&&n.$base),this._includedGrammars[e]}},t.prototype.tokenizeLine=function(e,n){var r=this._tokenize(e,n,!1);return{tokens:r.lineTokens.getResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack}},t.prototype.tokenizeLine2=function(e,n){var r=this._tokenize(e,n,!0);return{tokens:r.lineTokens.getBinaryResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack}},t.prototype._tokenize=function(e,n,r){this._rootId===-1&&(this._rootId=ge.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository));var i;if(!n||n===zr.NULL){i=!0;var o=this._scopeMetadataProvider.getDefaultMetadata(),s=o.themeData[0],a=ir.set(0,o.languageId,o.tokenType,s.fontStyle,s.foreground,s.background),c=this.getRule(this._rootId).getName(null,null),u=this._scopeMetadataProvider.getMetadataForScope(c),h=Hr.mergeMetadata(a,null,u),f=new Hr(null,c,h);n=new zr(null,this._rootId,-1,null,f,f)}else i=!1,n.reset();e=e+`
`;var p=ge.createOnigString(e),T=ge.getString(p).length,g=new ol(r,e,this._tokenTypeMatchers),C=xs(this,p,i,0,n,g);return{lineLength:T,lineTokens:g,ruleStack:C}},t}();ze.Grammar=Is;function uo(t,e){return t=Yu.clone(t),t.repository=t.repository||{},t.repository.$self={$vscodeTextmateLocation:t.$vscodeTextmateLocation,patterns:t.patterns,name:t.scopeName},t.repository.$base=e||t.repository.$self,t}function sn(t,e,n,r,i,o,s){if(o.length!==0){for(var a=Math.min(o.length,s.length),c=[],u=s[0].end,h=0;h<a;h++){var f=o[h];if(f!==null){var p=s[h];if(p.length!==0){if(p.start>u)break;for(;c.length>0&&c[c.length-1].endPos<=p.start;)i.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop();if(c.length>0?i.produceFromScopes(c[c.length-1].scopes,p.start):i.produce(r,p.start),f.retokenizeCapturedWithRuleId){var T=f.getName(ge.getString(e),s),g=r.contentNameScopesList.push(t,T),C=f.getContentName(ge.getString(e),s),k=g.push(t,C),m=r.push(f.retokenizeCapturedWithRuleId,p.start,null,g,k);xs(t,ge.createOnigString(ge.getString(e).substring(0,p.end)),n&&p.start===0,p.start,m,i);continue}var w=f.getName(ge.getString(e),s);if(w!==null){var E=c.length>0?c[c.length-1].scopes:r.contentNameScopesList,A=E.push(t,w);c.push(new Ns(A,p.end))}}}}for(;c.length>0;)i.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop()}}function pi(t){for(var e=[],n=0,r=t.rules.length;n<r;n++)e.push("   - "+t.rules[n]+": "+t.debugRegExps[n]);return e.join(`
`)}function tl(t,e,n,r,i,o,s){for(var a=Number.MAX_VALUE,c=null,u,h=0,f=o.contentNameScopesList.generateScopes(),p=0,T=t.length;p<T;p++){var g=t[p];if(g.matcher(f)){var C=e.getRule(g.ruleId).compile(e,null,r,i===s),k=C.scanner.findNextMatchSync(n,i);if(Ue.IN_DEBUG_MODE&&(console.log("  scanning for injections"),console.log(pi(C))),!!k){var m=k.captureIndices[0].start;if(!(m>=a)&&(a=m,c=k.captureIndices,u=C.rules[k.index],h=g.priority,a===i))break}}}return c?{priorityMatch:h===-1,captureIndices:c,matchedRuleId:u}:null}function nl(t,e,n,r,i,o){var s=i.getRule(t),a=s.compile(t,i.endRule,n,r===o),c=a.scanner.findNextMatchSync(e,r);return Ue.IN_DEBUG_MODE&&(console.log("  scanning for"),console.log(pi(a))),c?{captureIndices:c.captureIndices,matchedRuleId:a.rules[c.index]}:null}function rl(t,e,n,r,i,o){var s=nl(t,e,n,r,i,o),a=t.getInjections();if(a.length===0)return s;var c=tl(a,t,e,n,r,i,o);if(!c)return s;if(!s)return c;var u=s.captureIndices[0].start,h=c.captureIndices[0].start;return h<u||c.priorityMatch&&h===u?c:s}function il(t,e,n,r,i,o){for(var s=-1,a=[],c=i;c;c=c.pop()){var u=c.getRule(t);u instanceof ge.BeginWhileRule&&a.push({rule:u,stack:c})}for(var h=a.pop();h;h=a.pop()){var f=h.rule.compileWhile(t,h.stack.endRule,n,s===r),p=f.scanner.findNextMatchSync(e,r);if(Ue.IN_DEBUG_MODE&&(console.log("  scanning for while rule"),console.log(pi(f))),p){var T=f.rules[p.index];if(T!==-2){i=h.stack.pop();break}p.captureIndices&&p.captureIndices.length&&(o.produce(h.stack,p.captureIndices[0].start),sn(t,e,n,h.stack,o,h.rule.whileCaptures,p.captureIndices),o.produce(h.stack,p.captureIndices[0].end),s=p.captureIndices[0].end,p.captureIndices[0].end>r&&(r=p.captureIndices[0].end,n=!1))}else{i=h.stack.pop();break}}return{stack:i,linePos:r,anchorPosition:s,isFirstLine:n}}function xs(t,e,n,r,i,o){var s=ge.getString(e).length,a=!1,c=il(t,e,n,r,i,o);i=c.stack,r=c.linePos,n=c.isFirstLine;for(var u=c.anchorPosition;!a;)h();function h(){Ue.IN_DEBUG_MODE&&(console.log(""),console.log("@@scanNext: |"+ge.getString(e).replace(/\n$/,"\\n").substr(r)+"|"));var f=rl(t,e,n,r,i,u);if(!f){Ue.IN_DEBUG_MODE&&console.log("  no more matches."),o.produce(i,s),a=!0;return}var p=f.captureIndices,T=f.matchedRuleId,g=p&&p.length>0?p[0].end>r:!1;if(T===-1){var C=i.getRule(t);Ue.IN_DEBUG_MODE&&console.log("  popping "+C.debugName+" - "+C.debugEndRegExp),o.produce(i,p[0].start),i=i.setContentNameScopesList(i.nameScopesList),sn(t,e,n,i,o,C.endCaptures,p),o.produce(i,p[0].end);var k=i;if(i=i.pop(),!g&&k.getEnterPos()===r){console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),i=k,o.produce(i,s),a=!0;return}}else{var m=t.getRule(T);o.produce(i,p[0].start);var w=i,E=m.getName(ge.getString(e),p),A=i.contentNameScopesList.push(t,E);if(i=i.push(T,r,null,A,A),m instanceof ge.BeginEndRule){var _=m;Ue.IN_DEBUG_MODE&&console.log("  pushing "+_.debugName+" - "+_.debugBeginRegExp),sn(t,e,n,i,o,_.beginCaptures,p),o.produce(i,p[0].end),u=p[0].end;var l=_.getContentName(ge.getString(e),p),v=A.push(t,l);if(i=i.setContentNameScopesList(v),_.endHasBackReferences&&(i=i.setEndRule(_.getEndWithResolvedBackReferences(ge.getString(e),p))),!g&&w.hasSameRuleAs(i)){console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),i=i.pop(),o.produce(i,s),a=!0;return}}else if(m instanceof ge.BeginWhileRule){var _=m;Ue.IN_DEBUG_MODE&&console.log("  pushing "+_.debugName),sn(t,e,n,i,o,_.beginCaptures,p),o.produce(i,p[0].end),u=p[0].end;var l=_.getContentName(ge.getString(e),p),v=A.push(t,l);if(i=i.setContentNameScopesList(v),_.whileHasBackReferences&&(i=i.setEndRule(_.getWhileWithResolvedBackReferences(ge.getString(e),p))),!g&&w.hasSameRuleAs(i)){console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),i=i.pop(),o.produce(i,s),a=!0;return}}else{var y=m;if(Ue.IN_DEBUG_MODE&&console.log("  matched "+y.debugName+" - "+y.debugMatchRegExp),sn(t,e,n,i,o,y.captures,p),o.produce(i,p[0].end),i=i.pop(),!g){console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),i=i.safePop(),o.produce(i,s),a=!0;return}}}p[0].end>r&&(r=p[0].end,n=!1)}return i}var ir=function(){function t(){}return t.toBinaryStr=function(e){for(var n=e.toString(2);n.length<32;)n="0"+n;return n},t.printMetadata=function(e){var n=t.getLanguageId(e),r=t.getTokenType(e),i=t.getFontStyle(e),o=t.getForeground(e),s=t.getBackground(e);console.log({languageId:n,tokenType:r,fontStyle:i,foreground:o,background:s})},t.getLanguageId=function(e){return(e&255)>>>0},t.getTokenType=function(e){return(e&1792)>>>8},t.getFontStyle=function(e){return(e&14336)>>>11},t.getForeground=function(e){return(e&8372224)>>>14},t.getBackground=function(e){return(e&4286578688)>>>23},t.set=function(e,n,r,i,o,s){var a=t.getLanguageId(e),c=t.getTokenType(e),u=t.getFontStyle(e),h=t.getForeground(e),f=t.getBackground(e);return n!==0&&(a=n),r!==0&&(c=r===8?0:r),i!==-1&&(u=i),o!==0&&(h=o),s!==0&&(f=s),(a<<0|c<<8|u<<11|h<<14|f<<23)>>>0},t}();ze.StackElementMetadata=ir;var Hr=function(){function t(e,n,r){this.parent=e,this.scope=n,this.metadata=r}return t._equals=function(e,n){do{if(e===n)return!0;if(e.scope!==n.scope||e.metadata!==n.metadata)return!1;if(e=e.parent,n=n.parent,!e&&!n)return!0;if(!e||!n)return!1}while(!0)},t.prototype.equals=function(e){return t._equals(this,e)},t._matchesScope=function(e,n,r){return n===e||e.substring(0,r.length)===r},t._matches=function(e,n){if(n===null)return!0;for(var r=n.length,i=0,o=n[i],s=o+".";e;){if(this._matchesScope(e.scope,o,s)){if(i++,i===r)return!0;o=n[i],s=o+"."}e=e.parent}return!1},t.mergeMetadata=function(e,n,r){if(r===null)return e;var i=-1,o=0,s=0;if(r.themeData!==null)for(var a=0,c=r.themeData.length;a<c;a++){var u=r.themeData[a];if(this._matches(n,u.parentScopes)){i=u.fontStyle,o=u.foreground,s=u.background;break}}return ir.set(e,r.languageId,r.tokenType,i,o,s)},t._push=function(e,n,r){for(var i=0,o=r.length;i<o;i++){var s=r[i],a=n.getMetadataForScope(s),c=t.mergeMetadata(e.metadata,e,a);e=new t(e,s,c)}return e},t.prototype.push=function(e,n){return n===null?this:n.indexOf(" ")>=0?t._push(this,e,n.split(/ /g)):t._push(this,e,[n])},t._generateScopes=function(e){for(var n=[],r=0;e;)n[r++]=e.scope,e=e.parent;return n.reverse(),n},t.prototype.generateScopes=function(){return t._generateScopes(this)},t}();ze.ScopeListElement=Hr;var zr=function(){function t(e,n,r,i,o,s){this.parent=e,this.depth=this.parent?this.parent.depth+1:1,this.ruleId=n,this._enterPos=r,this.endRule=i,this.nameScopesList=o,this.contentNameScopesList=s}return t._structuralEquals=function(e,n){do{if(e===n)return!0;if(e.depth!==n.depth||e.ruleId!==n.ruleId||e.endRule!==n.endRule)return!1;if(e=e.parent,n=n.parent,!e&&!n)return!0;if(!e||!n)return!1}while(!0)},t._equals=function(e,n){return e===n?!0:this._structuralEquals(e,n)?e.contentNameScopesList.equals(n.contentNameScopesList):!1},t.prototype.clone=function(){return this},t.prototype.equals=function(e){return e===null?!1:t._equals(this,e)},t._reset=function(e){for(;e;)e._enterPos=-1,e=e.parent},t.prototype.reset=function(){t._reset(this)},t.prototype.pop=function(){return this.parent},t.prototype.safePop=function(){return this.parent?this.parent:this},t.prototype.push=function(e,n,r,i,o){return new t(this,e,n,r,i,o)},t.prototype.getEnterPos=function(){return this._enterPos},t.prototype.getRule=function(e){return e.getRule(this.ruleId)},t.prototype._writeString=function(e,n){return this.parent&&(n=this.parent._writeString(e,n)),e[n++]="("+this.ruleId+", TODO-"+this.nameScopesList+", TODO-"+this.contentNameScopesList+")",n},t.prototype.toString=function(){var e=[];return this._writeString(e,0),"["+e.join(",")+"]"},t.prototype.setContentNameScopesList=function(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this.endRule,this.nameScopesList,e)},t.prototype.setEndRule=function(e){return this.endRule===e?this:new t(this.parent,this.ruleId,this._enterPos,e,this.nameScopesList,this.contentNameScopesList)},t.prototype.hasSameRuleAs=function(e){return this.ruleId===e.ruleId},t.NULL=new t(null,0,0,null,null,null),t}();ze.StackElement=zr;var Ns=function(){function t(e,n){this.scopes=e,this.endPos=n}return t}();ze.LocalStackElement=Ns;var ol=function(){function t(e,n,r){this._emitBinaryTokens=e,this._tokenTypeOverrides=r,Ue.IN_DEBUG_MODE&&(this._lineText=n),this._emitBinaryTokens?this._binaryTokens=[]:this._tokens=[],this._lastTokenEndIndex=0}return t.prototype.produce=function(e,n){this.produceFromScopes(e.contentNameScopesList,n)},t.prototype.produceFromScopes=function(e,n){if(!(this._lastTokenEndIndex>=n)){if(this._emitBinaryTokens){for(var r=e.metadata,i=0,o=this._tokenTypeOverrides;i<o.length;i++){var s=o[i];s.matcher(e.generateScopes())&&(r=ir.set(r,0,sl(s.type),-1,0,0))}if(this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===r){this._lastTokenEndIndex=n;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(r),this._lastTokenEndIndex=n;return}var a=e.generateScopes();if(Ue.IN_DEBUG_MODE){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,n).replace(/\n$/,"\\n")+"|");for(var c=0;c<a.length;c++)console.log("      * "+a[c])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:n,scopes:a}),this._lastTokenEndIndex=n}},t.prototype.getResult=function(e,n){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===n-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,n),this._tokens[this._tokens.length-1].startIndex=0),this._tokens},t.prototype.getBinaryResult=function(e,n){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===n-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,n),this._binaryTokens[this._binaryTokens.length-2]=0);for(var r=new Uint32Array(this._binaryTokens.length),i=0,o=this._binaryTokens.length;i<o;i++)r[i]=this._binaryTokens[i];return r},t}();function sl(t){switch(t){case 4:return 4;case 2:return 2;case 1:return 1;case 0:default:return 8}}Object.defineProperty(ui,"__esModule",{value:!0});var lo=ze,al=function(){function t(e){this._theme=e,this._grammars={},this._rawGrammars={},this._injectionGrammars={}}return t.prototype.setTheme=function(e){var n=this;this._theme=e,Object.keys(this._grammars).forEach(function(r){var i=n._grammars[r];i.onDidChangeTheme()})},t.prototype.getColorMap=function(){return this._theme.getColorMap()},t.prototype.addGrammar=function(e,n){this._rawGrammars[e.scopeName]=e;var r={};return lo.collectIncludedScopes(r,e),n&&(this._injectionGrammars[e.scopeName]=n,n.forEach(function(i){r[i]=!0})),Object.keys(r)},t.prototype.lookup=function(e){return this._rawGrammars[e]},t.prototype.injections=function(e){return this._injectionGrammars[e]},t.prototype.getDefaults=function(){return this._theme.getDefaults()},t.prototype.themeMatch=function(e){return this._theme.match(e)},t.prototype.grammarForScopeName=function(e,n,r,i){if(!this._grammars[e]){var o=this._rawGrammars[e];if(!o)return null;this._grammars[e]=lo.createGrammar(o,n,r,i,this)}return this._grammars[e]},t}();ui.SyncRegistry=al;var or={},Ut={};Ut.__esModule=!0;Ut.parse=Ut.parseWithLocation=void 0;function cl(t,e,n){return Ms(t,e,n)}Ut.parseWithLocation=cl;function ul(t){return Ms(t,null,null)}Ut.parse=ul;function Ms(t,e,n){var r=t.length,i=0,o=1,s=0;r>0&&t.charCodeAt(0)===65279&&(i=1);function a($){if(n===null)i=i+$;else for(;$>0;){var H=t.charCodeAt(i);H===10?(i++,o++,s=0):(i++,s++),$--}}function c($){n===null?i=$:a($-i)}function u(){for(;i<r;){var $=t.charCodeAt(i);if($!==32&&$!==9&&$!==13&&$!==10)break;a(1)}}function h($){return t.substr(i,$.length)===$?(a($.length),!0):!1}function f($){var H=t.indexOf($,i);c(H!==-1?H+$.length:r)}function p($){var H=t.indexOf($,i);if(H!==-1){var ee=t.substring(i,H);return c(H+$.length),ee}else{var ee=t.substr(i);return c(r),ee}}var T=0,g=null,C=[],k=[],m=null;function w($,H){C.push(T),k.push(g),T=$,g=H}function E(){if(C.length===0)return A("illegal state stack");T=C.pop(),g=k.pop()}function A($){throw new Error("Near offset "+i+": "+$+" ~~~"+t.substr(i,50)+"~~~")}var _={enterDict:function(){if(m===null)return A("missing <key>");var $={};n!==null&&($[n]={filename:e,line:o,char:s}),g[m]=$,m=null,w(1,$)},enterArray:function(){if(m===null)return A("missing <key>");var $=[];g[m]=$,m=null,w(2,$)}},l={enterDict:function(){var $={};n!==null&&($[n]={filename:e,line:o,char:s}),g.push($),w(1,$)},enterArray:function(){var $=[];g.push($),w(2,$)}};function v(){T===1?_.enterDict():T===2?l.enterDict():(g={},n!==null&&(g[n]={filename:e,line:o,char:s}),w(1,g))}function y(){if(T===1)E();else return A("unexpected </dict>")}function d(){T===1?_.enterArray():T===2?l.enterArray():(g=[],w(2,g))}function b(){if(T===1)return A("unexpected </array>");if(T===2)E();else return A("unexpected </array>")}function S($){if(T===1){if(m!==null)return A("too many <key>");m=$}else return A("unexpected <key>")}function O($){if(T===1){if(m===null)return A("missing <key>");g[m]=$,m=null}else T===2?g.push($):g=$}function P($){if(isNaN($))return A("cannot parse float");if(T===1){if(m===null)return A("missing <key>");g[m]=$,m=null}else T===2?g.push($):g=$}function N($){if(isNaN($))return A("cannot parse integer");if(T===1){if(m===null)return A("missing <key>");g[m]=$,m=null}else T===2?g.push($):g=$}function L($){if(T===1){if(m===null)return A("missing <key>");g[m]=$,m=null}else T===2?g.push($):g=$}function I($){if(T===1){if(m===null)return A("missing <key>");g[m]=$,m=null}else T===2?g.push($):g=$}function W($){if(T===1){if(m===null)return A("missing <key>");g[m]=$,m=null}else T===2?g.push($):g=$}function U($){return $.replace(/&#([0-9]+);/g,function(H,ee){return String.fromCodePoint(parseInt(ee,10))}).replace(/&#x([0-9a-f]+);/g,function(H,ee){return String.fromCodePoint(parseInt(ee,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(H){switch(H){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return H})}function G(){var $=p(">"),H=!1;return $.charCodeAt($.length-1)===47&&(H=!0,$=$.substring(0,$.length-1)),{name:$.trim(),isClosed:H}}function Q($){if($.isClosed)return"";var H=p("</");return f(">"),U(H)}for(;i<r&&(u(),!(i>=r));){var ne=t.charCodeAt(i);if(a(1),ne!==60)return A("expected <");if(i>=r)return A("unexpected end of input");var Z=t.charCodeAt(i);if(Z===63){a(1),f("?>");continue}if(Z===33){if(a(1),h("--")){f("-->");continue}f(">");continue}if(Z===47){if(a(1),u(),h("plist")){f(">");continue}if(h("dict")){f(">"),y();continue}if(h("array")){f(">"),b();continue}return A("unexpected closed tag")}var V=G();switch(V.name){case"dict":v(),V.isClosed&&y();continue;case"array":d(),V.isClosed&&b();continue;case"key":S(Q(V));continue;case"string":O(Q(V));continue;case"real":P(parseFloat(Q(V)));continue;case"integer":N(parseInt(Q(V),10));continue;case"date":L(new Date(Q(V)));continue;case"data":I(Q(V));continue;case"true":Q(V),W(!0);continue;case"false":Q(V),W(!1);continue}if(!/^plist/.test(V.name))return A("unexpected opened tag "+V.name)}return g}var gi={};Object.defineProperty(gi,"__esModule",{value:!0});function Ls(t,e){throw new Error("Near offset "+t.pos+": "+e+" ~~~"+t.source.substr(t.pos,50)+"~~~")}function ll(t,e,n){var r=new fl(t),i=new hl,o=0,s=null,a=[],c=[];function u(){a.push(o),c.push(s)}function h(){o=a.pop(),s=c.pop()}function f(C){Ls(r,C)}for(;br(r,i);){if(o===0){if(s!==null&&f("too many constructs in root"),i.type===3){s={},n&&(s.$vscodeTextmateLocation=i.toLocation(e)),u(),o=1;continue}if(i.type===2){s=[],u(),o=4;continue}f("unexpected token in root")}if(o===2){if(i.type===5){h();continue}if(i.type===7){o=3;continue}f("expected , or }")}if(o===1||o===3){if(o===1&&i.type===5){h();continue}if(i.type===1){var p=i.value;if((!br(r,i)||i.type!==6)&&f("expected colon"),br(r,i)||f("expected value"),o=2,i.type===1){s[p]=i.value;continue}if(i.type===8){s[p]=null;continue}if(i.type===9){s[p]=!0;continue}if(i.type===10){s[p]=!1;continue}if(i.type===11){s[p]=parseFloat(i.value);continue}if(i.type===2){var T=[];s[p]=T,u(),o=4,s=T;continue}if(i.type===3){var g={};n&&(g.$vscodeTextmateLocation=i.toLocation(e)),s[p]=g,u(),o=1,s=g;continue}}f("unexpected token in dict")}if(o===5){if(i.type===4){h();continue}if(i.type===7){o=6;continue}f("expected , or ]")}if(o===4||o===6){if(o===4&&i.type===4){h();continue}if(o=5,i.type===1){s.push(i.value);continue}if(i.type===8){s.push(null);continue}if(i.type===9){s.push(!0);continue}if(i.type===10){s.push(!1);continue}if(i.type===11){s.push(parseFloat(i.value));continue}if(i.type===2){var T=[];s.push(T),u(),o=4,s=T;continue}if(i.type===3){var g={};n&&(g.$vscodeTextmateLocation=i.toLocation(e)),s.push(g),u(),o=1,s=g;continue}f("unexpected token in array")}f("unknown state")}return c.length!==0&&f("unclosed constructs"),s}gi.parse=ll;var fl=function(){function t(e){this.source=e,this.pos=0,this.len=e.length,this.line=1,this.char=0}return t}(),hl=function(){function t(){this.value=null,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}return t.prototype.toLocation=function(e){return{filename:e,line:this.line,char:this.char}},t}();function br(t,e){e.value=null,e.type=0,e.offset=-1,e.len=-1,e.line=-1,e.char=-1;var n=t.source,r=t.pos,i=t.len,o=t.line,s=t.char,a;do{if(r>=i)return!1;if(a=n.charCodeAt(r),a===32||a===9||a===13){r++,s++;continue}if(a===10){r++,o++,s=0;continue}break}while(!0);if(e.offset=r,e.line=o,e.char=s,a===34){e.type=1,r++,s++;do{if(r>=i)return!1;if(a=n.charCodeAt(r),r++,s++,a===92){r++,s++;continue}if(a===34)break}while(!0);e.value=n.substring(e.offset+1,r-1).replace(/\\u([0-9A-Fa-f]{4})/g,function(c,u){return String.fromCodePoint(parseInt(u,16))}).replace(/\\(.)/g,function(c,u){switch(u){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:Ls(t,"invalid escape sequence")}})}else if(a===91)e.type=2,r++,s++;else if(a===123)e.type=3,r++,s++;else if(a===93)e.type=4,r++,s++;else if(a===125)e.type=5,r++,s++;else if(a===58)e.type=6,r++,s++;else if(a===44)e.type=7,r++,s++;else if(a===110){if(e.type=8,r++,s++,a=n.charCodeAt(r),a!==117||(r++,s++,a=n.charCodeAt(r),a!==108)||(r++,s++,a=n.charCodeAt(r),a!==108))return!1;r++,s++}else if(a===116){if(e.type=9,r++,s++,a=n.charCodeAt(r),a!==114||(r++,s++,a=n.charCodeAt(r),a!==117)||(r++,s++,a=n.charCodeAt(r),a!==101))return!1;r++,s++}else if(a===102){if(e.type=10,r++,s++,a=n.charCodeAt(r),a!==97||(r++,s++,a=n.charCodeAt(r),a!==108)||(r++,s++,a=n.charCodeAt(r),a!==115)||(r++,s++,a=n.charCodeAt(r),a!==101))return!1;r++,s++}else{e.type=11;do{if(r>=i)return!1;if(a=n.charCodeAt(r),a===46||a>=48&&a<=57||a===101||a===69||a===45||a===43){r++,s++;continue}break}while(!0)}return e.len=r-e.offset,e.value===null&&(e.value=n.substr(e.offset,e.len)),t.pos=r,t.line=o,t.char=s,!0}Object.defineProperty(or,"__esModule",{value:!0});var fo=Ut,$s=An,dl=gi;function pl(t,e){return $s.CAPTURE_METADATA?dl.parse(t,e,!0):JSON.parse(t)}or.parseJSONGrammar=pl;function gl(t,e){return $s.CAPTURE_METADATA?fo.parseWithLocation(t,e,"$vscodeTextmateLocation"):fo.parse(t)}or.parsePLISTGrammar=gl;var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});var js=function(){function t(e,n,r,i,o,s){this.scope=e,this.parentScopes=n,this.index=r,this.fontStyle=i,this.foreground=o,this.background=s}return t}();Ze.ParsedThemeRule=js;function ho(t){return!!(/^#[0-9a-f]{6}$/i.test(t)||/^#[0-9a-f]{8}$/i.test(t)||/^#[0-9a-f]{3}$/i.test(t)||/^#[0-9a-f]{4}$/i.test(t))}function Ds(t){if(!t)return[];if(!t.settings||!Array.isArray(t.settings))return[];for(var e=t.settings,n=[],r=0,i=0,o=e.length;i<o;i++){var s=e[i];if(s.settings){var a=void 0;if(typeof s.scope=="string"){var c=s.scope;c=c.replace(/^[,]+/,""),c=c.replace(/[,]+$/,""),a=c.split(",")}else Array.isArray(s.scope)?a=s.scope:a=[""];var u=-1;if(typeof s.settings.fontStyle=="string"){u=0;for(var h=s.settings.fontStyle.split(" "),f=0,p=h.length;f<p;f++){var T=h[f];switch(T){case"italic":u=u|1;break;case"bold":u=u|2;break;case"underline":u=u|4;break}}}var g=null;typeof s.settings.foreground=="string"&&ho(s.settings.foreground)&&(g=s.settings.foreground);var C=null;typeof s.settings.background=="string"&&ho(s.settings.background)&&(C=s.settings.background);for(var f=0,p=a.length;f<p;f++){var c=a[f].trim(),h=c.split(" "),k=h[h.length-1],m=null;h.length>1&&(m=h.slice(0,h.length-1),m.reverse()),n[r++]=new js(k,m,i,u,g,C)}}}return n}Ze.parseTheme=Ds;function ml(t){t.sort(function(f,p){var T=mi(f.scope,p.scope);return T!==0||(T=yi(f.parentScopes,p.parentScopes),T!==0)?T:f.index-p.index});for(var e=0,n="#000000",r="#ffffff";t.length>=1&&t[0].scope==="";){var i=t.shift();i.fontStyle!==-1&&(e=i.fontStyle),i.foreground!==null&&(n=i.foreground),i.background!==null&&(r=i.background)}for(var o=new Bs,s=new pn(0,null,e,o.getId(n),o.getId(r)),a=new Fs(new pn(0,null,-1,0,0),[]),c=0,u=t.length;c<u;c++){var h=t[c];a.insert(0,h.scope,h.parentScopes,h.fontStyle,o.getId(h.foreground),o.getId(h.background))}return new Gs(o,s,a)}var Bs=function(){function t(){this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null)}return t.prototype.getId=function(e){if(e===null)return 0;e=e.toUpperCase();var n=this._color2id[e];return n||(n=++this._lastColorId,this._color2id[e]=n,this._id2color[n]=e,n)},t.prototype.getColorMap=function(){return this._id2color.slice(0)},t}();Ze.ColorMap=Bs;var Gs=function(){function t(e,n,r){this._colorMap=e,this._root=r,this._defaults=n,this._cache={}}return t.createFromRawTheme=function(e){return this.createFromParsedTheme(Ds(e))},t.createFromParsedTheme=function(e){return ml(e)},t.prototype.getColorMap=function(){return this._colorMap.getColorMap()},t.prototype.getDefaults=function(){return this._defaults},t.prototype.match=function(e){return this._cache.hasOwnProperty(e)||(this._cache[e]=this._root.match(e)),this._cache[e]},t}();Ze.Theme=Gs;function mi(t,e){return t<e?-1:t>e?1:0}Ze.strcmp=mi;function yi(t,e){if(t===null&&e===null)return 0;if(!t)return-1;if(!e)return 1;var n=t.length,r=e.length;if(n===r){for(var i=0;i<n;i++){var o=mi(t[i],e[i]);if(o!==0)return o}return 0}return n-r}Ze.strArrCmp=yi;var pn=function(){function t(e,n,r,i,o){this.scopeDepth=e,this.parentScopes=n,this.fontStyle=r,this.foreground=i,this.background=o}return t.prototype.clone=function(){return new t(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)},t.cloneArr=function(e){for(var n=[],r=0,i=e.length;r<i;r++)n[r]=e[r].clone();return n},t.prototype.acceptOverwrite=function(e,n,r,i){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,n!==-1&&(this.fontStyle=n),r!==0&&(this.foreground=r),i!==0&&(this.background=i)},t}();Ze.ThemeTrieElementRule=pn;var Fs=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this._mainRule=e,this._rulesWithParentScopes=n,this._children=r}return t._sortBySpecificity=function(e){return e.length===1||e.sort(this._cmpBySpecificity),e},t._cmpBySpecificity=function(e,n){if(e.scopeDepth===n.scopeDepth){var r=e.parentScopes,i=n.parentScopes,o=r===null?0:r.length,s=i===null?0:i.length;if(o===s)for(var a=0;a<o;a++){var c=r[a].length,u=i[a].length;if(c!==u)return u-c}return s-o}return n.scopeDepth-e.scopeDepth},t.prototype.match=function(e){if(e==="")return t._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));var n=e.indexOf("."),r,i;return n===-1?(r=e,i=""):(r=e.substring(0,n),i=e.substring(n+1)),this._children.hasOwnProperty(r)?this._children[r].match(i):t._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))},t.prototype.insert=function(e,n,r,i,o,s){if(n===""){this._doInsertHere(e,r,i,o,s);return}var a=n.indexOf("."),c,u;a===-1?(c=n,u=""):(c=n.substring(0,a),u=n.substring(a+1));var h;this._children.hasOwnProperty(c)?h=this._children[c]:(h=new t(this._mainRule.clone(),pn.cloneArr(this._rulesWithParentScopes)),this._children[c]=h),h.insert(e+1,u,r,i,o,s)},t.prototype._doInsertHere=function(e,n,r,i,o){if(n===null){this._mainRule.acceptOverwrite(e,r,i,o);return}for(var s=0,a=this._rulesWithParentScopes.length;s<a;s++){var c=this._rulesWithParentScopes[s];if(yi(c.parentScopes,n)===0){c.acceptOverwrite(e,r,i,o);return}}r===-1&&(r=this._mainRule.fontStyle),i===0&&(i=this._mainRule.foreground),o===0&&(o=this._mainRule.background),this._rulesWithParentScopes.push(new pn(e,n,r,i,o))},t}();Ze.ThemeTrieElement=Fs;var Qt=Bt&&Bt.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(u){try{c(r.next(u))}catch(h){o(h)}}function a(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):new n(function(h){h(u.value)}).then(s,a)}c((r=r.apply(t,e||[])).next())})},Zt=Bt&&Bt.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(h){return c([u,h])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(h){u=[6,h],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(nr,"__esModule",{value:!0});var yl=ui,po=or,go=Ze,vl=ze,_l={getGrammarDefinition:function(t){return null},getInjections:function(t){return null}},bl=function(){function t(e){e===void 0&&(e=_l),this._locator=e,this._syncRegistry=new yl.SyncRegistry(go.Theme.createFromRawTheme(e.theme)),this.installationQueue=new Map}return t.prototype.setTheme=function(e){this._syncRegistry.setTheme(go.Theme.createFromRawTheme(e))},t.prototype.getColorMap=function(){return this._syncRegistry.getColorMap()},t.prototype.loadGrammarWithEmbeddedLanguages=function(e,n,r){return this.loadGrammarWithConfiguration(e,n,{embeddedLanguages:r})},t.prototype.loadGrammarWithConfiguration=function(e,n,r){return Qt(this,void 0,void 0,function(){return Zt(this,function(i){switch(i.label){case 0:return[4,this._loadGrammar(e)];case 1:return i.sent(),[2,this.grammarForScopeName(e,n,r.embeddedLanguages,r.tokenTypes)]}})})},t.prototype.loadGrammar=function(e){return Qt(this,void 0,void 0,function(){return Zt(this,function(n){return[2,this._loadGrammar(e)]})})},t.prototype._loadGrammar=function(e,n){return n===void 0&&(n=null),Qt(this,void 0,void 0,function(){var r,i=this;return Zt(this,function(o){switch(o.label){case 0:return this._syncRegistry.lookup(e)?[2,this.grammarForScopeName(e)]:this.installationQueue.has(e)?[2,this.installationQueue.get(e)]:(r=new Promise(function(s,a){return Qt(i,void 0,void 0,function(){var c,u,h,f,p=this;return Zt(this,function(T){switch(T.label){case 0:return[4,this._locator.getGrammarDefinition(e,n)];case 1:if(c=T.sent(),!c)throw new Error("A tmGrammar load was requested but registry host failed to provide grammar definition");if(c.format!=="json"&&c.format!=="plist"||c.format==="json"&&typeof c.content!="object"&&typeof c.content!="string"||c.format==="plist"&&typeof c.content!="string")throw new TypeError('Grammar definition must be an object, either `{ content: string | object, format: "json" }` OR `{ content: string, format: "plist" }`)');return u=c.format==="json"?typeof c.content=="string"?po.parseJSONGrammar(c.content,"c://fakepath/grammar.json"):c.content:po.parsePLISTGrammar(c.content,"c://fakepath/grammar.plist"),h=typeof this._locator.getInjections=="function"&&this._locator.getInjections(e),u.scopeName=e,f=this._syncRegistry.addGrammar(u,h),[4,Promise.all(f.map(function(g){return Qt(p,void 0,void 0,function(){return Zt(this,function(C){try{return[2,this._loadGrammar(g,e)]}catch(k){throw new Error("While trying to load tmGrammar with scopeId: '"+e+"', it's dependency (scopeId: "+g+") loading errored: "+k.message)}return[2]})})}))];case 2:return T.sent(),s(this.grammarForScopeName(e)),[2]}})})}),this.installationQueue.set(e,r),[4,r]);case 1:return o.sent(),this.installationQueue.delete(e),[2,r]}})})},t.prototype.grammarForScopeName=function(e,n,r,i){return n===void 0&&(n=0),r===void 0&&(r=null),i===void 0&&(i=null),this._syncRegistry.grammarForScopeName(e,n,r,i)},t}(),wl=nr.Registry=bl;nr.INITIAL=vl.StackElement.NULL;var sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.TMToMonacoToken=void 0;const Sl=(t,e)=>{let n="";for(let r=e[0].length-1;r>=0;r-=1){const i=e[0][r];if(i===".")break;n=i+n}for(let r=e.length-1;r>=0;r-=1){const i=e[r];for(let o=i.length-1;o>=0;o-=1)if(i[o]==="."){const a=i.slice(0,o);if(t._themeService._theme._tokenTheme._match(a+"."+n)._foreground>1)return a+"."+n;if(t._themeService._theme._tokenTheme._match(a)._foreground>1)return a}}return""};sr.TMToMonacoToken=Sl;Object.defineProperty(ci,"__esModule",{value:!0});var Us=ci.wireTmGrammars=void 0;const Al=nr,Cl=sr;class gn{_ruleStack;constructor(e){this._ruleStack=e}get ruleStack(){return this._ruleStack}clone(){return new gn(this._ruleStack)}equals(e){return!(!e||!(e instanceof gn)||e!==this||e._ruleStack!==this._ruleStack)}}function El(t,e,n,r){return Promise.all(Array.from(n.keys()).map(async i=>{const o=await e.loadGrammar(n.get(i));t.languages.setTokensProvider(i,{getInitialState:()=>new gn(Al.INITIAL),tokenize:(s,a)=>{const c=o.tokenizeLine(s,a.ruleStack);return{endState:new gn(c.ruleStack),tokens:c.tokens.map(u=>({...u,scopes:r?(0,Cl.TMToMonacoToken)(r,u.scopes):u.scopes[u.scopes.length-1]}))}}})}))}Us=ci.wireTmGrammars=El;const Tl=""+new URL("onigasm-b63d2d2d.wasm",import.meta.url).href;var wr;let mo,Ws,yo,vo,_o,bo;var kl=Qe("<div>"),Ol=Qe("<div class=root>");function Rl(t,e,n,r,i,o){function s(g,C,k){return function(m,w){return k&&k(m),g[C].call(m,w)}}function a(g,C){for(var k=0;k<g.length;k++)g[k].call(C);return C}function c(g,C,k,m){if(typeof g!="function"&&(m||g!==void 0))throw new TypeError(C+" must "+(k||"be")+" a function"+(m?"":" or undefined"));return g}function u(g,C,k,m,w,E,A,_,l,v,y,d,b){function S(F){if(!b(F))throw new TypeError("Attempted to access private element on non-instance")}var O,P=C[0],N=C[3],L=!_;if(!L){k||Array.isArray(P)||(P=[P]);var I={},W=[],U=w===3?"get":w===4||d?"set":"value";v?(y||d?I={get:wo(function(){return N(this)},m,"get"),set:function(F){C[4](this,F)}}:I[U]=N,y||wo(I[U],m,w===2?"":U)):y||(I=Object.getOwnPropertyDescriptor(g,m))}for(var G=g,Q=P.length-1;Q>=0;Q-=k?2:1){var ne=P[Q],Z=k?P[Q-1]:void 0,V={},$={kind:["field","accessor","method","getter","setter","class"][w],name:m,metadata:E,addInitializer:function(F,Y){if(F.v)throw Error("attempted to call addInitializer after decoration was finished");c(Y,"An initializer","be",!0),A.push(Y)}.bind(null,V)};try{if(L)(O=c(ne.call(Z,G,$),"class decorators","return"))&&(G=O);else{var H,ee;$.static=l,$.private=v,v?w===2?H=function(F){return S(F),I.value}:(w<4&&(H=s(I,"get",S)),w!==3&&(ee=s(I,"set",S))):(H=function(F){return F[m]},(w<2||w===4)&&(ee=function(F,Y){F[m]=Y}));var B=$.access={has:v?b.bind():function(F){return m in F}};if(H&&(B.get=H),ee&&(B.set=ee),G=ne.call(Z,d?{get:I.get,set:I.set}:I[U],$),d){if(typeof G=="object"&&G)(O=c(G.get,"accessor.get"))&&(I.get=O),(O=c(G.set,"accessor.set"))&&(I.set=O),(O=c(G.init,"accessor.init"))&&W.push(O);else if(G!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else c(G,(y?"field":"method")+" decorators","return")&&(y?W.push(G):I[U]=G)}}finally{V.v=!0}}return(y||d)&&_.push(function(F,Y){for(var te=W.length-1;te>=0;te--)Y=W[te].call(F,Y);return Y}),y||L||(v?d?_.push(s(I,"get"),s(I,"set")):_.push(w===2?I[U]:s.call.bind(I[U])):Object.defineProperty(g,m,I)),G}function h(g,C){return Object.defineProperty(g,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:C})}if(arguments.length>=6)var f=o[Symbol.metadata||Symbol.for("Symbol.metadata")];var p=Object.create(f??null),T=function(g,C,k,m){var w,E,A=[],_=function(U){return xl(U)===g},l=new Map;function v(U){U&&A.push(a.bind(null,U))}for(var y=0;y<C.length;y++){var d=C[y];if(Array.isArray(d)){var b=d[1],S=d[2],O=d.length>3,P=16&b,N=!!(8&b),L=(b&=7)==0,I=S+"/"+N;if(!L&&!O){var W=l.get(I);if(W===!0||W===3&&b!==4||W===4&&b!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+S);l.set(I,!(b>2)||b)}u(N?g:g.prototype,d,P,O?"#"+S:Pl(S),b,m,N?E=E||[]:w=w||[],A,N,O,L,b===1,N&&O?_:k)}}return v(w),v(E),A}(t,e,i,p);return n.length||h(t,p),{e:T,get c(){var g=[];return n.length&&[h(u(t,[n],r,t.name,5,p,g),p),a.bind(null,g,t)]}}}function Pl(t){var e=Il(t,"string");return typeof e=="symbol"?e:e+""}function Il(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wo(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function xl(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}function Nl(t){return t}function So(t){if(t)return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,(Array.isArray(n)?n:[n]).map(r=>`file:///${r}`)]))}Ws=[tr("repl-monaco-editor")];let Rn;new class extends Nl{static[(wr=class extends Ve{monaco=yo(this);runtime=vo(this,null);path=_o(this,"");theme=bo(this,null);hasShadow=!1;css=`
    :host {
      display: block;
      & .root {
        height: 100%;
      }
    }
  `;template=()=>{const t=this,e=cu(this),[n]=We(()=>this.monaco||Rn.monaco);{const[r]=We(()=>Promise.all([Dt(()=>import("./TypeScriptReact.tmLanguage-6f7d72fd.js"),[],import.meta.url).then(o=>o.default),Dt(()=>import("./css.tmLanguage-b6a4aa70.js"),[],import.meta.url).then(o=>o.default)])),[i]=We(()=>this.theme);Fe(n,o=>{o.editor.create(kl(),{language:"typescript"}).dispose(),Fe(i,s=>{o.editor.defineTheme("current-theme",s),o.editor.setTheme("current-theme")}),Fe(r,async([s,a])=>{const c=new wl({async getGrammarDefinition(p){return{format:"json",content:p==="source.tsx"?s:a}}}),{setLanguageConfiguration:u}=o.languages;o.languages.setLanguageConfiguration=(p,T)=>(f(),u(p,T));let h=null;async function f(){h||(h=Du(Tl).then(()=>h="complete")),await h,await Us(o,c,new Map(Object.entries(Rn.GRAMMAR_MAP)))}}),Fe(e,s=>{Pe(Ci(()=>Object.values(s.fs.all()),a=>{const c=o.Uri.parse(`file:///${a.path}`),u=o.editor.getModel(c)||o.editor.createModel(a.source,a.type,c);Pe(()=>{u.getValue()!==a.source&&u.setValue(a.source)})})),Pe(Ci(()=>Object.keys(s.types.sources),a=>{Fe(()=>s.types.sources[a],c=>o.languages.typescript.typescriptDefaults.addExtraLib(c,`file:///node_modules/${a}`))})),Pe(()=>{const a=s.config.tsconfig,c=jt({...a,paths:{...So(a?.paths),...s.types.alias,...So(s.fs.alias)}});o.languages.typescript.typescriptDefaults.setCompilerOptions(c),o.languages.typescript.javascriptDefaults.setCompilerOptions(c)})})})}return(()=>{var r=Ol();return _t(i=>{Fe(Ii(n,e),([o,s])=>{const a=pe(()=>{const h=o.editor.create(i,{value:"",language:"typescript",automaticLayout:!0});return Ie(()=>h.dispose()),h}),c=pe(()=>s.fs.get(t.path)||s.fs.create(t.path)),u=pe(ts(c,h=>{const f=o.Uri.parse(`file:///${t.path}`);return o.editor.getModel(f)||o.editor.createModel(fe(()=>h.source),h.type,f)}));Fe(Ii(a,c,u),([h,f,p])=>{h.setModel(p),p.onDidChangeContent(()=>f.set(p.getValue()))})})},r),r})()}},{e:[yo,vo,_o,bo],c:[Rn,mo]}=Rl(wr,[[ct,0,"monaco"],[ct,0,"runtime"],[Xn,0,"path"],[Xn,0,"theme"]],Ws,0,void 0,Ve),wr)];monaco;GRAMMAR_MAP={typescript:"source.tsx",javascript:"source.tsx",css:"source.css"};constructor(){super(Rn),mo()}};async function Ml(t){const e=await(t?.typescript||Dt(()=>import("https://esm.sh/typescript"),[],import.meta.url));return function(n,r){const i=e.createSourceFile("",n,e.ScriptTarget.Latest,!0,e.ScriptKind.TS);let o=!1;const s=e.transform(i,[c=>{const u=h=>{if((e.isImportDeclaration(h)||e.isExportDeclaration(h))&&h.moduleSpecifier&&e.isStringLiteral(h.moduleSpecifier)){const f=e.isImportDeclaration(h),p=h.moduleSpecifier.text,T=r(h.moduleSpecifier.text);if(T===null){o=!0;return}if(h.moduleSpecifier.text=T,p!==h.moduleSpecifier.text)return o=!0,f?e.factory.updateImportDeclaration(h,h.modifiers,h.importClause,e.factory.createStringLiteral(T),h.assertClause):e.factory.updateExportDeclaration(h,h.modifiers,!1,h.exportClause,e.factory.createStringLiteral(T),h.assertClause)}return e.visitEachChild(h,u,c)};return h=>e.visitNode(h,u)}]);return s.transformed[0]?o?e.createPrinter({newLine:e.NewLineKind.LineFeed}).printFile(s.transformed[0]):n:void 0}}function Ao({cdn:t,babel:e,items:n,type:r}){if(!n)return Promise.resolve([]);const i=r==="plugins"?e.availablePlugins:e.availablePresets;return Promise.all(n.map(async function(s){let a,c;if(typeof s=="string")a=s;else if(Array.isArray(s)&&typeof s[0]=="string")[a,c]=s;else return s;if(a in i)return c!==void 0?[i[a],c]:i[a];{const u=await Dt(()=>import(`${t}/${a}`),[],import.meta.url).then(h=>h.default);return c!==void 0?[u,c]:u}}))}async function Ll(t){const e=t.cdn||"https://esm.sh",n=await(t.babel||Dt(()=>import(`${e}/@babel/standalone`),[],import.meta.url)),[r,i]=await Promise.all([Ao({cdn:e,babel:n,items:t.presets,type:"presets"}),Ao({cdn:e,babel:n,items:t.plugins,type:"plugins"})]);return(o,s)=>{const a=n.transform(o,{presets:r,plugins:i}).code;if(!a)throw`Babel transform failed for file ${s} with source: 

 ${o}`;return a}}async function $l(t){const e=await(t?.typescript||Dt(()=>import("https://esm.sh/typescript"),[],import.meta.url));return(n,r,i)=>r.endsWith("ts")||r.endsWith("tsx")?e.transpile(n,i.config.tsconfig):n}function jl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Co(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Co(Object(n),!0).forEach(function(r){jl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Co(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dl(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Bl(t,e){if(t==null)return{};var n=Dl(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gl(t,e){return Fl(t)||Ul(t,e)||Wl(t,e)||Hl()}function Fl(t){if(Array.isArray(t))return t}function Ul(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,o=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function Wl(t,e){if(t){if(typeof t=="string")return To(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return To(t,e)}}function To(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hl(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ko(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ko(Object(n),!0).forEach(function(r){zl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ko(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ql(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(i,o){return o(i)},r)}}function an(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=t.length?t.apply(this,i):function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return e.apply(n,[].concat(i,a))}}}function Yn(t){return{}.toString.call(t).includes("Object")}function Kl(t){return!Object.keys(t).length}function mn(t){return typeof t=="function"}function Xl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Jl(t,e){return Yn(e)||lt("changeType"),Object.keys(e).some(function(n){return!Xl(t,n)})&&lt("changeField"),e}function Yl(t){mn(t)||lt("selectorType")}function Vl(t){mn(t)||Yn(t)||lt("handlerType"),Yn(t)&&Object.values(t).some(function(e){return!mn(e)})&&lt("handlersType")}function Ql(t){t||lt("initialIsRequired"),Yn(t)||lt("initialType"),Kl(t)&&lt("initialContent")}function Zl(t,e){throw new Error(t[e]||t.default)}var ef={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},lt=an(Zl)(ef),Pn={changes:Jl,selector:Yl,handler:Vl,initial:Ql};function tf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Pn.initial(t),Pn.handler(e);var n={current:t},r=an(of)(n,e),i=an(rf)(n),o=an(Pn.changes)(t),s=an(nf)(n);function a(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(h){return h};return Pn.selector(u),u(n.current)}function c(u){ql(r,i,o,s)(u)}return[a,c]}function nf(t,e){return mn(e)?e(t.current):e}function rf(t,e){return t.current=Oo(Oo({},t.current),e),e}function of(t,e,n){return mn(e)?e(t.current):Object.keys(n).forEach(function(r){var i;return(i=e[r])===null||i===void 0?void 0:i.call(e,t.current[r])}),n}var sf={create:tf},af={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function cf(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=t.length?t.apply(this,i):function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return e.apply(n,[].concat(i,a))}}}function uf(t){return{}.toString.call(t).includes("Object")}function lf(t){return t||Ro("configIsRequired"),uf(t)||Ro("configType"),t.urls?(ff(),{paths:{vs:t.urls.monacoBase}}):t}function ff(){console.warn(Hs.deprecation)}function hf(t,e){throw new Error(t[e]||t.default)}var Hs={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Ro=cf(hf)(Hs),df={config:lf},pf=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(o,s){return s(o)},i)}};function zs(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],zs(t[n],e[n]))}),Eo(Eo({},t),e)}var gf={type:"cancelation",msg:"operation is manually canceled"};function Sr(t){var e=!1,n=new Promise(function(r,i){t.then(function(o){return e?i(gf):r(o)}),t.catch(i)});return n.cancel=function(){return e=!0},n}var mf=sf.create({config:af,isInitialized:!1,resolve:null,reject:null,monaco:null}),qs=Gl(mf,2),Cn=qs[0],ar=qs[1];function yf(t){var e=df.config(t),n=e.monaco,r=Bl(e,["monaco"]);ar(function(i){return{config:zs(i.config,r),monaco:n}})}function vf(){var t=Cn(function(e){var n=e.monaco,r=e.isInitialized,i=e.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!t.isInitialized){if(ar({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),Sr(Ar);if(window.monaco&&window.monaco.editor)return Ks(window.monaco),t.resolve(window.monaco),Sr(Ar);pf(_f,wf)(Sf)}return Sr(Ar)}function _f(t){return document.body.appendChild(t)}function bf(t){var e=document.createElement("script");return t&&(e.src=t),e}function wf(t){var e=Cn(function(r){var i=r.config,o=r.reject;return{config:i,reject:o}}),n=bf("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function Sf(){var t=Cn(function(n){var r=n.config,i=n.resolve,o=n.reject;return{config:r,resolve:i,reject:o}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){Ks(n),t.resolve(n)},function(n){t.reject(n)})}function Ks(t){Cn().monaco||ar({monaco:t})}function Af(){return Cn(function(t){var e=t.monaco;return e})}var Ar=new Promise(function(t,e){return ar({resolve:t,reject:e})}),Cf={config:yf,init:vf,__getMonacoInstance:Af},vi={exports:{}};vi.exports;(function(t){var e=function(){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function s(c,u){if(!o[c]){o[c]={};for(var h=0;h<c.length;h++)o[c][c.charAt(h)]=h}return o[c][u]}var a={compressToBase64:function(c){if(c==null)return"";var u=a._compress(c,6,function(h){return r.charAt(h)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(c){return c==null?"":c==""?null:a._decompress(c.length,32,function(u){return s(r,c.charAt(u))})},compressToUTF16:function(c){return c==null?"":a._compress(c,15,function(u){return n(u+32)})+" "},decompressFromUTF16:function(c){return c==null?"":c==""?null:a._decompress(c.length,16384,function(u){return c.charCodeAt(u)-32})},compressToUint8Array:function(c){for(var u=a.compress(c),h=new Uint8Array(u.length*2),f=0,p=u.length;f<p;f++){var T=u.charCodeAt(f);h[f*2]=T>>>8,h[f*2+1]=T%256}return h},decompressFromUint8Array:function(c){if(c==null)return a.decompress(c);for(var u=new Array(c.length/2),h=0,f=u.length;h<f;h++)u[h]=c[h*2]*256+c[h*2+1];var p=[];return u.forEach(function(T){p.push(n(T))}),a.decompress(p.join(""))},compressToEncodedURIComponent:function(c){return c==null?"":a._compress(c,6,function(u){return i.charAt(u)})},decompressFromEncodedURIComponent:function(c){return c==null?"":c==""?null:(c=c.replace(/ /g,"+"),a._decompress(c.length,32,function(u){return s(i,c.charAt(u))}))},compress:function(c){return a._compress(c,16,function(u){return n(u)})},_compress:function(c,u,h){if(c==null)return"";var f,p,T={},g={},C="",k="",m="",w=2,E=3,A=2,_=[],l=0,v=0,y;for(y=0;y<c.length;y+=1)if(C=c.charAt(y),Object.prototype.hasOwnProperty.call(T,C)||(T[C]=E++,g[C]=!0),k=m+C,Object.prototype.hasOwnProperty.call(T,k))m=k;else{if(Object.prototype.hasOwnProperty.call(g,m)){if(m.charCodeAt(0)<256){for(f=0;f<A;f++)l=l<<1,v==u-1?(v=0,_.push(h(l)),l=0):v++;for(p=m.charCodeAt(0),f=0;f<8;f++)l=l<<1|p&1,v==u-1?(v=0,_.push(h(l)),l=0):v++,p=p>>1}else{for(p=1,f=0;f<A;f++)l=l<<1|p,v==u-1?(v=0,_.push(h(l)),l=0):v++,p=0;for(p=m.charCodeAt(0),f=0;f<16;f++)l=l<<1|p&1,v==u-1?(v=0,_.push(h(l)),l=0):v++,p=p>>1}w--,w==0&&(w=Math.pow(2,A),A++),delete g[m]}else for(p=T[m],f=0;f<A;f++)l=l<<1|p&1,v==u-1?(v=0,_.push(h(l)),l=0):v++,p=p>>1;w--,w==0&&(w=Math.pow(2,A),A++),T[k]=E++,m=String(C)}if(m!==""){if(Object.prototype.hasOwnProperty.call(g,m)){if(m.charCodeAt(0)<256){for(f=0;f<A;f++)l=l<<1,v==u-1?(v=0,_.push(h(l)),l=0):v++;for(p=m.charCodeAt(0),f=0;f<8;f++)l=l<<1|p&1,v==u-1?(v=0,_.push(h(l)),l=0):v++,p=p>>1}else{for(p=1,f=0;f<A;f++)l=l<<1|p,v==u-1?(v=0,_.push(h(l)),l=0):v++,p=0;for(p=m.charCodeAt(0),f=0;f<16;f++)l=l<<1|p&1,v==u-1?(v=0,_.push(h(l)),l=0):v++,p=p>>1}w--,w==0&&(w=Math.pow(2,A),A++),delete g[m]}else for(p=T[m],f=0;f<A;f++)l=l<<1|p&1,v==u-1?(v=0,_.push(h(l)),l=0):v++,p=p>>1;w--,w==0&&(w=Math.pow(2,A),A++)}for(p=2,f=0;f<A;f++)l=l<<1|p&1,v==u-1?(v=0,_.push(h(l)),l=0):v++,p=p>>1;for(;;)if(l=l<<1,v==u-1){_.push(h(l));break}else v++;return _.join("")},decompress:function(c){return c==null?"":c==""?null:a._decompress(c.length,32768,function(u){return c.charCodeAt(u)})},_decompress:function(c,u,h){var f=[],p=4,T=4,g=3,C="",k=[],m,w,E,A,_,l,v,y={val:h(0),position:u,index:1};for(m=0;m<3;m+=1)f[m]=m;for(E=0,_=Math.pow(2,2),l=1;l!=_;)A=y.val&y.position,y.position>>=1,y.position==0&&(y.position=u,y.val=h(y.index++)),E|=(A>0?1:0)*l,l<<=1;switch(E){case 0:for(E=0,_=Math.pow(2,8),l=1;l!=_;)A=y.val&y.position,y.position>>=1,y.position==0&&(y.position=u,y.val=h(y.index++)),E|=(A>0?1:0)*l,l<<=1;v=n(E);break;case 1:for(E=0,_=Math.pow(2,16),l=1;l!=_;)A=y.val&y.position,y.position>>=1,y.position==0&&(y.position=u,y.val=h(y.index++)),E|=(A>0?1:0)*l,l<<=1;v=n(E);break;case 2:return""}for(f[3]=v,w=v,k.push(v);;){if(y.index>c)return"";for(E=0,_=Math.pow(2,g),l=1;l!=_;)A=y.val&y.position,y.position>>=1,y.position==0&&(y.position=u,y.val=h(y.index++)),E|=(A>0?1:0)*l,l<<=1;switch(v=E){case 0:for(E=0,_=Math.pow(2,8),l=1;l!=_;)A=y.val&y.position,y.position>>=1,y.position==0&&(y.position=u,y.val=h(y.index++)),E|=(A>0?1:0)*l,l<<=1;f[T++]=n(E),v=T-1,p--;break;case 1:for(E=0,_=Math.pow(2,16),l=1;l!=_;)A=y.val&y.position,y.position>>=1,y.position==0&&(y.position=u,y.val=h(y.index++)),E|=(A>0?1:0)*l,l<<=1;f[T++]=n(E),v=T-1,p--;break;case 2:return k.join("")}if(p==0&&(p=Math.pow(2,g),g++),f[v])C=f[v];else if(v===T)C=w+w.charAt(0);else return null;k.push(C),f[T++]=w+C.charAt(0),p--,w=C,p==0&&(p=Math.pow(2,g),g++)}}};return a}();t!=null?t.exports=e:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return e})})(vi);var Ef=vi.exports;const Tf=!1,kf="vs-dark",Of={"editor.background":"#1E1E1E","editor.foreground":"#D4D4D4","editor.inactiveSelectionBackground":"#3A3D41","editorIndentGuide.background":"#404040","editorIndentGuide.activeBackground":"#707070","editor.selectionHighlightBackground":"#ADD6FF26","list.dropBackground":"#383B3D","activityBarBadge.background":"#007ACC","sideBarTitle.foreground":"#BBBBBB","input.placeholderForeground":"#A6A6A6","menu.background":"#252526","menu.foreground":"#CCCCCC","statusBarItem.remoteForeground":"#FFF","statusBarItem.remoteBackground":"#16825D","sideBarSectionHeader.background":"#0000","sideBarSectionHeader.border":"#ccc3","tab.lastPinnedBorder":"#ccc3"},Rf=[{foreground:"#D4D4D4",token:""},{foreground:"#D4D4D4",token:"meta.embedded"},{foreground:"#D4D4D4",token:"source.groovy.embedded"},{fontStyle:"italic",token:"emphasis"},{fontStyle:"bold",token:"strong"},{foreground:"#000080",token:"header"},{foreground:"#6A9955",token:"comment"},{foreground:"#569cd6",token:"constant.language"},{foreground:"#b5cea8",token:"constant.numeric"},{foreground:"#b5cea8",token:"variable.other.enummember"},{foreground:"#b5cea8",token:"keyword.operator.plus.exponent"},{foreground:"#b5cea8",token:"keyword.operator.minus.exponent"},{foreground:"#646695",token:"constant.regexp"},{foreground:"#569cd6",token:"entity.name.tag"},{foreground:"#d7ba7d",token:"entity.name.tag.css"},{foreground:"#9cdcfe",token:"entity.other.attribute-name"},{foreground:"#d7ba7d",token:"entity.other.attribute-name.class.css"},{foreground:"#d7ba7d",token:"entity.other.attribute-name.class.mixin.css"},{foreground:"#d7ba7d",token:"entity.other.attribute-name.id.css"},{foreground:"#d7ba7d",token:"entity.other.attribute-name.parent-selector.css"},{foreground:"#d7ba7d",token:"entity.other.attribute-name.pseudo-class.css"},{foreground:"#d7ba7d",token:"entity.other.attribute-name.pseudo-element.css"},{foreground:"#d7ba7d",token:"source.css.less entity.other.attribute-name.id"},{foreground:"#d7ba7d",token:"entity.other.attribute-name.scss"},{foreground:"#f44747",token:"invalid"},{fontStyle:"underline",token:"markup.underline"},{fontStyle:"bold",foreground:"#569cd6",token:"markup.bold"},{fontStyle:"bold",foreground:"#569cd6",token:"markup.heading"},{fontStyle:"italic",token:"markup.italic"},{foreground:"#b5cea8",token:"markup.inserted"},{foreground:"#ce9178",token:"markup.deleted"},{foreground:"#569cd6",token:"markup.changed"},{foreground:"#6A9955",token:"punctuation.definition.quote.begin.markdown"},{foreground:"#6796e6",token:"punctuation.definition.list.begin.markdown"},{foreground:"#ce9178",token:"markup.inline.raw"},{foreground:"#808080",token:"punctuation.definition.tag"},{foreground:"#569cd6",token:"meta.preprocessor"},{foreground:"#569cd6",token:"entity.name.function.preprocessor"},{foreground:"#ce9178",token:"meta.preprocessor.string"},{foreground:"#b5cea8",token:"meta.preprocessor.numeric"},{foreground:"#9cdcfe",token:"meta.structure.dictionary.key.python"},{foreground:"#569cd6",token:"meta.diff.header"},{foreground:"#569cd6",token:"storage"},{foreground:"#569cd6",token:"storage.type"},{foreground:"#569cd6",token:"storage.modifier"},{foreground:"#569cd6",token:"keyword.operator.noexcept"},{foreground:"#ce9178",token:"string"},{foreground:"#ce9178",token:"meta.embedded.assembly"},{foreground:"#ce9178",token:"string.tag"},{foreground:"#ce9178",token:"string.value"},{foreground:"#d16969",token:"string.regexp"},{foreground:"#569cd6",token:"punctuation.definition.template-expression.begin"},{foreground:"#569cd6",token:"punctuation.definition.template-expression.end"},{foreground:"#569cd6",token:"punctuation.section.embedded"},{foreground:"#d4d4d4",token:"meta.template.expression"},{foreground:"#9cdcfe",token:"support.type.vendored.property-name"},{foreground:"#9cdcfe",token:"support.type.property-name"},{foreground:"#9cdcfe",token:"variable.css"},{foreground:"#9cdcfe",token:"variable.scss"},{foreground:"#9cdcfe",token:"variable.other.less"},{foreground:"#9cdcfe",token:"source.coffee.embedded"},{foreground:"#569cd6",token:"keyword"},{foreground:"#569cd6",token:"keyword.control"},{foreground:"#d4d4d4",token:"keyword.operator"},{foreground:"#569cd6",token:"keyword.operator.new"},{foreground:"#569cd6",token:"keyword.operator.expression"},{foreground:"#569cd6",token:"keyword.operator.cast"},{foreground:"#569cd6",token:"keyword.operator.sizeof"},{foreground:"#569cd6",token:"keyword.operator.alignof"},{foreground:"#569cd6",token:"keyword.operator.typeid"},{foreground:"#569cd6",token:"keyword.operator.alignas"},{foreground:"#569cd6",token:"keyword.operator.instanceof"},{foreground:"#569cd6",token:"keyword.operator.logical.python"},{foreground:"#569cd6",token:"keyword.operator.wordlike"},{foreground:"#b5cea8",token:"keyword.other.unit"},{foreground:"#569cd6",token:"punctuation.section.embedded.begin.php"},{foreground:"#569cd6",token:"punctuation.section.embedded.end.php"},{foreground:"#9cdcfe",token:"support.function.git-rebase"},{foreground:"#b5cea8",token:"constant.sha.git-rebase"},{foreground:"#d4d4d4",token:"storage.modifier.import.java"},{foreground:"#d4d4d4",token:"variable.language.wildcard.java"},{foreground:"#d4d4d4",token:"storage.modifier.package.java"},{foreground:"#569cd6",token:"variable.language"},{foreground:"#DCDCAA",token:"entity.name.function"},{foreground:"#DCDCAA",token:"support.function"},{foreground:"#DCDCAA",token:"support.constant.handlebars"},{foreground:"#DCDCAA",token:"source.powershell variable.other.member"},{foreground:"#DCDCAA",token:"entity.name.operator.custom-literal"},{foreground:"#4EC9B0",token:"meta.return-type"},{foreground:"#4EC9B0",token:"support.class"},{foreground:"#4EC9B0",token:"support.type"},{foreground:"#4EC9B0",token:"entity.name.type"},{foreground:"#4EC9B0",token:"entity.name.namespace"},{foreground:"#4EC9B0",token:"entity.other.attribute"},{foreground:"#4EC9B0",token:"entity.name.scope-resolution"},{foreground:"#4EC9B0",token:"entity.name.class"},{foreground:"#4EC9B0",token:"storage.type.numeric.go"},{foreground:"#4EC9B0",token:"storage.type.byte.go"},{foreground:"#4EC9B0",token:"storage.type.boolean.go"},{foreground:"#4EC9B0",token:"storage.type.string.go"},{foreground:"#4EC9B0",token:"storage.type.uintptr.go"},{foreground:"#4EC9B0",token:"storage.type.error.go"},{foreground:"#4EC9B0",token:"storage.type.rune.go"},{foreground:"#4EC9B0",token:"storage.type.cs"},{foreground:"#4EC9B0",token:"storage.type.generic.cs"},{foreground:"#4EC9B0",token:"storage.type.modifier.cs"},{foreground:"#4EC9B0",token:"storage.type.variable.cs"},{foreground:"#4EC9B0",token:"storage.type.annotation.java"},{foreground:"#4EC9B0",token:"storage.type.generic.java"},{foreground:"#4EC9B0",token:"storage.type.java"},{foreground:"#4EC9B0",token:"storage.type.object.array.java"},{foreground:"#4EC9B0",token:"storage.type.primitive.array.java"},{foreground:"#4EC9B0",token:"storage.type.primitive.java"},{foreground:"#4EC9B0",token:"storage.type.token.java"},{foreground:"#4EC9B0",token:"storage.type.groovy"},{foreground:"#4EC9B0",token:"storage.type.annotation.groovy"},{foreground:"#4EC9B0",token:"storage.type.parameters.groovy"},{foreground:"#4EC9B0",token:"storage.type.generic.groovy"},{foreground:"#4EC9B0",token:"storage.type.object.array.groovy"},{foreground:"#4EC9B0",token:"storage.type.primitive.array.groovy"},{foreground:"#4EC9B0",token:"storage.type.primitive.groovy"},{foreground:"#4EC9B0",token:"meta.type.cast.expr"},{foreground:"#4EC9B0",token:"meta.type.new.expr"},{foreground:"#4EC9B0",token:"support.constant.math"},{foreground:"#4EC9B0",token:"support.constant.dom"},{foreground:"#4EC9B0",token:"support.constant.json"},{foreground:"#4EC9B0",token:"entity.other.inherited-class"},{foreground:"#C586C0",token:"keyword.control"},{foreground:"#C586C0",token:"source.cpp keyword.operator.new"},{foreground:"#C586C0",token:"keyword.operator.delete"},{foreground:"#C586C0",token:"keyword.other.using"},{foreground:"#C586C0",token:"keyword.other.operator"},{foreground:"#C586C0",token:"entity.name.operator"},{foreground:"#9CDCFE",token:"variable"},{foreground:"#9CDCFE",token:"meta.definition.variable.name"},{foreground:"#9CDCFE",token:"support.variable"},{foreground:"#9CDCFE",token:"entity.name.variable"},{foreground:"#4FC1FF",token:"variable.other.constant"},{foreground:"#4FC1FF",token:"variable.other.enummember"},{foreground:"#9CDCFE",token:"meta.object-literal.key"},{foreground:"#CE9178",token:"support.constant.property-value"},{foreground:"#CE9178",token:"support.constant.font-name"},{foreground:"#CE9178",token:"support.constant.media-type"},{foreground:"#CE9178",token:"support.constant.media"},{foreground:"#CE9178",token:"constant.other.color.rgb-value"},{foreground:"#CE9178",token:"constant.other.rgb-value"},{foreground:"#CE9178",token:"support.constant.color"},{foreground:"#CE9178",token:"punctuation.definition.group.regexp"},{foreground:"#CE9178",token:"punctuation.definition.group.assertion.regexp"},{foreground:"#CE9178",token:"punctuation.definition.character-class.regexp"},{foreground:"#CE9178",token:"punctuation.character.set.begin.regexp"},{foreground:"#CE9178",token:"punctuation.character.set.end.regexp"},{foreground:"#CE9178",token:"keyword.operator.negation.regexp"},{foreground:"#CE9178",token:"support.other.parenthesis.regexp"},{foreground:"#d16969",token:"constant.character.character-class.regexp"},{foreground:"#d16969",token:"constant.other.character-class.set.regexp"},{foreground:"#d16969",token:"constant.other.character-class.regexp"},{foreground:"#d16969",token:"constant.character.set.regexp"},{foreground:"#DCDCAA",token:"keyword.operator.or.regexp"},{foreground:"#DCDCAA",token:"keyword.control.anchor.regexp"},{foreground:"#d7ba7d",token:"keyword.operator.quantifier.regexp"},{foreground:"#569cd6",token:"constant.character"},{foreground:"#d7ba7d",token:"constant.character.escape"},{foreground:"#C8C8C8",token:"entity.name.label"}],Pf=[],If={inherit:Tf,base:kf,colors:Of,rules:Rf,encodedTokensColors:Pf};let Cr="https://esm.sh";const Er={theme:{},grammar:{}};function Xs(t,e){switch(t){case"theme":return`${Cr}/tm-themes/themes/${e}.json`;case"grammar":return`${Cr}/tm-grammars/grammars/${e}.json`;case"oniguruma":return`${Cr}/vscode-oniguruma/release/onig.wasm`}}async function Js(t,e){if(e in Er[t])return Er[t][e];const n=Xs(t,e);return Er[t][e]=typeof n!="string"?n:fetch(n).then(r=>r.ok?r.json():null).catch(console.error)}var xf=Object.defineProperty,Nf=(t,e,n)=>e in t?xf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mf=(t,e,n)=>(Nf(t,typeof e!="symbol"?e+"":e,n),n),Lf=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},vt=(t,e,n)=>(Lf(t,e,"read from private field"),n?n.call(t):e.get(t)),Ys=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Pt,cn;function $f(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Po={equals:!1};function jf(t,e,n){let r=!1,i=!0;const[o,s]=de(void 0,Po),a=pe(c=>r?t(c):(i=!o(),c),e,Po);return()=>{r=!0,i&&(i=s());const c=a();return r=!1,c}}function Vs(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Vs(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Df(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Vs(t))&&(r&&(r+=" "),r+=e);return r}var Qs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zs={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Qs,()=>{return n={770:function(i,o,s){var a=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(o,"__esModule",{value:!0}),o.setDefaultDebugCall=o.createOnigScanner=o.createOnigString=o.loadWASM=o.OnigScanner=o.OnigString=void 0;const c=a(s(418));let u=null,h=!1;class f{static _utf8ByteLength(m){let w=0;for(let E=0,A=m.length;E<A;E++){const _=m.charCodeAt(E);let l=_,v=!1;if(_>=55296&&_<=56319&&E+1<A){const y=m.charCodeAt(E+1);y>=56320&&y<=57343&&(l=65536+(_-55296<<10)|y-56320,v=!0)}w+=l<=127?1:l<=2047?2:l<=65535?3:4,v&&E++}return w}constructor(m){const w=m.length,E=f._utf8ByteLength(m),A=E!==w,_=A?new Uint32Array(w+1):null;A&&(_[w]=E);const l=A?new Uint32Array(E+1):null;A&&(l[E]=w);const v=new Uint8Array(E);let y=0;for(let d=0;d<w;d++){const b=m.charCodeAt(d);let S=b,O=!1;if(b>=55296&&b<=56319&&d+1<w){const P=m.charCodeAt(d+1);P>=56320&&P<=57343&&(S=65536+(b-55296<<10)|P-56320,O=!0)}A&&(_[d]=y,O&&(_[d+1]=y),S<=127?l[y+0]=d:S<=2047?(l[y+0]=d,l[y+1]=d):S<=65535?(l[y+0]=d,l[y+1]=d,l[y+2]=d):(l[y+0]=d,l[y+1]=d,l[y+2]=d,l[y+3]=d)),S<=127?v[y++]=S:S<=2047?(v[y++]=192|(1984&S)>>>6,v[y++]=128|(63&S)>>>0):S<=65535?(v[y++]=224|(61440&S)>>>12,v[y++]=128|(4032&S)>>>6,v[y++]=128|(63&S)>>>0):(v[y++]=240|(1835008&S)>>>18,v[y++]=128|(258048&S)>>>12,v[y++]=128|(4032&S)>>>6,v[y++]=128|(63&S)>>>0),O&&d++}this.utf16Length=w,this.utf8Length=E,this.utf16Value=m,this.utf8Value=v,this.utf16OffsetToUtf8=_,this.utf8OffsetToUtf16=l}createString(m){const w=m._omalloc(this.utf8Length);return m.HEAPU8.set(this.utf8Value,w),w}}class p{constructor(m){if(this.id=++p.LAST_ID,!u)throw new Error("Must invoke loadWASM first.");this._onigBinding=u,this.content=m;const w=new f(m);this.utf16Length=w.utf16Length,this.utf8Length=w.utf8Length,this.utf16OffsetToUtf8=w.utf16OffsetToUtf8,this.utf8OffsetToUtf16=w.utf8OffsetToUtf16,this.utf8Length<1e4&&!p._sharedPtrInUse?(p._sharedPtr||(p._sharedPtr=u._omalloc(1e4)),p._sharedPtrInUse=!0,u.HEAPU8.set(w.utf8Value,p._sharedPtr),this.ptr=p._sharedPtr):this.ptr=w.createString(u)}convertUtf8OffsetToUtf16(m){return this.utf8OffsetToUtf16?m<0?0:m>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[m]:m}convertUtf16OffsetToUtf8(m){return this.utf16OffsetToUtf8?m<0?0:m>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[m]:m}dispose(){this.ptr===p._sharedPtr?p._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}o.OnigString=p,p.LAST_ID=0,p._sharedPtr=0,p._sharedPtrInUse=!1;class T{constructor(m,w){var E,A;if(!u)throw new Error("Must invoke loadWASM first.");const _=[],l=[];for(let O=0,P=m.length;O<P;O++){const N=new f(m[O]);_[O]=N.createString(u),l[O]=N.utf8Length}const v=u._omalloc(4*m.length);u.HEAPU32.set(_,v/4);const y=u._omalloc(4*m.length);u.HEAPU32.set(l,y/4),this._onigBinding=u,this._options=(E=w?.options)!==null&&E!==void 0?E:[10];const d=this.onigOptions(this._options),b=this.onigSyntax((A=w?.syntax)!==null&&A!==void 0?A:0),S=u._createOnigScanner(v,y,m.length,d,b);this._ptr=S;for(let O=0,P=m.length;O<P;O++)u._ofree(_[O]);u._ofree(y),u._ofree(v),S===0&&function(O){throw new Error(O.UTF8ToString(O._getLastOnigError()))}(u)}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(m,w,E){let A=h,_=this._options;if(Array.isArray(E)?(E.includes(25)&&(A=!0),_=_.concat(E)):typeof E=="boolean"&&(A=E),typeof m=="string"){m=new p(m);const l=this._findNextMatchSync(m,w,A,_);return m.dispose(),l}return this._findNextMatchSync(m,w,A,_)}_findNextMatchSync(m,w,E,A){const _=this._onigBinding,l=this.onigOptions(A);let v;if(v=E?_._findNextOnigScannerMatchDbg(this._ptr,m.id,m.ptr,m.utf8Length,m.convertUtf16OffsetToUtf8(w),l):_._findNextOnigScannerMatch(this._ptr,m.id,m.ptr,m.utf8Length,m.convertUtf16OffsetToUtf8(w),l),v===0)return null;const y=_.HEAPU32;let d=v/4;const b=y[d++],S=y[d++];let O=[];for(let P=0;P<S;P++){const N=m.convertUtf8OffsetToUtf16(y[d++]),L=m.convertUtf8OffsetToUtf16(y[d++]);O[P]={start:N,end:L,length:L-N}}return{index:b,captureIndices:O}}onigOptions(m){return m.map(w=>this.onigOption(w)).reduce((w,E)=>w|E,this._onigBinding.ONIG_OPTION_NONE)}onigSyntax(m){switch(m){case 0:return this._onigBinding.ONIG_SYNTAX_DEFAULT;case 1:return this._onigBinding.ONIG_SYNTAX_ASIS;case 2:return this._onigBinding.ONIG_SYNTAX_POSIX_BASIC;case 3:return this._onigBinding.ONIG_SYNTAX_POSIX_EXTENDED;case 4:return this._onigBinding.ONIG_SYNTAX_EMACS;case 5:return this._onigBinding.ONIG_SYNTAX_GREP;case 6:return this._onigBinding.ONIG_SYNTAX_GNU_REGEX;case 7:return this._onigBinding.ONIG_SYNTAX_JAVA;case 8:return this._onigBinding.ONIG_SYNTAX_PERL;case 9:return this._onigBinding.ONIG_SYNTAX_PERL_NG;case 10:return this._onigBinding.ONIG_SYNTAX_RUBY;case 11:return this._onigBinding.ONIG_SYNTAX_PYTHON;case 12:return this._onigBinding.ONIG_SYNTAX_ONIGURUMA}}onigOption(m){switch(m){case 1:return this._onigBinding.ONIG_OPTION_NONE;case 0:case 25:return this._onigBinding.ONIG_OPTION_DEFAULT;case 2:return this._onigBinding.ONIG_OPTION_IGNORECASE;case 3:return this._onigBinding.ONIG_OPTION_EXTEND;case 4:return this._onigBinding.ONIG_OPTION_MULTILINE;case 5:return this._onigBinding.ONIG_OPTION_SINGLELINE;case 6:return this._onigBinding.ONIG_OPTION_FIND_LONGEST;case 7:return this._onigBinding.ONIG_OPTION_FIND_NOT_EMPTY;case 8:return this._onigBinding.ONIG_OPTION_NEGATE_SINGLELINE;case 9:return this._onigBinding.ONIG_OPTION_DONT_CAPTURE_GROUP;case 10:return this._onigBinding.ONIG_OPTION_CAPTURE_GROUP;case 11:return this._onigBinding.ONIG_OPTION_NOTBOL;case 12:return this._onigBinding.ONIG_OPTION_NOTEOL;case 13:return this._onigBinding.ONIG_OPTION_CHECK_VALIDITY_OF_STRING;case 14:return this._onigBinding.ONIG_OPTION_IGNORECASE_IS_ASCII;case 15:return this._onigBinding.ONIG_OPTION_WORD_IS_ASCII;case 16:return this._onigBinding.ONIG_OPTION_DIGIT_IS_ASCII;case 17:return this._onigBinding.ONIG_OPTION_SPACE_IS_ASCII;case 18:return this._onigBinding.ONIG_OPTION_POSIX_IS_ASCII;case 19:return this._onigBinding.ONIG_OPTION_TEXT_SEGMENT_EXTENDED_GRAPHEME_CLUSTER;case 20:return this._onigBinding.ONIG_OPTION_TEXT_SEGMENT_WORD;case 21:return this._onigBinding.ONIG_OPTION_NOT_BEGIN_STRING;case 22:return this._onigBinding.ONIG_OPTION_NOT_END_STRING;case 23:return this._onigBinding.ONIG_OPTION_NOT_BEGIN_POSITION;case 24:return this._onigBinding.ONIG_OPTION_CALLBACK_EACH_MATCH}}}o.OnigScanner=T;let g=!1,C=null;o.loadWASM=function(k){if(g)return C;let m,w,E,A;if(g=!0,function(_){return typeof _.instantiator=="function"}(k))m=k.instantiator,w=k.print;else{let _;(function(l){return l.data!==void 0})(k)?(_=k.data,w=k.print):_=k,m=function(l){return typeof Response<"u"&&l instanceof Response}(_)?typeof WebAssembly.instantiateStreaming=="function"?function(l){return v=>WebAssembly.instantiateStreaming(l,v)}(_):function(l){return async v=>{const y=await l.arrayBuffer();return WebAssembly.instantiate(y,v)}}(_):function(l){return v=>WebAssembly.instantiate(l,v)}(_)}return C=new Promise((_,l)=>{E=_,A=l}),function(_,l,v,y){(0,c.default)({print:l,instantiateWasm:(d,b)=>{if(typeof performance>"u"){const S=()=>Date.now();d.env.emscripten_get_now=S,d.wasi_snapshot_preview1.emscripten_get_now=S}return _(d).then(S=>b(S.instance),y),{}}}).then(d=>{u=d,v()})}(m,w,E,A),C},o.createOnigString=function(k){return new p(k)},o.createOnigScanner=function(k){return new T(k)},o.setDefaultDebugCall=function(k){h=k}},418:i=>{var o=(typeof document<"u"&&document.currentScript&&document.currentScript.src,function(s={}){var a,c,u=s;u.ready=new Promise((M,j)=>{a=M,c=j});var h,f=Object.assign({},u);typeof read<"u"&&read,h=M=>{if(typeof readbuffer=="function")return new Uint8Array(readbuffer(M));let j=read(M,"binary");return typeof j=="object"||L(R),j;var R},typeof clearTimeout>"u"&&(globalThis.clearTimeout=M=>{}),typeof setTimeout>"u"&&(globalThis.setTimeout=M=>typeof M=="function"?M():L()),typeof scriptArgs<"u"&&scriptArgs,typeof onig_print<"u"&&(typeof console>"u"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr<"u"?printErr:onig_print);var p,T,g=u.print||console.log.bind(console),C=u.printErr||console.error.bind(console);Object.assign(u,f),f=null,u.arguments&&u.arguments,u.thisProgram&&u.thisProgram,u.quit&&u.quit,u.wasmBinary&&(p=u.wasmBinary),u.noExitRuntime,typeof WebAssembly!="object"&&L("no native wasm support detected");var k,m,w,E,A,_,l,v,y=!1;function d(){var M=T.buffer;u.HEAP8=k=new Int8Array(M),u.HEAP16=w=new Int16Array(M),u.HEAPU8=m=new Uint8Array(M),u.HEAPU16=E=new Uint16Array(M),u.HEAP32=A=new Int32Array(M),u.HEAPU32=_=new Uint32Array(M),u.HEAPF32=l=new Float32Array(M),u.HEAPF64=v=new Float64Array(M)}var b=[],S=[],O=[],P=0,N=null;function L(M){u.onAbort&&u.onAbort(M),C(M="Aborted("+M+")"),y=!0,M+=". Build with -sASSERTIONS for more info.";var j=new WebAssembly.RuntimeError(M);throw c(j),j}var I,W;function U(M){return M.startsWith("data:application/octet-stream;base64,")}function G(M){if(M==I&&p)return new Uint8Array(p);if(h)return h(M);throw"both async and sync fetching of the wasm failed"}function Q(M,j,R){return function(x){return Promise.resolve().then(()=>G(x))}(M).then(x=>WebAssembly.instantiate(x,j)).then(x=>x).then(R,x=>{C(`failed to asynchronously prepare wasm: ${x}`),L(x)})}U(I="onig.wasm")||(W=I,I=u.locateFile?u.locateFile(W,""):""+W);var ne=M=>{for(;M.length>0;)M.shift()(u)},Z=void 0,V=M=>{for(var j="",R=M;m[R];)j+=Z[m[R++]];return j},$={},H={},ee=void 0,B=M=>{throw new ee(M)},F=void 0,Y=(M,j,R)=>{function x(J){var q=R(J);q.length!==M.length&&(re=>{throw new F(re)})("Mismatched type converter count");for(var K=0;K<M.length;++K)te(M[K],q[K])}M.forEach(function(J){});var D=new Array(j.length),z=[],X=0;j.forEach((J,q)=>{H.hasOwnProperty(J)?D[q]=H[J]:(z.push(J),$.hasOwnProperty(J)||($[J]=[]),$[J].push(()=>{D[q]=H[J],++X===z.length&&x(D)}))}),z.length===0&&x(D)};function te(M,j,R={}){if(!("argPackAdvance"in j))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(x,D,z={}){var X=D.name;if(x||B(`type "${X}" must have a positive integer typeid pointer`),H.hasOwnProperty(x)){if(z.ignoreDuplicateRegistrations)return;B(`Cannot register type '${X}' twice`)}if(H[x]=D,$.hasOwnProperty(x)){var J=$[x];delete $[x],J.forEach(q=>q())}}(M,j,R)}function be(){this.allocated=[void 0],this.freelist=[]}var he=new be,et=()=>{for(var M=0,j=he.reserved;j<he.allocated.length;++j)he.allocated[j]!==void 0&&++M;return M},qe=M=>(M||B("Cannot use deleted val. handle = "+M),he.get(M).value),Re=M=>{switch(M){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return he.allocate({refcount:1,value:M})}};function Le(M){return this.fromWireType(A[M>>2])}var Ke=(M,j)=>{switch(j){case 4:return function(R){return this.fromWireType(l[R>>2])};case 8:return function(R){return this.fromWireType(v[R>>3])};default:throw new TypeError(`invalid float width (${j}): ${M}`)}},we=(M,j,R)=>{switch(j){case 1:return R?x=>k[x>>0]:x=>m[x>>0];case 2:return R?x=>w[x>>1]:x=>E[x>>1];case 4:return R?x=>A[x>>2]:x=>_[x>>2];default:throw new TypeError(`invalid integer width (${j}): ${M}`)}};function $e(M){return this.fromWireType(_[M>>2])}var Ee,tt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ut=(M,j,R)=>{for(var x=j+R,D=j;M[D]&&!(D>=x);)++D;if(D-j>16&&M.buffer&&tt)return tt.decode(M.subarray(j,D));for(var z="";j<D;){var X=M[j++];if(128&X){var J=63&M[j++];if((224&X)!=192){var q=63&M[j++];if((X=(240&X)==224?(15&X)<<12|J<<6|q:(7&X)<<18|J<<12|q<<6|63&M[j++])<65536)z+=String.fromCharCode(X);else{var K=X-65536;z+=String.fromCharCode(55296|K>>10,56320|1023&K)}}else z+=String.fromCharCode((31&X)<<6|J)}else z+=String.fromCharCode(X)}return z},Et=(M,j)=>M?ut(m,M,j):"",nt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,qt=(M,j)=>{for(var R=M,x=R>>1,D=x+j/2;!(x>=D)&&E[x];)++x;if((R=x<<1)-M>32&&nt)return nt.decode(m.subarray(M,R));for(var z="",X=0;!(X>=j/2);++X){var J=w[M+2*X>>1];if(J==0)break;z+=String.fromCharCode(J)}return z},Tt=(M,j,R)=>{if(R===void 0&&(R=2147483647),R<2)return 0;for(var x=j,D=(R-=2)<2*M.length?R/2:M.length,z=0;z<D;++z){var X=M.charCodeAt(z);w[j>>1]=X,j+=2}return w[j>>1]=0,j-x},Kt=M=>2*M.length,Te=(M,j)=>{for(var R=0,x="";!(R>=j/4);){var D=A[M+4*R>>2];if(D==0)break;if(++R,D>=65536){var z=D-65536;x+=String.fromCharCode(55296|z>>10,56320|1023&z)}else x+=String.fromCharCode(D)}return x},kt=(M,j,R)=>{if(R===void 0&&(R=2147483647),R<4)return 0;for(var x=j,D=x+R-4,z=0;z<M.length;++z){var X=M.charCodeAt(z);if(X>=55296&&X<=57343&&(X=65536+((1023&X)<<10)|1023&M.charCodeAt(++z)),A[j>>2]=X,(j+=4)+4>D)break}return A[j>>2]=0,j-x},ur=M=>{for(var j=0,R=0;R<M.length;++R){var x=M.charCodeAt(R);x>=55296&&x<=57343&&++R,j+=4}return j};Ee=()=>performance.now();var lr=M=>{var j=(M-T.buffer.byteLength+65535)/65536;try{return T.grow(j),d(),1}catch{}},fr=[null,[],[]];(()=>{for(var M=new Array(256),j=0;j<256;++j)M[j]=String.fromCharCode(j);Z=M})(),ee=u.BindingError=class extends Error{constructor(M){super(M),this.name="BindingError"}},F=u.InternalError=class extends Error{constructor(M){super(M),this.name="InternalError"}},Object.assign(be.prototype,{get(M){return this.allocated[M]},has(M){return this.allocated[M]!==void 0},allocate(M){var j=this.freelist.pop()||this.allocated.length;return this.allocated[j]=M,j},free(M){this.allocated[M]=void 0,this.freelist.push(M)}}),he.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),he.reserved=he.allocated.length,u.count_emval_handles=et;var dt,Xt={_embind_register_bigint:(M,j,R,x,D)=>{},_embind_register_bool:(M,j,R,x)=>{te(M,{name:j=V(j),fromWireType:function(D){return!!D},toWireType:function(D,z){return z?R:x},argPackAdvance:8,readValueFromPointer:function(D){return this.fromWireType(m[D])},destructorFunction:null})},_embind_register_constant:(M,j,R)=>{M=V(M),Y([],[j],function(x){return x=x[0],u[M]=x.fromWireType(R),[]})},_embind_register_emval:(M,j)=>{te(M,{name:j=V(j),fromWireType:R=>{var x=qe(R);return(D=>{D>=he.reserved&&--he.get(D).refcount==0&&he.free(D)})(R),x},toWireType:(R,x)=>Re(x),argPackAdvance:8,readValueFromPointer:Le,destructorFunction:null})},_embind_register_float:(M,j,R)=>{te(M,{name:j=V(j),fromWireType:x=>x,toWireType:(x,D)=>D,argPackAdvance:8,readValueFromPointer:Ke(j,R),destructorFunction:null})},_embind_register_integer:(M,j,R,x,D)=>{j=V(j);var z=q=>q;if(x===0){var X=32-8*R;z=q=>q<<X>>>X}var J=j.includes("unsigned");te(M,{name:j,fromWireType:z,toWireType:J?function(q,K){return this.name,K>>>0}:function(q,K){return this.name,K},argPackAdvance:8,readValueFromPointer:we(j,R,x!==0),destructorFunction:null})},_embind_register_memory_view:(M,j,R)=>{var x=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][j];function D(z){var X=_[z>>2],J=_[z+4>>2];return new x(k.buffer,J,X)}te(M,{name:R=V(R),fromWireType:D,argPackAdvance:8,readValueFromPointer:D},{ignoreDuplicateRegistrations:!0})},_embind_register_std_string:(M,j)=>{var R=(j=V(j))==="std::string";te(M,{name:j,fromWireType:x=>{var D,z=_[x>>2],X=x+4;if(R)for(var J=X,q=0;q<=z;++q){var K=X+q;if(q==z||m[K]==0){var re=Et(J,K-J);D===void 0?D=re:(D+=String.fromCharCode(0),D+=re),J=K+1}}else{var ie=new Array(z);for(q=0;q<z;++q)ie[q]=String.fromCharCode(m[X+q]);D=ie.join("")}return je(x),D},toWireType:(x,D)=>{var z;D instanceof ArrayBuffer&&(D=new Uint8Array(D));var X=typeof D=="string";X||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int8Array||B("Cannot pass non-string to std::string"),z=R&&X?(ie=>{for(var ae=0,se=0;se<ie.length;++se){var ke=ie.charCodeAt(se);ke<=127?ae++:ke<=2047?ae+=2:ke>=55296&&ke<=57343?(ae+=4,++se):ae+=3}return ae})(D):D.length;var J=Jt(4+z+1),q=J+4;if(_[J>>2]=z,R&&X)((ie,ae,se,ke)=>{if(!(ke>0))return 0;for(var Ae=se,De=se+ke-1,pt=0;pt<ie.length;++pt){var ye=ie.charCodeAt(pt);if(ye>=55296&&ye<=57343&&(ye=65536+((1023&ye)<<10)|1023&ie.charCodeAt(++pt)),ye<=127){if(se>=De)break;ae[se++]=ye}else if(ye<=2047){if(se+1>=De)break;ae[se++]=192|ye>>6,ae[se++]=128|63&ye}else if(ye<=65535){if(se+2>=De)break;ae[se++]=224|ye>>12,ae[se++]=128|ye>>6&63,ae[se++]=128|63&ye}else{if(se+3>=De)break;ae[se++]=240|ye>>18,ae[se++]=128|ye>>12&63,ae[se++]=128|ye>>6&63,ae[se++]=128|63&ye}}ae[se]=0})(D,m,q,z+1);else if(X)for(var K=0;K<z;++K){var re=D.charCodeAt(K);re>255&&(je(q),B("String has UTF-16 code units that do not fit in 8 bits")),m[q+K]=re}else for(K=0;K<z;++K)m[q+K]=D[K];return x!==null&&x.push(je,J),J},argPackAdvance:8,readValueFromPointer:$e,destructorFunction:x=>je(x)})},_embind_register_std_wstring:(M,j,R)=>{var x,D,z,X,J;R=V(R),j===2?(x=qt,D=Tt,X=Kt,z=()=>E,J=1):j===4&&(x=Te,D=kt,X=ur,z=()=>_,J=2),te(M,{name:R,fromWireType:q=>{for(var K,re=_[q>>2],ie=z(),ae=q+4,se=0;se<=re;++se){var ke=q+4+se*j;if(se==re||ie[ke>>J]==0){var Ae=x(ae,ke-ae);K===void 0?K=Ae:(K+=String.fromCharCode(0),K+=Ae),ae=ke+j}}return je(q),K},toWireType:(q,K)=>{typeof K!="string"&&B(`Cannot pass non-string to C++ string type ${R}`);var re=X(K),ie=Jt(4+re+j);return _[ie>>2]=re>>J,D(K,ie+4,re+j),q!==null&&q.push(je,ie),ie},argPackAdvance:8,readValueFromPointer:Le,destructorFunction:q=>je(q)})},_embind_register_void:(M,j)=>{te(M,{isVoid:!0,name:j=V(j),argPackAdvance:0,fromWireType:()=>{},toWireType:(R,x)=>{}})},emscripten_get_now:Ee,emscripten_memcpy_big:(M,j,R)=>m.copyWithin(M,j,j+R),emscripten_resize_heap:M=>{var j=m.length,R=2147483648;if((M>>>=0)>R)return!1;for(var x,D=1;D<=4;D*=2){var z=j*(1+.2/D);z=Math.min(z,M+100663296);var X=Math.min(R,(x=Math.max(M,z))+(65536-x%65536)%65536);if(lr(X))return!0}return!1},fd_write:(M,j,R,x)=>{for(var D=0,z=0;z<R;z++){var X=_[j>>2],J=_[j+4>>2];j+=8;for(var q=0;q<J;q++)K=M,re=m[X+q],ie=void 0,ie=fr[K],re===0||re===10?((K===1?g:C)(ut(ie,0)),ie.length=0):ie.push(re);D+=J}var K,re,ie;return _[x>>2]=D,0}},Se=function(){var M,j,R,x,D={env:Xt,wasi_snapshot_preview1:Xt};function z(X,J){var q,K=X.exports;return T=(Se=K).memory,d(),Se.__indirect_function_table,q=Se.__wasm_call_ctors,S.unshift(q),function(re){if(P--,u.monitorRunDependencies&&u.monitorRunDependencies(P),P==0&&N){var ie=N;N=null,ie()}}(),K}if(P++,u.monitorRunDependencies&&u.monitorRunDependencies(P),u.instantiateWasm)try{return u.instantiateWasm(D,z)}catch(X){C(`Module.instantiateWasm callback failed with error: ${X}`),c(X)}return(M=p,j=I,R=D,x=function(X){z(X.instance)},M||typeof WebAssembly.instantiateStreaming!="function"||U(j)||typeof fetch!="function"?Q(j,R,x):fetch(j,{credentials:"same-origin"}).then(X=>WebAssembly.instantiateStreaming(X,R).then(x,function(J){return C(`wasm streaming compile failed: ${J}`),C("falling back to ArrayBuffer instantiation"),Q(j,R,x)}))).catch(c),{}}(),Jt=M=>(Jt=Se.malloc)(M),je=M=>(je=Se.free)(M);function En(){function M(){dt||(dt=!0,u.calledRun=!0,y||(ne(S),a(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),function(){if(u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;)j=u.postRun.shift(),O.unshift(j);var j;ne(O)}()))}P>0||(function(){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)j=u.preRun.shift(),b.unshift(j);var j;ne(b)}(),P>0||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),M()},1)):M()))}if(u._omalloc=M=>(u._omalloc=Se.omalloc)(M),u._ofree=M=>(u._ofree=Se.ofree)(M),u._getLastOnigError=()=>(u._getLastOnigError=Se.getLastOnigError)(),u._createOnigScanner=(M,j,R,x,D)=>(u._createOnigScanner=Se.createOnigScanner)(M,j,R,x,D),u._freeOnigScanner=M=>(u._freeOnigScanner=Se.freeOnigScanner)(M),u._findNextOnigScannerMatch=(M,j,R,x,D,z)=>(u._findNextOnigScannerMatch=Se.findNextOnigScannerMatch)(M,j,R,x,D,z),u._findNextOnigScannerMatchDbg=(M,j,R,x,D,z)=>(u._findNextOnigScannerMatchDbg=Se.findNextOnigScannerMatchDbg)(M,j,R,x,D,z),u.__embind_initialize_bindings=()=>(u.__embind_initialize_bindings=Se._embind_initialize_bindings)(),u.dynCall_jiji=(M,j,R,x,D)=>(u.dynCall_jiji=Se.dynCall_jiji)(M,j,R,x,D),u.UTF8ToString=Et,N=function M(){dt||En(),dt||(N=M)},u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();return En(),s.ready});i.exports=o}},r={},function i(o){var s=r[o];if(s!==void 0)return s.exports;var a=r[o]={exports:{}};return n[o].call(a.exports,a,a.exports,i),a.exports}(770);var n,r})})(Zs);var _i=Zs.exports;const Gf=Bf(_i),Ff=$f({__proto__:null,default:Gf},[_i]);var ea={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Qs,()=>(()=>{var n={350:(i,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UseOnigurumaFindOptions=o.DebugFlags=void 0,o.DebugFlags={InDebugMode:typeof process<"u"&&!!{}.VSCODE_TEXTMATE_DEBUG},o.UseOnigurumaFindOptions=!1},442:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.applyStateStackDiff=o.diffStateStacksRefEq=void 0;const a=s(391);o.diffStateStacksRefEq=function(c,u){let h=0;const f=[];let p=c,T=u;for(;p!==T;)p&&(!T||p.depth>=T.depth)?(h++,p=p.parent):(f.push(T.toStateStackFrame()),T=T.parent);return{pops:h,newFrames:f.reverse()}},o.applyStateStackDiff=function(c,u){let h=c;for(let f=0;f<u.pops;f++)h=h.parent;for(const f of u.newFrames)h=a.StateStackImpl.pushFrame(h,f);return h}},36:(i,o)=>{var s;Object.defineProperty(o,"__esModule",{value:!0}),o.toOptionalTokenType=o.EncodedTokenAttributes=void 0,(s=o.EncodedTokenAttributes||(o.EncodedTokenAttributes={})).toBinaryStr=function(a){return a.toString(2).padStart(32,"0")},s.print=function(a){const c=s.getLanguageId(a),u=s.getTokenType(a),h=s.getFontStyle(a),f=s.getForeground(a),p=s.getBackground(a);console.log({languageId:c,tokenType:u,fontStyle:h,foreground:f,background:p})},s.getLanguageId=function(a){return(255&a)>>>0},s.getTokenType=function(a){return(768&a)>>>8},s.containsBalancedBrackets=function(a){return(1024&a)!=0},s.getFontStyle=function(a){return(30720&a)>>>11},s.getForeground=function(a){return(16744448&a)>>>15},s.getBackground=function(a){return(4278190080&a)>>>24},s.set=function(a,c,u,h,f,p,T){let g=s.getLanguageId(a),C=s.getTokenType(a),k=s.containsBalancedBrackets(a)?1:0,m=s.getFontStyle(a),w=s.getForeground(a),E=s.getBackground(a);return c!==0&&(g=c),u!==8&&(C=u),h!==null&&(k=h?1:0),f!==-1&&(m=f),p!==0&&(w=p),T!==0&&(E=T),(g<<0|C<<8|k<<10|m<<11|w<<15|E<<24)>>>0},o.toOptionalTokenType=function(a){return a}},996:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BasicScopeAttributesProvider=o.BasicScopeAttributes=void 0;const a=s(878);class c{constructor(p,T){this.languageId=p,this.tokenType=T}}o.BasicScopeAttributes=c;class u{constructor(p,T){this._getBasicScopeAttributes=new a.CachedFn(g=>{const C=this._scopeToLanguage(g),k=this._toStandardTokenType(g);return new c(C,k)}),this._defaultAttributes=new c(p,8),this._embeddedLanguagesMatcher=new h(Object.entries(T||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(p){return p===null?u._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(p)}_scopeToLanguage(p){return this._embeddedLanguagesMatcher.match(p)||0}_toStandardTokenType(p){const T=p.match(u.STANDARD_TOKEN_TYPE_REGEXP);if(!T)return 8;switch(T[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}}o.BasicScopeAttributesProvider=u,u._NULL_SCOPE_METADATA=new c(0,0),u.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/;class h{constructor(p){if(p.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(p);const T=p.map(([g,C])=>a.escapeRegExpCharacters(g));T.sort(),T.reverse(),this.scopesRegExp=new RegExp(`^((${T.join(")|(")}))($|\\.)`,"")}}match(p){if(!this.scopesRegExp)return;const T=p.match(this.scopesRegExp);return T?this.values.get(T[1]):void 0}}},947:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LineTokens=o.BalancedBracketSelectors=o.StateStackImpl=o.AttributedScopeStack=o.Grammar=o.createGrammar=void 0;const a=s(350),c=s(36),u=s(736),h=s(44),f=s(792),p=s(583),T=s(878),g=s(996),C=s(47);function k(y,d,b,S,O){const P=u.createMatchers(d,m),N=f.RuleFactory.getCompiledRuleId(b,S,O.repository);for(const L of P)y.push({debugSelector:d,matcher:L.matcher,ruleId:N,grammar:O,priority:L.priority})}function m(y,d){if(d.length<y.length)return!1;let b=0;return y.every(S=>{for(let O=b;O<d.length;O++)if(w(d[O],S))return b=O+1,!0;return!1})}function w(y,d){if(!y)return!1;if(y===d)return!0;const b=d.length;return y.length>b&&y.substr(0,b)===d&&y[b]==="."}o.createGrammar=function(y,d,b,S,O,P,N,L){return new E(y,d,b,S,O,P,N,L)};class E{constructor(d,b,S,O,P,N,L,I){if(this._rootScopeName=d,this.balancedBracketSelectors=N,this._onigLib=I,this._basicScopeAttributesProvider=new g.BasicScopeAttributesProvider(S,O),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=L,this._grammar=A(b,null),this._injections=null,this._tokenTypeMatchers=[],P)for(const W of Object.keys(P)){const U=u.createMatchers(W,m);for(const G of U)this._tokenTypeMatchers.push({matcher:G.matcher,type:P[W]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const d of this._ruleId2desc)d&&d.dispose()}createOnigScanner(d){return this._onigLib.createOnigScanner(d)}createOnigString(d){return this._onigLib.createOnigString(d)}getMetadataForScope(d){return this._basicScopeAttributesProvider.getBasicScopeAttributes(d)}_collectInjections(){const d=[],b=this._rootScopeName,S=(O=>O===this._rootScopeName?this._grammar:this.getExternalGrammar(O))(b);if(S){const O=S.injections;if(O)for(let N in O)k(d,N,O[N],this,S);const P=this._grammarRepository.injections(b);P&&P.forEach(N=>{const L=this.getExternalGrammar(N);if(L){const I=L.injectionSelector;I&&k(d,I,L,this,L)}})}return d.sort((O,P)=>O.priority-P.priority),d}getInjections(){if(this._injections===null&&(this._injections=this._collectInjections(),a.DebugFlags.InDebugMode&&this._injections.length>0)){console.log(`Grammar ${this._rootScopeName} contains the following injections:`);for(const d of this._injections)console.log(`  - ${d.debugSelector}`)}return this._injections}registerRule(d){const b=++this._lastRuleId,S=d(f.ruleIdFromNumber(b));return this._ruleId2desc[b]=S,S}getRule(d){return this._ruleId2desc[f.ruleIdToNumber(d)]}getExternalGrammar(d,b){if(this._includedGrammars[d])return this._includedGrammars[d];if(this._grammarRepository){const S=this._grammarRepository.lookup(d);if(S)return this._includedGrammars[d]=A(S,b&&b.$base),this._includedGrammars[d]}}tokenizeLine(d,b,S=0){const O=this._tokenize(d,b,!1,S);return{tokens:O.lineTokens.getResult(O.ruleStack,O.lineLength),ruleStack:O.ruleStack,stoppedEarly:O.stoppedEarly}}tokenizeLine2(d,b,S=0){const O=this._tokenize(d,b,!0,S);return{tokens:O.lineTokens.getBinaryResult(O.ruleStack,O.lineLength),ruleStack:O.ruleStack,stoppedEarly:O.stoppedEarly}}_tokenize(d,b,S,O){let P;if(this._rootId===-1&&(this._rootId=f.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections()),b&&b!==l.NULL)P=!1,b.reset();else{P=!0;const U=this._basicScopeAttributesProvider.getDefaultAttributes(),G=this.themeProvider.getDefaults(),Q=c.EncodedTokenAttributes.set(0,U.languageId,U.tokenType,null,G.fontStyle,G.foregroundId,G.backgroundId),ne=this.getRule(this._rootId).getName(null,null);let Z;Z=ne?_.createRootAndLookUpScopeName(ne,Q,this):_.createRoot("unknown",Q),b=new l(null,this._rootId,-1,-1,!1,null,Z,Z)}d+=`
`;const N=this.createOnigString(d),L=N.content.length,I=new v(S,d,this._tokenTypeMatchers,this.balancedBracketSelectors),W=C._tokenizeString(this,N,P,0,b,I,!0,O);return h.disposeOnigString(N),{lineLength:L,lineTokens:I,ruleStack:W.stack,stoppedEarly:W.stoppedEarly}}}function A(y,d){return(y=T.clone(y)).repository=y.repository||{},y.repository.$self={$vscodeTextmateLocation:y.$vscodeTextmateLocation,patterns:y.patterns,name:y.scopeName},y.repository.$base=d||y.repository.$self,y}o.Grammar=E;class _{constructor(d,b,S){this.parent=d,this.scopePath=b,this.tokenAttributes=S}static fromExtension(d,b){let S=d,O=d?.scopePath??null;for(const P of b)O=p.ScopeStack.push(O,P.scopeNames),S=new _(S,O,P.encodedTokenAttributes);return S}static createRoot(d,b){return new _(null,new p.ScopeStack(null,d),b)}static createRootAndLookUpScopeName(d,b,S){const O=S.getMetadataForScope(d),P=new p.ScopeStack(null,d),N=S.themeProvider.themeMatch(P),L=_.mergeAttributes(b,O,N);return new _(null,P,L)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(d){return _.equals(this,d)}static equals(d,b){for(;;){if(d===b||!d&&!b)return!0;if(!d||!b||d.scopeName!==b.scopeName||d.tokenAttributes!==b.tokenAttributes)return!1;d=d.parent,b=b.parent}}static mergeAttributes(d,b,S){let O=-1,P=0,N=0;return S!==null&&(O=S.fontStyle,P=S.foregroundId,N=S.backgroundId),c.EncodedTokenAttributes.set(d,b.languageId,b.tokenType,null,O,P,N)}pushAttributed(d,b){if(d===null)return this;if(d.indexOf(" ")===-1)return _._pushAttributed(this,d,b);const S=d.split(/ /g);let O=this;for(const P of S)O=_._pushAttributed(O,P,b);return O}static _pushAttributed(d,b,S){const O=S.getMetadataForScope(b),P=d.scopePath.push(b),N=S.themeProvider.themeMatch(P),L=_.mergeAttributes(d.tokenAttributes,O,N);return new _(d,P,L)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(d){var b;const S=[];let O=this;for(;O&&O!==d;)S.push({encodedTokenAttributes:O.tokenAttributes,scopeNames:O.scopePath.getExtensionIfDefined(((b=O.parent)==null?void 0:b.scopePath)??null)}),O=O.parent;return O===d?S.reverse():void 0}}o.AttributedScopeStack=_;class l{constructor(d,b,S,O,P,N,L,I){this.parent=d,this.ruleId=b,this.beginRuleCapturedEOL=P,this.endRule=N,this.nameScopesList=L,this.contentNameScopesList=I,this._stackElementBrand=void 0,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=S,this._anchorPos=O}equals(d){return d!==null&&l._equals(this,d)}static _equals(d,b){return d===b||!!this._structuralEquals(d,b)&&_.equals(d.contentNameScopesList,b.contentNameScopesList)}static _structuralEquals(d,b){for(;;){if(d===b||!d&&!b)return!0;if(!d||!b||d.depth!==b.depth||d.ruleId!==b.ruleId||d.endRule!==b.endRule)return!1;d=d.parent,b=b.parent}}clone(){return this}static _reset(d){for(;d;)d._enterPos=-1,d._anchorPos=-1,d=d.parent}reset(){l._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(d,b,S,O,P,N,L){return new l(this,d,b,S,O,P,N,L)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(d){return d.getRule(this.ruleId)}toString(){const d=[];return this._writeString(d,0),"["+d.join(",")+"]"}_writeString(d,b){var S,O;return this.parent&&(b=this.parent._writeString(d,b)),d[b++]=`(${this.ruleId}, ${(S=this.nameScopesList)==null?void 0:S.toString()}, ${(O=this.contentNameScopesList)==null?void 0:O.toString()})`,b}withContentNameScopesList(d){return this.contentNameScopesList===d?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,d)}withEndRule(d){return this.endRule===d?this:new l(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,d,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(d){let b=this;for(;b&&b._enterPos===d._enterPos;){if(b.ruleId===d.ruleId)return!0;b=b.parent}return!1}toStateStackFrame(){var d,b,S;return{ruleId:f.ruleIdToNumber(this.ruleId),beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:((b=this.nameScopesList)==null?void 0:b.getExtensionIfDefined(((d=this.parent)==null?void 0:d.nameScopesList)??null))??[],contentNameScopesList:((S=this.contentNameScopesList)==null?void 0:S.getExtensionIfDefined(this.nameScopesList))??[]}}static pushFrame(d,b){const S=_.fromExtension(d?.nameScopesList??null,b.nameScopesList);return new l(d,f.ruleIdFromNumber(b.ruleId),b.enterPos??-1,b.anchorPos??-1,b.beginRuleCapturedEOL,b.endRule,S,_.fromExtension(S,b.contentNameScopesList))}}o.StateStackImpl=l,l.NULL=new l(null,0,0,0,!1,null,null,null),o.BalancedBracketSelectors=class{constructor(y,d){this.allowAny=!1,this.balancedBracketScopes=y.flatMap(b=>b==="*"?(this.allowAny=!0,[]):u.createMatchers(b,m).map(S=>S.matcher)),this.unbalancedBracketScopes=d.flatMap(b=>u.createMatchers(b,m).map(S=>S.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(y){for(const d of this.unbalancedBracketScopes)if(d(y))return!1;for(const d of this.balancedBracketScopes)if(d(y))return!0;return this.allowAny}};class v{constructor(d,b,S,O){this.balancedBracketSelectors=O,this._emitBinaryTokens=d,this._tokenTypeOverrides=S,a.DebugFlags.InDebugMode?this._lineText=b:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(d,b){this.produceFromScopes(d.contentNameScopesList,b)}produceFromScopes(d,b){var S;if(this._lastTokenEndIndex>=b)return;if(this._emitBinaryTokens){let P=d?.tokenAttributes??0,N=!1;if((S=this.balancedBracketSelectors)!=null&&S.matchesAlways&&(N=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const L=d?.getScopeNames()??[];for(const I of this._tokenTypeOverrides)I.matcher(L)&&(P=c.EncodedTokenAttributes.set(P,0,c.toOptionalTokenType(I.type),null,-1,0,0));this.balancedBracketSelectors&&(N=this.balancedBracketSelectors.match(L))}if(N&&(P=c.EncodedTokenAttributes.set(P,0,8,N,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===P)return void(this._lastTokenEndIndex=b);if(a.DebugFlags.InDebugMode){const L=d?.getScopeNames()??[];console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,b).replace(/\n$/,"\\n")+"|");for(let I=0;I<L.length;I++)console.log("      * "+L[I])}return this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(P),void(this._lastTokenEndIndex=b)}const O=d?.getScopeNames()??[];if(a.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,b).replace(/\n$/,"\\n")+"|");for(let P=0;P<O.length;P++)console.log("      * "+O[P])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:b,scopes:O}),this._lastTokenEndIndex=b}getResult(d,b){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===b-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(d,b),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(d,b){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===b-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(d,b),this._binaryTokens[this._binaryTokens.length-2]=0);const S=new Uint32Array(this._binaryTokens.length);for(let O=0,P=this._binaryTokens.length;O<P;O++)S[O]=this._binaryTokens[O];return S}}o.LineTokens=v},965:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseInclude=o.TopLevelRepositoryReference=o.TopLevelReference=o.RelativeReference=o.SelfReference=o.BaseReference=o.ScopeDependencyProcessor=o.ExternalReferenceCollector=o.TopLevelRepositoryRuleReference=o.TopLevelRuleReference=void 0;const a=s(878);class c{constructor(l){this.scopeName=l}toKey(){return this.scopeName}}o.TopLevelRuleReference=c;class u{constructor(l,v){this.scopeName=l,this.ruleName=v}toKey(){return`${this.scopeName}#${this.ruleName}`}}o.TopLevelRepositoryRuleReference=u;class h{constructor(){this._references=[],this._seenReferenceKeys=new Set,this.visitedRule=new Set}get references(){return this._references}add(l){const v=l.toKey();this._seenReferenceKeys.has(v)||(this._seenReferenceKeys.add(v),this._references.push(l))}}function f(_,l,v,y){const d=v.lookup(_.scopeName);if(!d){if(_.scopeName===l)throw new Error(`No grammar provided for <${l}>`);return}const b=v.lookup(l);_ instanceof c?T({baseGrammar:b,selfGrammar:d},y):p(_.ruleName,{baseGrammar:b,selfGrammar:d,repository:d.repository},y);const S=v.injections(_.scopeName);if(S)for(const O of S)y.add(new c(O))}function p(_,l,v){l.repository&&l.repository[_]&&g([l.repository[_]],l,v)}function T(_,l){_.selfGrammar.patterns&&Array.isArray(_.selfGrammar.patterns)&&g(_.selfGrammar.patterns,{..._,repository:_.selfGrammar.repository},l),_.selfGrammar.injections&&g(Object.values(_.selfGrammar.injections),{..._,repository:_.selfGrammar.repository},l)}function g(_,l,v){for(const y of _){if(v.visitedRule.has(y))continue;v.visitedRule.add(y);const d=y.repository?a.mergeObjects({},l.repository,y.repository):l.repository;Array.isArray(y.patterns)&&g(y.patterns,{...l,repository:d},v);const b=y.include;if(!b)continue;const S=A(b);switch(S.kind){case 0:T({...l,selfGrammar:l.baseGrammar},v);break;case 1:T(l,v);break;case 2:p(S.ruleName,{...l,repository:d},v);break;case 3:case 4:const O=S.scopeName===l.selfGrammar.scopeName?l.selfGrammar:S.scopeName===l.baseGrammar.scopeName?l.baseGrammar:void 0;if(O){const P={baseGrammar:l.baseGrammar,selfGrammar:O,repository:d};S.kind===4?p(S.ruleName,P,v):T(P,v)}else S.kind===4?v.add(new u(S.scopeName,S.ruleName)):v.add(new c(S.scopeName))}}}o.ExternalReferenceCollector=h,o.ScopeDependencyProcessor=class{constructor(_,l){this.repo=_,this.initialScopeName=l,this.seenFullScopeRequests=new Set,this.seenPartialScopeRequests=new Set,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new c(this.initialScopeName)]}processQueue(){const _=this.Q;this.Q=[];const l=new h;for(const v of _)f(v,this.initialScopeName,this.repo,l);for(const v of l.references)if(v instanceof c){if(this.seenFullScopeRequests.has(v.scopeName))continue;this.seenFullScopeRequests.add(v.scopeName),this.Q.push(v)}else{if(this.seenFullScopeRequests.has(v.scopeName)||this.seenPartialScopeRequests.has(v.toKey()))continue;this.seenPartialScopeRequests.add(v.toKey()),this.Q.push(v)}}};class C{constructor(){this.kind=0}}o.BaseReference=C;class k{constructor(){this.kind=1}}o.SelfReference=k;class m{constructor(l){this.ruleName=l,this.kind=2}}o.RelativeReference=m;class w{constructor(l){this.scopeName=l,this.kind=3}}o.TopLevelReference=w;class E{constructor(l,v){this.scopeName=l,this.ruleName=v,this.kind=4}}function A(_){if(_==="$base")return new C;if(_==="$self")return new k;const l=_.indexOf("#");if(l===-1)return new w(_);if(l===0)return new m(_.substring(1));{const v=_.substring(0,l),y=_.substring(l+1);return new E(v,y)}}o.TopLevelRepositoryReference=E,o.parseInclude=A},391:function(i,o,s){var a=this&&this.__createBinding||(Object.create?function(u,h,f,p){p===void 0&&(p=f),Object.defineProperty(u,p,{enumerable:!0,get:function(){return h[f]}})}:function(u,h,f,p){p===void 0&&(p=f),u[p]=h[f]}),c=this&&this.__exportStar||function(u,h){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(h,f)||a(h,u,f)};Object.defineProperty(o,"__esModule",{value:!0}),c(s(947),o)},47:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LocalStackElement=o._tokenizeString=void 0;const a=s(350),c=s(44),u=s(792),h=s(878);class f{constructor(E,A){this.stack=E,this.stoppedEarly=A}}function p(w,E,A,_,l,v,y,d){const b=E.content.length;let S=!1,O=-1;if(y){const L=function(I,W,U,G,Q,ne){let Z=Q.beginRuleCapturedEOL?0:-1;const V=[];for(let $=Q;$;$=$.pop()){const H=$.getRule(I);H instanceof u.BeginWhileRule&&V.push({rule:H,stack:$})}for(let $=V.pop();$;$=V.pop()){const{ruleScanner:H,findOptions:ee}=g($.rule,I,$.stack.endRule,U,G===Z),B=H.findNextMatchSync(W,G,ee);if(a.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(H.toString())),!B){a.DebugFlags.InDebugMode&&console.log("  popping "+$.rule.debugName+" - "+$.rule.debugWhileRegExp),Q=$.stack.pop();break}if(B.ruleId!==u.whileRuleId){Q=$.stack.pop();break}B.captureIndices&&B.captureIndices.length&&(ne.produce($.stack,B.captureIndices[0].start),k(I,W,U,$.stack,ne,$.rule.whileCaptures,B.captureIndices),ne.produce($.stack,B.captureIndices[0].end),Z=B.captureIndices[0].end,B.captureIndices[0].end>G&&(G=B.captureIndices[0].end,U=!1))}return{stack:Q,linePos:G,anchorPosition:Z,isFirstLine:U}}(w,E,A,_,l,v);l=L.stack,_=L.linePos,A=L.isFirstLine,O=L.anchorPosition}const P=Date.now();for(;!S;){if(d!==0&&Date.now()-P>d)return new f(l,!0);N()}return new f(l,!1);function N(){a.DebugFlags.InDebugMode&&(console.log(""),console.log(`@@scanNext ${_}: |${E.content.substr(_).replace(/\n$/,"\\n")}|`));const L=function(G,Q,ne,Z,V,$){const H=function(te,be,he,et,qe,Re){const Le=qe.getRule(te),{ruleScanner:Ke,findOptions:we}=T(Le,te,qe.endRule,he,et===Re);let $e=0;a.DebugFlags.InDebugMode&&($e=h.performanceNow());const Ee=Ke.findNextMatchSync(be,et,we);if(a.DebugFlags.InDebugMode){const tt=h.performanceNow()-$e;tt>5&&console.warn(`Rule ${Le.debugName} (${Le.id}) matching took ${tt} against '${be}'`),console.log(`  scanning for (linePos: ${et}, anchorPosition: ${Re})`),console.log(Ke.toString()),Ee&&console.log(`matched rule id: ${Ee.ruleId} from ${Ee.captureIndices[0].start} to ${Ee.captureIndices[0].end}`)}return Ee?{captureIndices:Ee.captureIndices,matchedRuleId:Ee.ruleId}:null}(G,Q,ne,Z,V,$),ee=G.getInjections();if(ee.length===0)return H;const B=function(te,be,he,et,qe,Re,Le){let Ke,we=Number.MAX_VALUE,$e=null,Ee=0;const tt=Re.contentNameScopesList.getScopeNames();for(let ut=0,Et=te.length;ut<Et;ut++){const nt=te[ut];if(!nt.matcher(tt))continue;const qt=be.getRule(nt.ruleId),{ruleScanner:Tt,findOptions:Kt}=T(qt,be,null,et,qe===Le),Te=Tt.findNextMatchSync(he,qe,Kt);if(!Te)continue;a.DebugFlags.InDebugMode&&(console.log(`  matched injection: ${nt.debugSelector}`),console.log(Tt.toString()));const kt=Te.captureIndices[0].start;if(!(kt>=we)&&(we=kt,$e=Te.captureIndices,Ke=Te.ruleId,Ee=nt.priority,we===qe))break}return $e?{priorityMatch:Ee===-1,captureIndices:$e,matchedRuleId:Ke}:null}(ee,G,Q,ne,Z,V,$);if(!B)return H;if(!H)return B;const F=H.captureIndices[0].start,Y=B.captureIndices[0].start;return Y<F||B.priorityMatch&&Y===F?B:H}(w,E,A,_,l,O);if(!L)return a.DebugFlags.InDebugMode&&console.log("  no more matches."),v.produce(l,b),void(S=!0);const I=L.captureIndices,W=L.matchedRuleId,U=!!(I&&I.length>0)&&I[0].end>_;if(W===u.endRuleId){const G=l.getRule(w);a.DebugFlags.InDebugMode&&console.log("  popping "+G.debugName+" - "+G.debugEndRegExp),v.produce(l,I[0].start),l=l.withContentNameScopesList(l.nameScopesList),k(w,E,A,l,v,G.endCaptures,I),v.produce(l,I[0].end);const Q=l;if(l=l.parent,O=Q.getAnchorPos(),!U&&Q.getEnterPos()===_)return a.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),l=Q,v.produce(l,b),void(S=!0)}else{const G=w.getRule(W);v.produce(l,I[0].start);const Q=l,ne=G.getName(E.content,I),Z=l.contentNameScopesList.pushAttributed(ne,w);if(l=l.push(W,_,O,I[0].end===b,null,Z,Z),G instanceof u.BeginEndRule){const V=G;a.DebugFlags.InDebugMode&&console.log("  pushing "+V.debugName+" - "+V.debugBeginRegExp),k(w,E,A,l,v,V.beginCaptures,I),v.produce(l,I[0].end),O=I[0].end;const $=V.getContentName(E.content,I),H=Z.pushAttributed($,w);if(l=l.withContentNameScopesList(H),V.endHasBackReferences&&(l=l.withEndRule(V.getEndWithResolvedBackReferences(E.content,I))),!U&&Q.hasSameRuleAs(l))return a.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),l=l.pop(),v.produce(l,b),void(S=!0)}else if(G instanceof u.BeginWhileRule){const V=G;a.DebugFlags.InDebugMode&&console.log("  pushing "+V.debugName),k(w,E,A,l,v,V.beginCaptures,I),v.produce(l,I[0].end),O=I[0].end;const $=V.getContentName(E.content,I),H=Z.pushAttributed($,w);if(l=l.withContentNameScopesList(H),V.whileHasBackReferences&&(l=l.withEndRule(V.getWhileWithResolvedBackReferences(E.content,I))),!U&&Q.hasSameRuleAs(l))return a.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),l=l.pop(),v.produce(l,b),void(S=!0)}else{const V=G;if(a.DebugFlags.InDebugMode&&console.log("  matched "+V.debugName+" - "+V.debugMatchRegExp),k(w,E,A,l,v,V.captures,I),v.produce(l,I[0].end),l=l.pop(),!U)return a.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),l=l.safePop(),v.produce(l,b),void(S=!0)}}I[0].end>_&&(_=I[0].end,A=!1)}}function T(w,E,A,_,l){return a.UseOnigurumaFindOptions?{ruleScanner:w.compile(E,A),findOptions:C(_,l)}:{ruleScanner:w.compileAG(E,A,_,l),findOptions:0}}function g(w,E,A,_,l){return a.UseOnigurumaFindOptions?{ruleScanner:w.compileWhile(E,A),findOptions:C(_,l)}:{ruleScanner:w.compileWhileAG(E,A,_,l),findOptions:0}}function C(w,E){let A=0;return w||(A|=1),E||(A|=4),A}function k(w,E,A,_,l,v,y){if(v.length===0)return;const d=E.content,b=Math.min(v.length,y.length),S=[],O=y[0].end;for(let P=0;P<b;P++){const N=v[P];if(N===null)continue;const L=y[P];if(L.length===0)continue;if(L.start>O)break;for(;S.length>0&&S[S.length-1].endPos<=L.start;)l.produceFromScopes(S[S.length-1].scopes,S[S.length-1].endPos),S.pop();if(S.length>0?l.produceFromScopes(S[S.length-1].scopes,L.start):l.produce(_,L.start),N.retokenizeCapturedWithRuleId){const W=N.getName(d,y),U=_.contentNameScopesList.pushAttributed(W,w),G=N.getContentName(d,y),Q=U.pushAttributed(G,w),ne=_.push(N.retokenizeCapturedWithRuleId,L.start,-1,!1,null,U,Q),Z=w.createOnigString(d.substring(0,L.end));p(w,Z,A&&L.start===0,L.start,ne,l,!1,0),c.disposeOnigString(Z);continue}const I=N.getName(d,y);if(I!==null){const W=(S.length>0?S[S.length-1].scopes:_.contentNameScopesList).pushAttributed(I,w);S.push(new m(W,L.end))}}for(;S.length>0;)l.produceFromScopes(S[S.length-1].scopes,S[S.length-1].endPos),S.pop()}o._tokenizeString=p;class m{constructor(E,A){this.scopes=E,this.endPos=A}}o.LocalStackElement=m},974:(i,o)=>{function s(h,f){throw new Error("Near offset "+h.pos+": "+f+" ~~~"+h.source.substr(h.pos,50)+"~~~")}Object.defineProperty(o,"__esModule",{value:!0}),o.parseJSON=void 0,o.parseJSON=function(h,f,p){let T=new a(h),g=new c,C=0,k=null,m=[],w=[];function E(){m.push(C),w.push(k)}function A(){C=m.pop(),k=w.pop()}function _(l){s(T,l)}for(;u(T,g);){if(C===0){if(k!==null&&_("too many constructs in root"),g.type===3){k={},p&&(k.$vscodeTextmateLocation=g.toLocation(f)),E(),C=1;continue}if(g.type===2){k=[],E(),C=4;continue}_("unexpected token in root")}if(C===2){if(g.type===5){A();continue}if(g.type===7){C=3;continue}_("expected , or }")}if(C===1||C===3){if(C===1&&g.type===5){A();continue}if(g.type===1){let l=g.value;if(u(T,g)&&g.type===6||_("expected colon"),u(T,g)||_("expected value"),C=2,g.type===1){k[l]=g.value;continue}if(g.type===8){k[l]=null;continue}if(g.type===9){k[l]=!0;continue}if(g.type===10){k[l]=!1;continue}if(g.type===11){k[l]=parseFloat(g.value);continue}if(g.type===2){let v=[];k[l]=v,E(),C=4,k=v;continue}if(g.type===3){let v={};p&&(v.$vscodeTextmateLocation=g.toLocation(f)),k[l]=v,E(),C=1,k=v;continue}}_("unexpected token in dict")}if(C===5){if(g.type===4){A();continue}if(g.type===7){C=6;continue}_("expected , or ]")}if(C===4||C===6){if(C===4&&g.type===4){A();continue}if(C=5,g.type===1){k.push(g.value);continue}if(g.type===8){k.push(null);continue}if(g.type===9){k.push(!0);continue}if(g.type===10){k.push(!1);continue}if(g.type===11){k.push(parseFloat(g.value));continue}if(g.type===2){let l=[];k.push(l),E(),C=4,k=l;continue}if(g.type===3){let l={};p&&(l.$vscodeTextmateLocation=g.toLocation(f)),k.push(l),E(),C=1,k=l;continue}_("unexpected token in array")}_("unknown state")}return w.length!==0&&_("unclosed constructs"),k};class a{constructor(f){this.source=f,this.pos=0,this.len=f.length,this.line=1,this.char=0}}class c{constructor(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}toLocation(f){return{filename:f,line:this.line,char:this.char}}}function u(h,f){f.value=null,f.type=0,f.offset=-1,f.len=-1,f.line=-1,f.char=-1;let p,T=h.source,g=h.pos,C=h.len,k=h.line,m=h.char;for(;;){if(g>=C)return!1;if(p=T.charCodeAt(g),p!==32&&p!==9&&p!==13){if(p!==10)break;g++,k++,m=0}else g++,m++}if(f.offset=g,f.line=k,f.char=m,p===34){for(f.type=1,g++,m++;;){if(g>=C)return!1;if(p=T.charCodeAt(g),g++,m++,p!==92){if(p===34)break}else g++,m++}f.value=T.substring(f.offset+1,g-1).replace(/\\u([0-9A-Fa-f]{4})/g,(w,E)=>String.fromCodePoint(parseInt(E,16))).replace(/\\(.)/g,(w,E)=>{switch(E){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:s(h,"invalid escape sequence")}throw new Error("unreachable")})}else if(p===91)f.type=2,g++,m++;else if(p===123)f.type=3,g++,m++;else if(p===93)f.type=4,g++,m++;else if(p===125)f.type=5,g++,m++;else if(p===58)f.type=6,g++,m++;else if(p===44)f.type=7,g++,m++;else if(p===110){if(f.type=8,g++,m++,p=T.charCodeAt(g),p!==117||(g++,m++,p=T.charCodeAt(g),p!==108)||(g++,m++,p=T.charCodeAt(g),p!==108))return!1;g++,m++}else if(p===116){if(f.type=9,g++,m++,p=T.charCodeAt(g),p!==114||(g++,m++,p=T.charCodeAt(g),p!==117)||(g++,m++,p=T.charCodeAt(g),p!==101))return!1;g++,m++}else if(p===102){if(f.type=10,g++,m++,p=T.charCodeAt(g),p!==97||(g++,m++,p=T.charCodeAt(g),p!==108)||(g++,m++,p=T.charCodeAt(g),p!==115)||(g++,m++,p=T.charCodeAt(g),p!==101))return!1;g++,m++}else for(f.type=11;;){if(g>=C)return!1;if(p=T.charCodeAt(g),!(p===46||p>=48&&p<=57||p===101||p===69||p===45||p===43))break;g++,m++}return f.len=g-f.offset,f.value===null&&(f.value=T.substr(f.offset,f.len)),h.pos=g,h.line=k,h.char=m,!0}},787:function(i,o,s){var a=this&&this.__createBinding||(Object.create?function(C,k,m,w){w===void 0&&(w=m),Object.defineProperty(C,w,{enumerable:!0,get:function(){return k[m]}})}:function(C,k,m,w){w===void 0&&(w=m),C[w]=k[m]}),c=this&&this.__exportStar||function(C,k){for(var m in C)m==="default"||Object.prototype.hasOwnProperty.call(k,m)||a(k,C,m)};Object.defineProperty(o,"__esModule",{value:!0}),o.applyStateStackDiff=o.diffStateStacksRefEq=o.parseRawGrammar=o.INITIAL=o.Registry=void 0;const u=s(391),h=s(50),f=s(652),p=s(583),T=s(965),g=s(442);Object.defineProperty(o,"applyStateStackDiff",{enumerable:!0,get:function(){return g.applyStateStackDiff}}),Object.defineProperty(o,"diffStateStacksRefEq",{enumerable:!0,get:function(){return g.diffStateStacksRefEq}}),c(s(44),o),o.Registry=class{constructor(C){this._options=C,this._syncRegistry=new f.SyncRegistry(p.Theme.createFromRawTheme(C.theme,C.colorMap),C.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(C,k){this._syncRegistry.setTheme(p.Theme.createFromRawTheme(C,k))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(C,k,m){return this.loadGrammarWithConfiguration(C,k,{embeddedLanguages:m})}loadGrammarWithConfiguration(C,k,m){return this._loadGrammar(C,k,m.embeddedLanguages,m.tokenTypes,new u.BalancedBracketSelectors(m.balancedBracketSelectors||[],m.unbalancedBracketSelectors||[]))}loadGrammar(C){return this._loadGrammar(C,0,null,null,null)}async _loadGrammar(C,k,m,w,E){const A=new T.ScopeDependencyProcessor(this._syncRegistry,C);for(;A.Q.length>0;)await Promise.all(A.Q.map(_=>this._loadSingleGrammar(_.scopeName))),A.processQueue();return this._grammarForScopeName(C,k,m,w,E)}async _loadSingleGrammar(C){return this._ensureGrammarCache.has(C)||this._ensureGrammarCache.set(C,this._doLoadSingleGrammar(C)),this._ensureGrammarCache.get(C)}async _doLoadSingleGrammar(C){const k=await this._options.loadGrammar(C);if(k){const m=typeof this._options.getInjections=="function"?this._options.getInjections(C):void 0;this._syncRegistry.addGrammar(k,m)}}async addGrammar(C,k=[],m=0,w=null){return this._syncRegistry.addGrammar(C,k),await this._grammarForScopeName(C.scopeName,m,w)}_grammarForScopeName(C,k=0,m=null,w=null,E=null){return this._syncRegistry.grammarForScopeName(C,k,m,w,E)}},o.INITIAL=u.StateStackImpl.NULL,o.parseRawGrammar=h.parseRawGrammar},736:(i,o)=>{function s(a){return!!a&&!!a.match(/[\w\.:]+/)}Object.defineProperty(o,"__esModule",{value:!0}),o.createMatchers=void 0,o.createMatchers=function(a,c){const u=[],h=function(g){let C=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,k=C.exec(g);return{next:()=>{if(!k)return null;const m=k[0];return k=C.exec(g),m}}}(a);let f=h.next();for(;f!==null;){let g=0;if(f.length===2&&f.charAt(1)===":"){switch(f.charAt(0)){case"R":g=1;break;case"L":g=-1;break;default:console.log(`Unknown priority ${f} in scope selector`)}f=h.next()}let C=T();if(u.push({matcher:C,priority:g}),f!==",")break;f=h.next()}return u;function p(){if(f==="-"){f=h.next();const g=p();return C=>!!g&&!g(C)}if(f==="("){f=h.next();const g=function(){const C=[];let k=T();for(;k&&(C.push(k),f==="|"||f===",");){do f=h.next();while(f==="|"||f===",");k=T()}return m=>C.some(w=>w(m))}();return f===")"&&(f=h.next()),g}if(s(f)){const g=[];do g.push(f),f=h.next();while(s(f));return C=>c(g,C)}return null}function T(){const g=[];let C=p();for(;C;)g.push(C),C=p();return k=>g.every(m=>m(k))}}},44:(i,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.disposeOnigString=void 0,o.disposeOnigString=function(s){typeof s.dispose=="function"&&s.dispose()}},50:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseRawGrammar=void 0;const a=s(69),c=s(350),u=s(974);o.parseRawGrammar=function(h,f=null){return f!==null&&/\.json$/.test(f)?(p=h,T=f,c.DebugFlags.InDebugMode?u.parseJSON(p,T,!0):JSON.parse(p)):function(g,C){return c.DebugFlags.InDebugMode?a.parseWithLocation(g,C,"$vscodeTextmateLocation"):a.parsePLIST(g)}(h,f);var p,T}},69:(i,o)=>{function s(a,c,u){const h=a.length;let f=0,p=1,T=0;function g(B){if(u===null)f+=B;else for(;B>0;)a.charCodeAt(f)===10?(f++,p++,T=0):(f++,T++),B--}function C(B){u===null?f=B:g(B-f)}function k(){for(;f<h;){let B=a.charCodeAt(f);if(B!==32&&B!==9&&B!==13&&B!==10)break;g(1)}}function m(B){return a.substr(f,B.length)===B&&(g(B.length),!0)}function w(B){let F=a.indexOf(B,f);C(F!==-1?F+B.length:h)}function E(B){let F=a.indexOf(B,f);if(F!==-1){let Y=a.substring(f,F);return C(F+B.length),Y}{let Y=a.substr(f);return C(h),Y}}h>0&&a.charCodeAt(0)===65279&&(f=1);let A=0,_=null,l=[],v=[],y=null;function d(B,F){l.push(A),v.push(_),A=B,_=F}function b(){if(l.length===0)return S("illegal state stack");A=l.pop(),_=v.pop()}function S(B){throw new Error("Near offset "+f+": "+B+" ~~~"+a.substr(f,50)+"~~~")}const O=function(){if(y===null)return S("missing <key>");let B={};u!==null&&(B[u]={filename:c,line:p,char:T}),_[y]=B,y=null,d(1,B)},P=function(){if(y===null)return S("missing <key>");let B=[];_[y]=B,y=null,d(2,B)},N=function(){let B={};u!==null&&(B[u]={filename:c,line:p,char:T}),_.push(B),d(1,B)},L=function(){let B=[];_.push(B),d(2,B)};function I(){if(A!==1)return S("unexpected </dict>");b()}function W(){return A===1||A!==2?S("unexpected </array>"):void b()}function U(B){if(A===1){if(y===null)return S("missing <key>");_[y]=B,y=null}else A===2?_.push(B):_=B}function G(B){if(isNaN(B))return S("cannot parse float");if(A===1){if(y===null)return S("missing <key>");_[y]=B,y=null}else A===2?_.push(B):_=B}function Q(B){if(isNaN(B))return S("cannot parse integer");if(A===1){if(y===null)return S("missing <key>");_[y]=B,y=null}else A===2?_.push(B):_=B}function ne(B){if(A===1){if(y===null)return S("missing <key>");_[y]=B,y=null}else A===2?_.push(B):_=B}function Z(B){if(A===1){if(y===null)return S("missing <key>");_[y]=B,y=null}else A===2?_.push(B):_=B}function V(B){if(A===1){if(y===null)return S("missing <key>");_[y]=B,y=null}else A===2?_.push(B):_=B}function $(){let B=E(">"),F=!1;return B.charCodeAt(B.length-1)===47&&(F=!0,B=B.substring(0,B.length-1)),{name:B.trim(),isClosed:F}}function H(B){if(B.isClosed)return"";let F=E("</");return w(">"),F.replace(/&#([0-9]+);/g,function(Y,te){return String.fromCodePoint(parseInt(te,10))}).replace(/&#x([0-9a-f]+);/g,function(Y,te){return String.fromCodePoint(parseInt(te,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(Y){switch(Y){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return Y})}for(;f<h&&(k(),!(f>=h));){const B=a.charCodeAt(f);if(g(1),B!==60)return S("expected <");if(f>=h)return S("unexpected end of input");const F=a.charCodeAt(f);if(F===63){g(1),w("?>");continue}if(F===33){if(g(1),m("--")){w("-->");continue}w(">");continue}if(F===47){if(g(1),k(),m("plist")){w(">");continue}if(m("dict")){w(">"),I();continue}if(m("array")){w(">"),W();continue}return S("unexpected closed tag")}let Y=$();switch(Y.name){case"dict":A===1?O():A===2?N():(_={},u!==null&&(_[u]={filename:c,line:p,char:T}),d(1,_)),Y.isClosed&&I();continue;case"array":A===1?P():A===2?L():(_=[],d(2,_)),Y.isClosed&&W();continue;case"key":ee=H(Y),A!==1?S("unexpected <key>"):y!==null?S("too many <key>"):y=ee;continue;case"string":U(H(Y));continue;case"real":G(parseFloat(H(Y)));continue;case"integer":Q(parseInt(H(Y),10));continue;case"date":ne(new Date(H(Y)));continue;case"data":Z(H(Y));continue;case"true":H(Y),V(!0);continue;case"false":H(Y),V(!1);continue}if(!/^plist/.test(Y.name))return S("unexpected opened tag "+Y.name)}var ee;return _}Object.defineProperty(o,"__esModule",{value:!0}),o.parsePLIST=o.parseWithLocation=void 0,o.parseWithLocation=function(a,c,u){return s(a,c,u)},o.parsePLIST=function(a){return s(a,null,null)}},652:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SyncRegistry=void 0;const a=s(391);o.SyncRegistry=class{constructor(c,u){this._onigLibPromise=u,this._grammars=new Map,this._rawGrammars=new Map,this._injectionGrammars=new Map,this._theme=c}dispose(){for(const c of this._grammars.values())c.dispose()}setTheme(c){this._theme=c}getColorMap(){return this._theme.getColorMap()}addGrammar(c,u){this._rawGrammars.set(c.scopeName,c),u&&this._injectionGrammars.set(c.scopeName,u)}lookup(c){return this._rawGrammars.get(c)}injections(c){return this._injectionGrammars.get(c)}getDefaults(){return this._theme.getDefaults()}themeMatch(c){return this._theme.match(c)}async grammarForScopeName(c,u,h,f,p){if(!this._grammars.has(c)){let T=this._rawGrammars.get(c);if(!T)return null;this._grammars.set(c,a.createGrammar(c,T,u,h,f,p,this,await this._onigLibPromise))}return this._grammars.get(c)}}},792:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CompiledRule=o.RegExpSourceList=o.RegExpSource=o.RuleFactory=o.BeginWhileRule=o.BeginEndRule=o.IncludeOnlyRule=o.MatchRule=o.CaptureRule=o.Rule=o.ruleIdToNumber=o.ruleIdFromNumber=o.whileRuleId=o.endRuleId=void 0;const a=s(878),c=s(965),u=/\\(\d+)/,h=/\\(\d+)/g;o.endRuleId=-1,o.whileRuleId=-2,o.ruleIdFromNumber=function(_){return _},o.ruleIdToNumber=function(_){return _};class f{constructor(l,v,y,d){this.$location=l,this.id=v,this._name=y||null,this._nameIsCapturing=a.RegexSource.hasCaptures(this._name),this._contentName=d||null,this._contentNameIsCapturing=a.RegexSource.hasCaptures(this._contentName)}get debugName(){const l=this.$location?`${a.basename(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${l}`}getName(l,v){return this._nameIsCapturing&&this._name!==null&&l!==null&&v!==null?a.RegexSource.replaceCaptures(this._name,l,v):this._name}getContentName(l,v){return this._contentNameIsCapturing&&this._contentName!==null?a.RegexSource.replaceCaptures(this._contentName,l,v):this._contentName}}o.Rule=f;class p extends f{constructor(l,v,y,d,b){super(l,v,y,d),this.retokenizeCapturedWithRuleId=b}dispose(){}collectPatterns(l,v){throw new Error("Not supported!")}compile(l,v){throw new Error("Not supported!")}compileAG(l,v,y,d){throw new Error("Not supported!")}}o.CaptureRule=p;class T extends f{constructor(l,v,y,d,b){super(l,v,y,null),this._match=new w(d,this.id),this.captures=b,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(l,v){v.push(this._match)}compile(l,v){return this._getCachedCompiledPatterns(l).compile(l)}compileAG(l,v,y,d){return this._getCachedCompiledPatterns(l).compileAG(l,y,d)}_getCachedCompiledPatterns(l){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new E,this.collectPatterns(l,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}o.MatchRule=T;class g extends f{constructor(l,v,y,d,b){super(l,v,y,d),this.patterns=b.patterns,this.hasMissingPatterns=b.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(l,v){for(const y of this.patterns)l.getRule(y).collectPatterns(l,v)}compile(l,v){return this._getCachedCompiledPatterns(l).compile(l)}compileAG(l,v,y,d){return this._getCachedCompiledPatterns(l).compileAG(l,y,d)}_getCachedCompiledPatterns(l){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new E,this.collectPatterns(l,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}o.IncludeOnlyRule=g;class C extends f{constructor(l,v,y,d,b,S,O,P,N,L){super(l,v,y,d),this._begin=new w(b,this.id),this.beginCaptures=S,this._end=new w(O||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=P,this.applyEndPatternLast=N||!1,this.patterns=L.patterns,this.hasMissingPatterns=L.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(l,v){return this._end.resolveBackReferences(l,v)}collectPatterns(l,v){v.push(this._begin)}compile(l,v){return this._getCachedCompiledPatterns(l,v).compile(l)}compileAG(l,v,y,d){return this._getCachedCompiledPatterns(l,v).compileAG(l,y,d)}_getCachedCompiledPatterns(l,v){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new E;for(const y of this.patterns)l.getRule(y).collectPatterns(l,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,v):this._cachedCompiledPatterns.setSource(0,v)),this._cachedCompiledPatterns}}o.BeginEndRule=C;class k extends f{constructor(l,v,y,d,b,S,O,P,N){super(l,v,y,d),this._begin=new w(b,this.id),this.beginCaptures=S,this.whileCaptures=P,this._while=new w(O,o.whileRuleId),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=N.patterns,this.hasMissingPatterns=N.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(l,v){return this._while.resolveBackReferences(l,v)}collectPatterns(l,v){v.push(this._begin)}compile(l,v){return this._getCachedCompiledPatterns(l).compile(l)}compileAG(l,v,y,d){return this._getCachedCompiledPatterns(l).compileAG(l,y,d)}_getCachedCompiledPatterns(l){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new E;for(const v of this.patterns)l.getRule(v).collectPatterns(l,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(l,v){return this._getCachedCompiledWhilePatterns(l,v).compile(l)}compileWhileAG(l,v,y,d){return this._getCachedCompiledWhilePatterns(l,v).compileAG(l,y,d)}_getCachedCompiledWhilePatterns(l,v){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new E,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,v||""),this._cachedCompiledWhilePatterns}}o.BeginWhileRule=k;class m{static createCaptureRule(l,v,y,d,b){return l.registerRule(S=>new p(v,S,y,d,b))}static getCompiledRuleId(l,v,y){return l.id||v.registerRule(d=>{if(l.id=d,l.match)return new T(l.$vscodeTextmateLocation,l.id,l.name,l.match,m._compileCaptures(l.captures,v,y));if(l.begin===void 0){l.repository&&(y=a.mergeObjects({},y,l.repository));let b=l.patterns;return b===void 0&&l.include&&(b=[{include:l.include}]),new g(l.$vscodeTextmateLocation,l.id,l.name,l.contentName,m._compilePatterns(b,v,y))}return l.while?new k(l.$vscodeTextmateLocation,l.id,l.name,l.contentName,l.begin,m._compileCaptures(l.beginCaptures||l.captures,v,y),l.while,m._compileCaptures(l.whileCaptures||l.captures,v,y),m._compilePatterns(l.patterns,v,y)):new C(l.$vscodeTextmateLocation,l.id,l.name,l.contentName,l.begin,m._compileCaptures(l.beginCaptures||l.captures,v,y),l.end,m._compileCaptures(l.endCaptures||l.captures,v,y),l.applyEndPatternLast,m._compilePatterns(l.patterns,v,y))}),l.id}static _compileCaptures(l,v,y){let d=[];if(l){let b=0;for(const S in l){if(S==="$vscodeTextmateLocation")continue;const O=parseInt(S,10);O>b&&(b=O)}for(let S=0;S<=b;S++)d[S]=null;for(const S in l){if(S==="$vscodeTextmateLocation")continue;const O=parseInt(S,10);let P=0;l[S].patterns&&(P=m.getCompiledRuleId(l[S],v,y)),d[O]=m.createCaptureRule(v,l[S].$vscodeTextmateLocation,l[S].name,l[S].contentName,P)}}return d}static _compilePatterns(l,v,y){let d=[];if(l)for(let b=0,S=l.length;b<S;b++){const O=l[b];let P=-1;if(O.include){const N=c.parseInclude(O.include);switch(N.kind){case 0:case 1:P=m.getCompiledRuleId(y[O.include],v,y);break;case 2:let L=y[N.ruleName];L&&(P=m.getCompiledRuleId(L,v,y));break;case 3:case 4:const I=N.scopeName,W=N.kind===4?N.ruleName:null,U=v.getExternalGrammar(I,y);if(U)if(W){let G=U.repository[W];G&&(P=m.getCompiledRuleId(G,v,U.repository))}else P=m.getCompiledRuleId(U.repository.$self,v,U.repository)}}else P=m.getCompiledRuleId(O,v,y);if(P!==-1){const N=v.getRule(P);let L=!1;if((N instanceof g||N instanceof C||N instanceof k)&&N.hasMissingPatterns&&N.patterns.length===0&&(L=!0),L)continue;d.push(P)}}return{patterns:d,hasMissingPatterns:(l?l.length:0)!==d.length}}}o.RuleFactory=m;class w{constructor(l,v){if(l){const y=l.length;let d=0,b=[],S=!1;for(let O=0;O<y;O++)if(l.charAt(O)==="\\"&&O+1<y){const P=l.charAt(O+1);P==="z"?(b.push(l.substring(d,O)),b.push("$(?!\\n)(?<!\\n)"),d=O+2):P!=="A"&&P!=="G"||(S=!0),O++}this.hasAnchor=S,d===0?this.source=l:(b.push(l.substring(d,y)),this.source=b.join(""))}else this.hasAnchor=!1,this.source=l;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=v,this.hasBackReferences=u.test(this.source)}clone(){return new w(this.source,this.ruleId)}setSource(l){this.source!==l&&(this.source=l,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(l,v){let y=v.map(d=>l.substring(d.start,d.end));return h.lastIndex=0,this.source.replace(h,(d,b)=>a.escapeRegExpCharacters(y[parseInt(b,10)]||""))}_buildAnchorCache(){let l,v,y,d,b=[],S=[],O=[],P=[];for(l=0,v=this.source.length;l<v;l++)y=this.source.charAt(l),b[l]=y,S[l]=y,O[l]=y,P[l]=y,y==="\\"&&l+1<v&&(d=this.source.charAt(l+1),d==="A"?(b[l+1]="",S[l+1]="",O[l+1]="A",P[l+1]="A"):d==="G"?(b[l+1]="",S[l+1]="G",O[l+1]="",P[l+1]="G"):(b[l+1]=d,S[l+1]=d,O[l+1]=d,P[l+1]=d),l++);return{A0_G0:b.join(""),A0_G1:S.join(""),A1_G0:O.join(""),A1_G1:P.join("")}}resolveAnchors(l,v){return this.hasAnchor&&this._anchorCache?l?v?this._anchorCache.A1_G1:this._anchorCache.A1_G0:v?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source}}o.RegExpSource=w;class E{constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(l){this._items.push(l),this._hasAnchors=this._hasAnchors||l.hasAnchor}unshift(l){this._items.unshift(l),this._hasAnchors=this._hasAnchors||l.hasAnchor}length(){return this._items.length}setSource(l,v){this._items[l].source!==v&&(this._disposeCaches(),this._items[l].setSource(v))}compile(l){if(!this._cached){let v=this._items.map(y=>y.source);this._cached=new A(l,v,this._items.map(y=>y.ruleId))}return this._cached}compileAG(l,v,y){return this._hasAnchors?v?y?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(l,v,y)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(l,v,y)),this._anchorCache.A1_G0):y?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(l,v,y)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(l,v,y)),this._anchorCache.A0_G0):this.compile(l)}_resolveAnchors(l,v,y){let d=this._items.map(b=>b.resolveAnchors(v,y));return new A(l,d,this._items.map(b=>b.ruleId))}}o.RegExpSourceList=E;class A{constructor(l,v,y){this.regExps=v,this.rules=y,this.scanner=l.createOnigScanner(v)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const l=[];for(let v=0,y=this.rules.length;v<y;v++)l.push("   - "+this.rules[v]+": "+this.regExps[v]);return l.join(`
`)}findNextMatchSync(l,v,y){const d=this.scanner.findNextMatchSync(l,v,y);return d?{ruleId:this.rules[d.index],captureIndices:d.captureIndices}:null}}o.CompiledRule=A},583:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ThemeTrieElement=o.ThemeTrieElementRule=o.ColorMap=o.fontStyleToString=o.ParsedThemeRule=o.parseTheme=o.StyleAttributes=o.ScopeStack=o.Theme=void 0;const a=s(878);class c{constructor(E,A,_){this._colorMap=E,this._defaults=A,this._root=_,this._cachedMatchRoot=new a.CachedFn(l=>this._root.match(l))}static createFromRawTheme(E,A){return this.createFromParsedTheme(p(E),A)}static createFromParsedTheme(E,A){return function(_,l){_.sort((P,N)=>{let L=a.strcmp(P.scope,N.scope);return L!==0?L:(L=a.strArrCmp(P.parentScopes,N.parentScopes),L!==0?L:P.index-N.index)});let v=0,y="#000000",d="#ffffff";for(;_.length>=1&&_[0].scope==="";){let P=_.shift();P.fontStyle!==-1&&(v=P.fontStyle),P.foreground!==null&&(y=P.foreground),P.background!==null&&(d=P.background)}let b=new g(l),S=new f(v,b.getId(y),b.getId(d)),O=new m(new k(0,null,-1,0,0),[]);for(let P=0,N=_.length;P<N;P++){let L=_[P];O.insert(0,L.scope,L.parentScopes,L.fontStyle,b.getId(L.foreground),b.getId(L.background))}return new c(b,S,O)}(E,A)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(E){if(E===null)return this._defaults;const A=E.scopeName,_=this._cachedMatchRoot.get(A).find(l=>function(v,y){if(y.length===0)return!0;for(let d=0;d<y.length;d++){let b=y[d],S=!1;if(b===">"){if(d===y.length-1)return!1;b=y[++d],S=!0}for(;v&&!h(v.scopeName,b);){if(S)return!1;v=v.parent}if(!v)return!1;v=v.parent}return!0}(E.parent,l.parentScopes));return _?new f(_.fontStyle,_.foreground,_.background):null}}o.Theme=c;class u{constructor(E,A){this.parent=E,this.scopeName=A}static push(E,A){for(const _ of A)E=new u(E,_);return E}static from(...E){let A=null;for(let _=0;_<E.length;_++)A=new u(A,E[_]);return A}push(E){return new u(this,E)}getSegments(){let E=this;const A=[];for(;E;)A.push(E.scopeName),E=E.parent;return A.reverse(),A}toString(){return this.getSegments().join(" ")}extends(E){return this===E||this.parent!==null&&this.parent.extends(E)}getExtensionIfDefined(E){const A=[];let _=this;for(;_&&_!==E;)A.push(_.scopeName),_=_.parent;return _===E?A.reverse():void 0}}function h(w,E){return E===w||w.startsWith(E)&&w[E.length]==="."}o.ScopeStack=u;class f{constructor(E,A,_){this.fontStyle=E,this.foregroundId=A,this.backgroundId=_}}function p(w){if(!w)return[];if(!w.settings||!Array.isArray(w.settings))return[];let E=w.settings,A=[],_=0;for(let l=0,v=E.length;l<v;l++){let y,d=E[l];if(!d.settings)continue;if(typeof d.scope=="string"){let P=d.scope;P=P.replace(/^[,]+/,""),P=P.replace(/[,]+$/,""),y=P.split(",")}else y=Array.isArray(d.scope)?d.scope:[""];let b=-1;if(typeof d.settings.fontStyle=="string"){b=0;let P=d.settings.fontStyle.split(" ");for(let N=0,L=P.length;N<L;N++)switch(P[N]){case"italic":b|=1;break;case"bold":b|=2;break;case"underline":b|=4;break;case"strikethrough":b|=8}}let S=null;typeof d.settings.foreground=="string"&&a.isValidHexColor(d.settings.foreground)&&(S=d.settings.foreground);let O=null;typeof d.settings.background=="string"&&a.isValidHexColor(d.settings.background)&&(O=d.settings.background);for(let P=0,N=y.length;P<N;P++){let L=y[P].trim().split(" "),I=L[L.length-1],W=null;L.length>1&&(W=L.slice(0,L.length-1),W.reverse()),A[_++]=new T(I,W,l,b,S,O)}}return A}o.StyleAttributes=f,o.parseTheme=p;class T{constructor(E,A,_,l,v,y){this.scope=E,this.parentScopes=A,this.index=_,this.fontStyle=l,this.foreground=v,this.background=y}}o.ParsedThemeRule=T,o.fontStyleToString=function(w){if(w===-1)return"not set";let E="";return 1&w&&(E+="italic "),2&w&&(E+="bold "),4&w&&(E+="underline "),8&w&&(E+="strikethrough "),E===""&&(E="none"),E.trim()};class g{constructor(E){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(E)){this._isFrozen=!0;for(let A=0,_=E.length;A<_;A++)this._color2id[E[A]]=A,this._id2color[A]=E[A]}else this._isFrozen=!1}getId(E){if(E===null)return 0;E=E.toUpperCase();let A=this._color2id[E];if(A)return A;if(this._isFrozen)throw new Error(`Missing color in color map - ${E}`);return A=++this._lastColorId,this._color2id[E]=A,this._id2color[A]=E,A}getColorMap(){return this._id2color.slice(0)}}o.ColorMap=g;const C=Object.freeze([]);class k{constructor(E,A,_,l,v){this.scopeDepth=E,this.parentScopes=A||C,this.fontStyle=_,this.foreground=l,this.background=v}clone(){return new k(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(E){let A=[];for(let _=0,l=E.length;_<l;_++)A[_]=E[_].clone();return A}acceptOverwrite(E,A,_,l){this.scopeDepth>E?console.log("how did this happen?"):this.scopeDepth=E,A!==-1&&(this.fontStyle=A),_!==0&&(this.foreground=_),l!==0&&(this.background=l)}}o.ThemeTrieElementRule=k;class m{constructor(E,A=[],_={}){this._mainRule=E,this._children=_,this._rulesWithParentScopes=A}static _cmpBySpecificity(E,A){if(E.scopeDepth!==A.scopeDepth)return A.scopeDepth-E.scopeDepth;let _=0,l=0;for(;E.parentScopes[_]===">"&&_++,A.parentScopes[l]===">"&&l++,!(_>=E.parentScopes.length||l>=A.parentScopes.length);){const v=A.parentScopes[l].length-E.parentScopes[_].length;if(v!==0)return v;_++,l++}return A.parentScopes.length-E.parentScopes.length}match(E){if(E!==""){let _,l,v=E.indexOf(".");if(v===-1?(_=E,l=""):(_=E.substring(0,v),l=E.substring(v+1)),this._children.hasOwnProperty(_))return this._children[_].match(l)}const A=this._rulesWithParentScopes.concat(this._mainRule);return A.sort(m._cmpBySpecificity),A}insert(E,A,_,l,v,y){if(A==="")return void this._doInsertHere(E,_,l,v,y);let d,b,S,O=A.indexOf(".");O===-1?(d=A,b=""):(d=A.substring(0,O),b=A.substring(O+1)),this._children.hasOwnProperty(d)?S=this._children[d]:(S=new m(this._mainRule.clone(),k.cloneArr(this._rulesWithParentScopes)),this._children[d]=S),S.insert(E+1,b,_,l,v,y)}_doInsertHere(E,A,_,l,v){if(A!==null){for(let y=0,d=this._rulesWithParentScopes.length;y<d;y++){let b=this._rulesWithParentScopes[y];if(a.strArrCmp(b.parentScopes,A)===0)return void b.acceptOverwrite(E,_,l,v)}_===-1&&(_=this._mainRule.fontStyle),l===0&&(l=this._mainRule.foreground),v===0&&(v=this._mainRule.background),this._rulesWithParentScopes.push(new k(E,A,_,l,v))}else this._mainRule.acceptOverwrite(E,_,l,v)}}o.ThemeTrieElement=m},878:(i,o)=>{function s(u){return Array.isArray(u)?function(h){let f=[];for(let p=0,T=h.length;p<T;p++)f[p]=s(h[p]);return f}(u):typeof u=="object"?function(h){let f={};for(let p in h)f[p]=s(h[p]);return f}(u):u}Object.defineProperty(o,"__esModule",{value:!0}),o.performanceNow=o.CachedFn=o.escapeRegExpCharacters=o.isValidHexColor=o.strArrCmp=o.strcmp=o.RegexSource=o.basename=o.mergeObjects=o.clone=void 0,o.clone=function(u){return s(u)},o.mergeObjects=function(u,...h){return h.forEach(f=>{for(let p in f)u[p]=f[p]}),u},o.basename=function u(h){const f=~h.lastIndexOf("/")||~h.lastIndexOf("\\");return f===0?h:~f==h.length-1?u(h.substring(0,h.length-1)):h.substr(1+~f)};let a=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g;function c(u,h){return u<h?-1:u>h?1:0}o.RegexSource=class{static hasCaptures(u){return u!==null&&(a.lastIndex=0,a.test(u))}static replaceCaptures(u,h,f){return u.replace(a,(p,T,g,C)=>{let k=f[parseInt(T||g,10)];if(!k)return p;{let m=h.substring(k.start,k.end);for(;m[0]===".";)m=m.substring(1);switch(C){case"downcase":return m.toLowerCase();case"upcase":return m.toUpperCase();default:return m}}})}},o.strcmp=c,o.strArrCmp=function(u,h){if(u===null&&h===null)return 0;if(!u)return-1;if(!h)return 1;let f=u.length,p=h.length;if(f===p){for(let T=0;T<f;T++){let g=c(u[T],h[T]);if(g!==0)return g}return 0}return f-p},o.isValidHexColor=function(u){return!!(/^#[0-9a-f]{6}$/i.test(u)||/^#[0-9a-f]{8}$/i.test(u)||/^#[0-9a-f]{3}$/i.test(u)||/^#[0-9a-f]{4}$/i.test(u))},o.escapeRegExpCharacters=function(u){return u.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},o.CachedFn=class{constructor(u){this.fn=u,this.cache=new Map}get(u){if(this.cache.has(u))return this.cache.get(u);const h=this.fn(u);return this.cache.set(u,h),h}},o.performanceNow=typeof performance>"u"?function(){return Date.now()}:function(){return performance.now()}}},r={};return function i(o){var s=r[o];if(s!==void 0)return s.exports;var a=r[o]={exports:{}};return n[o].call(a.exports,a,a.exports,i),a.exports}(787)})())})(ea);var qr=ea.exports;function Io(t,e,n){let r;Oe(()=>{var i;const o=(i=e.style)==null?void 0:i[n];o!==r&&((r=o)!=null?t.style.setProperty(n,typeof o>"u"?null:o.toString()):t.style.removeProperty(n))})}function Uf(t){let e=parseInt(t.slice(1),16),n=e>>16&255,r=e>>8&255,i=e&255;return[n,r,i]}function Wf(t,e,n){const r=[t,e,n].map(i=>(i/=255,i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)));return r[0]*.2126+r[1]*.7152+r[2]*.0722}function Hf(t,e,n){const r=typeof t=="function"?t():t;return r?e(r):n?n():void 0}function Tr(t,e,n){return()=>Hf(t,e,n)}function xo(...t){function e(){const n=new Array(t.length);for(let r=0;r<t.length;r++){const i=typeof t[r]=="function"?t[r]():t[r];if(!i)return;n[r]=i}return n}return e}function zf(t){return t===0?1:Math.floor(Math.log10(Math.abs(t)))+1}function No(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function qf(t){let e=0;for(const n of t)n.length>e&&(e=n.length);return e}class Kf{constructor(){Ys(this,Pt,[])}peek(){return vt(this,Pt)[vt(this,Pt).length-1]}push(e){vt(this,Pt).push(e)}pop(){return vt(this,Pt).pop()}}Pt=new WeakMap;var Xf=Qe("<pre part=line>"),Jf=Qe("<div part=root><code part=code></code><textarea part=textarea autocomplete=off inputmode=none></textarea><code aria-hidden>&nbsp;");const Be=100,In=50,kr={},Yf=new qr.Registry({onigLib:Ff,loadGrammar:t=>Js("grammar",t).then(e=>(e.scopeName=t,e))}),[Vf]=Ye(()=>We(async()=>fetch(Xs("oniguruma",null)).then(t=>t.arrayBuffer()).then(t=>_i.loadWASM(t)).then(()=>!0)));class Qf{constructor(e){Mf(this,"themeData"),Ys(this,cn,{}),this.themeData=e}resolveScope(e){const n=e.join("-");if(vt(this,cn)[n])return vt(this,cn)[n];let r={};for(let i=0;i<e.length;i++){const o=e[i];for(const s of this.themeData.tokenColors){const a=Array.isArray(s.scope)?s.scope:[s.scope];for(const c of a)o.startsWith(c||"")&&(r={...r,...s.settings})}}return vt(this,cn)[n]=r}getBackgroundColor(){var e;return((e=this.themeData.colors)==null?void 0:e["editor.background"])||void 0}getForegroundColor(){var e;return((e=this.themeData.colors)==null?void 0:e["editor.foreground"])||void 0}}cn=new WeakMap;function Zf(t,e){let n=!1;return t===e?!0:!t||!e?!1:(t.ruleId!==e.ruleId&&(n=!0),t.depth!==e.depth&&(n=!0),Mo(t.nameScopesList,e.nameScopesList)||(n=!0),Mo(t.contentNameScopesList,e.contentNameScopesList)||(n=!0),!n)}function Mo(t,e){var n,r;return!t&&!e?!0:!(!t||!e||((n=t.scopePath)==null?void 0:n.scopeName)!==((r=e.scopePath)==null?void 0:r.scopeName)||t.tokenAttributes!==e.tokenAttributes)}const ta=ba(null);function eh(){const t=wa(ta);if(!t)throw"useTextarea should be used in a descendant of TmTextarea";return t}function th(t){function e(n){const r=eh(),i=r.segments.peek(),[o,s]=de(i?.stack||qr.INITIAL,{equals:Zf}),a=n.index*Be,c=a+Be,u=jf(Tr(xo(()=>r.tokenizer,()=>r.theme),([h,f])=>{let p=i?.stack||qr.INITIAL;const T=r.lines.slice(a,c).map(g=>{const{ruleStack:C,tokens:k}=h.tokenizeLine(g,p);return p=C,k.map(m=>{const w=f.resolveScope(m.scopes),E=g.slice(m.startIndex,m.endIndex);return`<span style="${w.foreground?`color:${w.foreground};`:""}${w.fontStyle?`text-decoration:${w.fontStyle}`:""}">${No(E)}</span>`}).join("")});return s(p),T},()=>r.lines.slice(a,c).map(No)));return r.segments.push({get stack(){return o()}}),Ie(()=>r.segments.pop()),it(Lr,{get when(){return r.isSegmentVisible(n.index*Be)},get children(){return it(Ti,{get each(){return Array.from({length:Be})},children:(h,f)=>it(Lr,{get when(){return r.isVisible(n.index*Be+f)},get children(){var p=Xf();return Oe(T=>{var g,C=t.line,k=(g=u())==null?void 0:g[f],m=n.index*Be+f;return C!==T.e&&tn(p,T.e=C),k!==T.t&&(p.innerHTML=T.t=k),m!==T.a&&((T.a=m)!=null?p.style.setProperty("--tm-line-number",m):p.style.removeProperty("--tm-line-number")),T},{e:void 0,t:void 0,a:void 0}),p}})})}})}return function(r){const[i,o]=Ei(Mr({editable:!0},r),["class","grammar","onInput","value","style","theme","editable","onScroll","textareaRef"]);let s;const[a,c]=de(),[u,h]=de(),[f,p]=de(0),[T,g]=de(r.value),[C]=We(xo(()=>r.grammar,Vf),async([d])=>d in kr?kr[d]:kr[d]=await Yf.loadGrammar(d)),[k]=We(()=>r.theme,async d=>Js("theme",d).then(b=>new Qf(b))),m=pe(()=>T().split(`
`)),w=pe(()=>qf(m())),E=pe(()=>{var d;return Math.floor(f()/(((d=a())==null?void 0:d.height)||1))}),A=pe(()=>{var d,b;return Math.floor((f()+(((d=u())==null?void 0:d.height)||0))/(((b=a())==null?void 0:b.height)||1))}),_=pe(()=>Math.floor(E()/Be)),l=pe(()=>Math.ceil(A()/Be)),v=Tr(k,d=>{const b=d.getBackgroundColor(),S=Wf(...Uf(b));return`rgba(98, 114, 164, ${S>.9?.1:S<.1?.25:.175})`}),y=Tr(()=>i.style,d=>Ei(d,["width","height"])[1]);return qo(()=>new ResizeObserver(([d])=>h(d?.contentRect)).observe(s)),Oe(()=>g(r.value)),Oe(()=>{var d;return console.log((d=k())==null?void 0:d.getForegroundColor())}),it(ta.Provider,{get value(){return{get viewport(){return u()},get character(){return a()},get scrollTop(){return f()},get lines(){return m()},get theme(){return k()},get tokenizer(){return C()},segments:new Kf,isVisible:Ai(()=>[E(),A()],(d,[b,S])=>d>m().length-1?!1:d+In>b&&d-In<S),isSegmentVisible:Ai(()=>[_(),l()],d=>{const b=Math.floor((d-In)/Be),S=Math.ceil((d+In)/Be);return b<=_()&&S>=l()||b>=_()&&b<=l()||S>=_()&&S<=l()})}},get children(){var d=Jf(),b=d.firstChild,S=b.nextSibling,O=S.nextSibling;d.addEventListener("scroll",N=>{var L;p(N.currentTarget.scrollTop),(L=r.onScroll)==null||L.call(r,N)}),_t(N=>{s=N,Io(N,r,"width"),Io(N,r,"height")},d),Ha(d,Mr({get class(){return Df(t.container,i.class)},get style(){var N,L,I,W;return{"--tm-background-color":(N=k())==null?void 0:N.getBackgroundColor(),"--tm-char-height":`${((L=a())==null?void 0:L.height)||0}px`,"--tm-char-width":`${((I=a())==null?void 0:I.width)||0}px`,"--tm-foreground-color":(W=k())==null?void 0:W.getForegroundColor(),"--tm-line-count":m().length,"--tm-line-size":w(),"--tm-selection-color":v(),"--tm-line-digits":zf(m().length),...y()}}},o),!1,!0),ei(b,it(Ti,{get each(){return Array.from({length:Math.ceil(m().length/Be)})},children:(N,L)=>it(e,{index:L})})),S.$$keydown=N=>{if(N.key==="Enter"){N.preventDefault();const L=s.scrollTop,I=N.currentTarget.selectionStart,W=N.currentTarget.selectionEnd,U=N.currentTarget.value;N.currentTarget.value=g(U.substring(0,I)+`
`+U.substring(W)),N.currentTarget.selectionStart=N.currentTarget.selectionEnd=I+1,s.scrollTop=L}},S.addEventListener("scroll",N=>{N.preventDefault(),N.stopPropagation()});var P=i.textareaRef;return typeof P=="function"?_t(P,S):i.textareaRef=S,wt(S,"spellcheck",!1),S.addEventListener("input",N=>{var L;const W=N.currentTarget.value;g(W),(L=i.onInput)==null||L.call(i,N)}),_t(N=>{new ResizeObserver(([L])=>{const{height:I,width:W}=getComputedStyle(L.target);c({height:Number(I.replace("px","")),width:Number(W.replace("px",""))})}).observe(N)},O),Oe(N=>{var L=t.code,I=t.textarea,W=!i.editable,U=m().length,G=t.character;return L!==N.e&&tn(b,N.e=L),I!==N.t&&tn(S,N.t=I),W!==N.a&&(S.disabled=N.a=W),U!==N.o&&wt(S,"rows",N.o=U),G!==N.i&&tn(O,N.i=G),N},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),Oe(()=>S.value=i.value),d}})}}Qo(["keydown"]);var nh=Object.defineProperty,rh=(t,e,n)=>e in t?nh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Me=(t,e,n)=>(rh(t,typeof e!="symbol"?e+"":e,n),n),bi=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},ve=(t,e,n)=>(bi(t,e,"read from private field"),n?n.call(t):e.get(t)),Ce=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Nt=(t,e,n,r)=>(bi(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Mt=(t,e,n)=>(bi(t,e,"access private method"),n),Kr,na,ra,$n,Xe,Vn,wi,yn,Xr,ia,Jr,oa;function ih(t){var e,n,r,i,o,s,a,c,u,h;return h=class extends t{constructor(){super(...arguments),Ce(this,n),Ce(this,r),Ce(this,s),Ce(this,c),Ce(this,e,new Set),Ce(this,i,null),Ce(this,o,null)}createEffect(f){Mt(this,s,a).call(this,f)}stopEffects(){Mt(this,c,u).call(this)}},e=new WeakMap,n=new WeakSet,r=new WeakSet,i=new WeakMap,o=new WeakMap,s=new WeakSet,a=function(f){if(!ve(this,i))Ye(p=>{Nt(this,i,ft()),Nt(this,o,p),Mt(this,s,a).call(this,f)});else{let p=ft();for(;p&&p!==ve(this,i);)p=p?.owner??null;if(p===ve(this,i))return Pe(f);Ko(ve(this,i),()=>Pe(f))}},c=new WeakSet,u=function(){var f;(f=ve(this,o))==null||f.call(this)},h}function oh(t,e){let n=t,r;for(;n;){if(r=Object.getOwnPropertyDescriptor(n,e),r)return r.owner=n,r;n=n.__proto__}}const xn=new WeakMap;function sh(t,...e){const n=e.length?e:Object.keys(t).concat(Object.getOwnPropertySymbols(t));for(const r of n)sa(t,r);return t}let Lo=!1;function ah(){if(Lo)throw new Error('Export "createSignalAccessor" is internal to classy-solid only.');return Lo=!0,sa}const jn=new WeakMap;function ch(t,e){var n;return!!((n=jn.get(t))!=null&&n.has(e))}function $o(t,e){jn.has(t)||jn.set(t,new Set),jn.get(t).add(e)}const jo=new WeakSet;function sa(t,e,n=fe(()=>t[e]),r=!1){var i;if(!r&&((i=xn.get(t))!=null&&i.has(e))||t[xe])return;let s=oh(t,e),a,c;if(s){if(a=s.get,c=s.set,a&&jo.has(a))return;if(a||c){if(!a||!c){console.warn(`The \`@signal\` decorator was used on an accessor named "${e.toString()}" which had a getter or a setter, but not both. Reactivity on accessors works only when accessors have both get and set. In this case the decorator does not do anything.`);return}delete s.get,delete s.set}else{if(n=s.value,!s.writable){console.warn(`The \`@signal\` decorator was used on a property named "${e.toString()}" that is not writable. Reactivity is not enabled for non-writable properties.`);return}delete s.value,delete s.writable}}const u=de(n,{equals:!1});s={configurable:!0,enumerable:!0,...s,get:a?function(){return u[0](),a.call(this)}:function(){return u[0]()},set:c?function(h){c.call(this,h),$o(this,e),typeof h=="function"?u[1](()=>h):u[1](h)}:function(h){$o(this,e),typeof h=="function"?u[1](()=>h):u[1](h)}},jo.add(s.get),Object.defineProperty(t,e,s),xn.has(t)||xn.set(t,new Set),xn.get(t).add(e)}let cr=new Map,fn=null;function uh(){if(fn)throw new Error("Attempted use of classy-solid internals.");return fn=Symbol(),fn}function lh(t){if(t!==fn)throw new Error("Attempted use of classy-solid internals.");return cr}function fh(t){if(t!==fn)throw new Error("Attempted use of classy-solid internals.");cr=new Map}function hh(t){return"private"in t}function Do(t,e){const{kind:n,name:r}=e,i=cr;if(hh(e)){if(e.private)throw new Error("@signal is not supported on private fields yet.");if(e.static)throw new Error("@signal is not supported on static fields yet.")}if(n==="field")return i.set(r,{initialValue:void 0}),function(o){return i.get(r).initialValue=o,o};if(n==="getter"||n==="setter")i.set(r,{initialValue:void 0});else throw new Error("The @signal decorator is only for use on fields, getters, and setters. Auto accessor support is coming next if there is demand for it.");dh(i)}let Or=!1;function dh(t){Or||(Or=!0,queueMicrotask(()=>{if(Or=!1,t===cr)throw new Error(`Stray @signal-decorated properties detected: ${Array.from(t.keys()).join(", ")}. Did you forget to use the \`@reactive\` decorator on a class that has properties decorated with \`@signal\`?`)}))}const Bo=uh(),ph=ah(),Go=Object.prototype.hasOwnProperty;function gh(t,e){if(typeof t!="function"||e&&e.kind!=="class")throw new TypeError("The @reactive decorator is only for use on classes.");const n=t,r=lh(Bo);fh(Bo);class i extends n{constructor(...s){let a;Lt()?fe(()=>a=Reflect.construct(n,s,new.target)):(super(...s),a=this);for(const[c,{initialValue:u}]of r){if(!(Go.call(a,c)||Go.call(n.prototype,c)))throw new Error(`Property "${c.toString()}" not found on instance of class decorated with \`@reactive\`. Did you forget to use the \`@reactive\` decorator on one of your classes that has a "${c.toString()}" property decorated with \`@signal\`?`);ph(a,c,u,!0)}return a}}return i}var vn;let en;const mh=globalThis.HTMLElement??class{constructor(){throw new Error("@lume/element needs a DOM to operate with! If this code is running during server-side rendering, it means your app is trying to instantiate elements when it shouldn't be, and should be refactored to avoid doing that when no DOM is present.")}};class ht extends ih(mh){constructor(){super(...arguments),Ce(this,Kr),Ce(this,Xr),Ce(this,Jr),Ce(this,ra,Mt(this,Kr,na).call(this)),Me(this,"hasShadow",!0),Me(this,"__root",null),Ce(this,$n,void 0),Ce(this,Xe,null),Ce(this,Vn,e=>`${e} {
		display: block;
	}`),Ce(this,wi,vn.__elementId++),Ce(this,yn,null)}static defineElement(e,n=customElements){if(e){if(n.get(e))return console.warn(`defineElement(): An element class was already defined for tag name ${e}.`),this;{const r=class extends this{};return r.elementName=e,n.define(e,r),r}}else return e=this.elementName,n.get(e)?(console.warn(`defineElement(): An element class was already defined for tag name ${e}.`),this):(n.define(e,this),this)}get root(){return this.hasShadow?this.__root?this.__root:this.shadowRoot?this.__root=this.shadowRoot:this.__root=this.attachShadow({mode:"open"}):this}set root(e){if(!this.hasShadow)throw new Error("Can not set root, element.hasShadow is false.");if(this.__root||this.shadowRoot)throw new Error("Element root can only be set once if there is no ShadowRoot.");this.__root=e}get styleRoot(){return this.root}attachShadow(e){return this.__root&&console.warn("Element already has a root defined."),this.__root=super.attachShadow(e)}connectedCallback(){const e=this.template;e&&Nt(this,$n,Zr(typeof e=="function"?e.bind(this):()=>e,this.root)),Mt(this,Xr,ia).call(this)}disconnectedCallback(){var e;this.stopEffects(),(e=ve(this,$n))==null||e.call(this),Mt(this,Jr,oa).call(this)}adoptedCallback(){}}Kr=new WeakSet;na=function(){const t=Object.keys(this);this._preUpgradeValues=new Map;for(const e of t){const n=Object.getOwnPropertyDescriptor(this,e);"value"in n&&(delete this[e],this._preUpgradeValues.set(e,n.value),queueMicrotask(()=>{if(ch(this,e))return;e in this.__proto__&&(this[e]=n.value)}))}};ra=new WeakMap;$n=new WeakMap;Xe=new WeakMap;Vn=new WeakMap;wi=new WeakMap;yn=new WeakMap;Xr=new WeakSet;ia=function(){en=this.constructor;const t=typeof en.css=="function"?en.css=en.css():en.css||"",e=typeof this.css=="function"?this.css():this.css||"";if(this.hasShadow){const n=":host",r=document.createElement("style");r.innerHTML=`
				${ve(this,Vn).call(this,n)}
				${t}
				${e}
			`,this.styleRoot.appendChild(r)}else{const n=this.getRootNode();Nt(this,Xe,n===document?document.head:n);let r=vn.__styleRootNodeRefCountPerTagName.get(ve(this,Xe));r||vn.__styleRootNodeRefCountPerTagName.set(ve(this,Xe),r={});const i=r[this.tagName]||0;if(r[this.tagName]=i+1,i===0){const o=this.tagName.toLowerCase(),s=document.createElement("style");s.innerHTML=`
					${ve(this,Vn).call(this,o)}
					${t&&t.replaceAll(":host",o)}
				`,s.id=this.tagName.toLowerCase(),ve(this,Xe).appendChild(s)}if(e){const o=this.tagName.toLowerCase()+"-"+ve(this,wi);this.setAttribute(o,"");const s=Nt(this,yn,document.createElement("style"));s.id=o,s.innerHTML=e.replaceAll(":host",`[${o}]`);const a=this.getRootNode();Nt(this,Xe,a===document?document.head:a),ve(this,Xe).appendChild(s)}}};Jr=new WeakSet;oa=function(){do{if(this.hasShadow)break;const t=vn.__styleRootNodeRefCountPerTagName.get(ve(this,Xe));if(!t)break;let e=t[this.tagName];if(e===void 0)break;if(t[this.tagName]=--e,e===0){delete t[this.tagName];const n=ve(this,Xe).querySelector("#"+this.tagName);n?.remove()}}while(!1);ve(this,yn)&&ve(this,yn).remove()};Me(ht,"elementName","");Me(ht,"observedAttributes");Me(ht,"__styleRootNodeRefCountPerTagName",new WeakMap);Me(ht,"__elementId",0);vn=ht;Symbol.metadata??(Symbol.metadata=Symbol.for("Symbol.metadata"));function yh(t){return t.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}function vh(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0,enumerable:!0})}const Yr=[];function At(t,e){if(arguments.length===2)return Fo(t,e,void 0);const n=t;return(r,i)=>Fo(r,i,n)}function Fo(t,e,n={}){const{kind:r,name:i,private:o,static:s,metadata:a}=e,c=Object.hasOwn(a,"noSignal")&&a.noSignal||void 0,u=!c?.has(i);if(typeof i=="symbol")throw new Error("@attribute is not supported on symbol fields yet.");if(o)throw new Error("@attribute is not supported on private fields yet.");if(s)throw new Error("@attribute is not supported on static fields.");if(Yr.push(h=>aa(h,i,n)),r==="field"){const h=u?Do(t,e):f=>f;return function(f){return f=h(f),"default"in n||(n.default=f),f}}else if(r==="getter"||r==="setter")u&&Do(t,e);else throw new Error("@attribute is only for use on fields, getters, and setters. Auto accessor support is coming next if there is demand for it.")}function aa(t,e,n){if(!t.observedAttributes||!t.hasOwnProperty("observedAttributes")){const i=t.__proto__.observedAttributes;if(i&&!Array.isArray(i))throw new TypeError("observedAttributes is in the wrong format. Did you forget to decorate your custom element class with the `@element` decorator?");vh(t,"observedAttributes",[...i||[]])}if(!Array.isArray(t.observedAttributes))throw new TypeError("observedAttributes is in the wrong format. Maybe you forgot to decorate your custom element class with the `@element` decorator.");const r=yh(e);t.observedAttributes.includes(r)||t.observedAttributes.push(r),_h(t.prototype,r,e,n)}function _h(t,e,n,r){if(!t.__hasAttributeChangedCallback){t.__hasAttributeChangedCallback=!0;const i=t.attributeChangedCallback;t.attributeChangedCallback=function(o,s,a){var c,u;i?i.call(this,o,s,a):(u=(c=t.__proto__)==null?void 0:c.attributeChangedCallback)==null||u.call(this,o,s,a);const h=this.__attributesToProps&&this.__attributesToProps[o];if(h){const f=h.attributeHandler;this[h.name]=f?a===null?"default"in f?f.default:null:f.from?f.from(a):a:a}}}t.hasOwnProperty("__attributesToProps")||Object.defineProperty(t,"__attributesToProps",{value:{__proto__:t.__attributesToProps||Object.prototype}}),t.__attributesToProps[e]={name:n,attributeHandler:r}}const bh=t=>t;At.string=()=>({from:bh});function Nn(t,e){return At(At.string())(t,e)}const wh=t=>+t;At.number=()=>({from:wh});const Sh=t=>t!=="false";At.boolean=()=>({from:Sh});function Ah(t,e){return At(At.boolean())(t,e)}function Ch(t,e){let n="",r=!0;return n=t,(i,o)=>Eh(i,o,n,r)}function Eh(t,e,n,r){if(typeof t!="function"||e&&e.kind!=="class")throw new Error("@element is only for use on classes.");const{metadata:i={}}=e??{},o=Object.hasOwn(i,"noSignal")&&i.noSignal||void 0;let s=t;const a=s.observedAttributes;if(s.hasOwnProperty("elementName")?n=s.elementName||n:s.elementName=n,!Array.isArray(a)){if(a&&typeof a=="object"){s.observedAttributes=void 0;for(const f in a)aa(s,f,a[f])}}s=gh(s,e);class c extends s{constructor(...p){super(...p),fe(()=>{Th(this);const T=[],g=c.prototype.__attributesToProps??{};for(const C of Object.values(g)){const k=C.name;!o?.has(k)&&T.push(k);const w=C.attributeHandler;w&&!("default"in w)&&(w.default=this[k])}T.length&&sh(this,...T)})}}const u=[...Yr];Yr.length=0;function h(){var f,p;for(const T of u)T(c);n&&r&&((p=(f=globalThis.window)==null?void 0:f.customElements)==null||p.define(n,c))}return e?.addInitializer?e.addInitializer(h):h(),c}function Th(t){if(t instanceof ht)for(const[e,n]of t._preUpgradeValues){if(!(e in t))continue;t._preUpgradeValues.delete(e);const r=Object.getOwnPropertyDescriptor(t,e);r&&"value"in r&&delete t[e],t[e]=n}}const kh=["container","code","line","character","textarea"],Oh=`:host {
  display: contents;

  & .container {
    all: inherit;
    display: flex;
    position: relative;
    box-sizing: border-box;
    background: var(--tm-background-color, inherit);
    overflow: auto;
    color: var(--tm-foreground-color, inherit);
  }
}

.container {
  --tm-min-height: calc(var(--tm-line-count) * var(--tm-char-height));
  --tm-min-width: calc(var(--tm-line-size) * 1ch);
  display: flex;
  position: relative;
  box-sizing: border-box;
  background-color: var(--tm-background-color);
  overflow: auto;
  color: var(--tm-foreground-color);
  font-size: 13px;

  & .code {
    display: block;
    position: absolute;
    z-index: 1;
    /* fixes color change when textarea is focused */
    backface-visibility: hidden;
    contain: layout;
    pointer-events: none;
    font-size: inherit;
    line-height: inherit;
    font-family: monospace;
    white-space: pre;

    & .line {
      position: absolute;
      top: calc(var(--tm-line-number) * var(--tm-char-height));
      margin: 0px;

      & span {
        margin: 0px;
        background: transparent !important;
      }
    }
  }

  & .character {
    position: absolute;
    align-self: start;
    visibility: hidden;
    pointer-events: none;
    font-size: inherit;
    line-height: inherit;
  }

  & .textarea {
    transition: color 0.5s;
    outline: none;
    border: none;
    background: transparent;
    padding: 0px;
    width: 100%;
    min-width: var(--tm-min-width);
    height: 100%;
    min-height: var(--tm-min-height);
    overflow: hidden;
    resize: none;
    color: transparent;
    caret-color: var(--tm-foreground-color);
    font-size: inherit;
    line-height: inherit;
    font-family: monospace;
    text-align: inherit;
    white-space: pre;
  }

  & .textarea::selection {
    background: var(--tm-selection-color);
  }
}
`,Rr=new Map;function ca(t){if(t instanceof CSSStyleSheet)return t;if(!Rr.has(t)){const e=new CSSStyleSheet;e.replace(t),Rr.set(t,e)}return Rr.get(t)}let ua,la,fa,ha,da,pa,ga;function Rh(t,e,n,r,i,o){function s(g,C,k){return function(m,w){return k&&k(m),g[C].call(m,w)}}function a(g,C){for(var k=0;k<g.length;k++)g[k].call(C);return C}function c(g,C,k,m){if(typeof g!="function"&&(m||g!==void 0))throw new TypeError(C+" must "+(k||"be")+" a function"+(m?"":" or undefined"));return g}function u(g,C,k,m,w,E,A,_,l,v,y,d,b){function S(F){if(!b(F))throw new TypeError("Attempted to access private element on non-instance")}var O,P=C[0],N=C[3],L=!_;if(!L){k||Array.isArray(P)||(P=[P]);var I={},W=[],U=w===3?"get":w===4||d?"set":"value";v?(y||d?I={get:Uo(function(){return N(this)},m,"get"),set:function(F){C[4](this,F)}}:I[U]=N,y||Uo(I[U],m,w===2?"":U)):y||(I=Object.getOwnPropertyDescriptor(g,m))}for(var G=g,Q=P.length-1;Q>=0;Q-=k?2:1){var ne=P[Q],Z=k?P[Q-1]:void 0,V={},$={kind:["field","accessor","method","getter","setter","class"][w],name:m,metadata:E,addInitializer:function(F,Y){if(F.v)throw Error("attempted to call addInitializer after decoration was finished");c(Y,"An initializer","be",!0),A.push(Y)}.bind(null,V)};try{if(L)(O=c(ne.call(Z,G,$),"class decorators","return"))&&(G=O);else{var H,ee;$.static=l,$.private=v,v?w===2?H=function(F){return S(F),I.value}:(w<4&&(H=s(I,"get",S)),w!==3&&(ee=s(I,"set",S))):(H=function(F){return F[m]},(w<2||w===4)&&(ee=function(F,Y){F[m]=Y}));var B=$.access={has:v?b.bind():function(F){return m in F}};if(H&&(B.get=H),ee&&(B.set=ee),G=ne.call(Z,d?{get:I.get,set:I.set}:I[U],$),d){if(typeof G=="object"&&G)(O=c(G.get,"accessor.get"))&&(I.get=O),(O=c(G.set,"accessor.set"))&&(I.set=O),(O=c(G.init,"accessor.init"))&&W.push(O);else if(G!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else c(G,(y?"field":"method")+" decorators","return")&&(y?W.push(G):I[U]=G)}}finally{V.v=!0}}return(y||d)&&_.push(function(F,Y){for(var te=W.length-1;te>=0;te--)Y=W[te].call(F,Y);return Y}),y||L||(v?d?_.push(s(I,"get"),s(I,"set")):_.push(w===2?I[U]:s.call.bind(I[U])):Object.defineProperty(g,m,I)),G}function h(g,C){return Object.defineProperty(g,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:C})}if(arguments.length>=6)var f=o[Symbol.metadata||Symbol.for("Symbol.metadata")];var p=Object.create(f??null),T=function(g,C,k,m){var w,E,A=[],_=function(U){return xh(U)===g},l=new Map;function v(U){U&&A.push(a.bind(null,U))}for(var y=0;y<C.length;y++){var d=C[y];if(Array.isArray(d)){var b=d[1],S=d[2],O=d.length>3,P=16&b,N=!!(8&b),L=(b&=7)==0,I=S+"/"+N;if(!L&&!O){var W=l.get(I);if(W===!0||W===3&&b!==4||W===4&&b!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+S);l.set(I,!(b>2)||b)}u(N?g:g.prototype,d,P,O?"#"+S:Ph(S),b,m,N?E=E||[]:w=w||[],A,N,O,L,b===1,N&&O?_:k)}}return v(w),v(E),A}(t,e,i,p);return n.length||h(t,p),{e:T,get c(){var g=[];return n.length&&[h(u(t,[n],r,t.name,5,p,g),p),a.bind(null,g,t)]}}}function Ph(t){var e=Ih(t,"string");return typeof e=="symbol"?e:e+""}function Ih(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Uo(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function xh(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}const Nh=th(Object.fromEntries(kh.map(t=>[t,t]))),Mh=ca(Oh);la=[Ch("tm-textarea")];let ma;const Lh=class extends ht{constructor(){super(...arguments),Me(this,"editable",fa(this,!0)),Me(this,"grammar",ha(this,"tsx")),Me(this,"stylesheet",da(this,"")),Me(this,"theme",pa(this,"dark-plus")),Me(this,"value",ga(this,"")),Me(this,"template",()=>{const e=this,n=this.shadowRoot.adoptedStyleSheets;return n.push(Mh),this.stylesheet&&n.push(ca(this.stylesheet)),it(Nh,{get grammar(){return e.grammar},get theme(){return e.theme},get value(){return e.value},get editable(){return e.editable},onInput:r=>e.value=r.currentTarget.value})})}};({e:[fa,ha,da,pa,ga],c:[ma,ua]}=Rh(Lh,[[Ah,0,"editable"],[Nn,0,"grammar"],[Nn,0,"stylesheet"],[Nn,0,"theme"],[Nn,0,"value"]],la,0,void 0,ht));ua();function $h(){customElements.get("tm-textarea")||customElements.define("tm-textarea",ma)}var jh=Qe("<div>"),Dh=Qe("<repl-monaco-editor path=src/index.tsx>",!0,!1),Bh=Qe("<repl-frame>",!0,!1);$h();const Gh=()=>{const[t]=We(async()=>{const[e,n]=await Promise.all([Ml(),Promise.all([$l({}),Ll({plugins:[["proposal-decorators",{version:"2023-11"}]],presets:["babel-preset-solid@1.8.22"]})])]),r=location.hash?JSON.parse(Ef.decompressFromEncodedURIComponent(location.hash.slice(1))):{"src/index.css":`body {
background: blue;
}
/* .test */
.button {
background: red;
}
  `,"src/index.tsx":`import { render } from "solid-js/web";
import { dispose } from "@repl/std";
import "solid-js/jsx-runtime";
import "./index.css";

function App() {
return (
  <button class="button" >
    hello
  </button>
);
}

dispose('src/index.tsx', render(() => <App />, document.body));`};return console.log(r),new fc({importExternalTypes:!0,transformModulePaths:e,tsconfig:{target:2,module:5,jsx:1,jsxImportSource:"solid-js",esModuleInterop:!0,allowSyntheticDefaultImports:!0,forceConsistentCasingInFileNames:!0,isolatedModules:!0,resolveJsonModule:!0,skipLibCheck:!0,strict:!0,noEmit:!1,outDir:"./dist"},transform:n,files:r}).initialize()});return(()=>{var e=jh();return e.style.setProperty("display","flex"),e.style.setProperty("flex-direction","row"),e.style.setProperty("height","100%"),e.style.setProperty("overflow","hidden"),ei(e,it(Lr,{get when(){return t()},children:n=>[(()=>{var r=Dh();return r.theme=If,r.style.setProperty("flex","1"),r._$owner=ft(),Oe(i=>{var o=n(),s=Cf.init();return o!==i.e&&(r.runtime=i.e=o),s!==i.t&&(r.monaco=i.t=s),i},{e:void 0,t:void 0}),r})(),(()=>{var r=Bh();return r.addEventListener("ready",({frame:i})=>{const o=n().getFile("src/index.tsx");let s;function a({url:c}){s?.(),c&&(i.clearBody(),s=i.injectModuleUrl(c))}o.addEventListener("url",a),a(o)}),r.style.setProperty("flex","1"),r._$owner=ft(),r})()]})),e})()};Zr(()=>it(Gh,{}),document.getElementById("root"));
