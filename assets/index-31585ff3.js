(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const s of c)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(c){const s={};return c.integrity&&(s.integrity=c.integrity),c.referrerPolicy&&(s.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?s.credentials="include":c.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(c){if(c.ep)return;c.ep=!0;const s=n(c);fetch(c.href,s)}})();const zr=(t,e)=>t===e,Se=Symbol("solid-proxy"),Cn=Symbol("solid-track"),qt={equals:zr};let Hr=es;const Pe=1,Kt=2,qr={owned:null,cleanups:null,context:null,owner:null},pn={};var re=null;let gn=null,ti=null,ie=null,pe=null,Ne=null,nn=0;function Je(t,e){const n=ie,r=re,c=t.length===0,s=e===void 0?r:e,o=c?qr:{owned:null,cleanups:null,context:s?s.context:null,owner:s},a=c?t:()=>t(()=>ce(()=>rn(o)));re=o,ie=null;try{return xe(a,!0)}finally{ie=n,re=r}}function ue(t,e){e=e?Object.assign({},qt,e):qt;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=c=>(typeof c=="function"&&(c=c(n.value)),Zr(n,c));return[Qr.bind(n),r]}function nr(t,e,n){const r=kt(t,e,!0,Pe);Qe(r)}function me(t,e,n){const r=kt(t,e,!1,Pe);Qe(r)}function be(t,e,n){Hr=ai;const r=kt(t,e,!1,Pe);(!n||!n.render)&&(r.user=!0),Ne?Ne.push(r):Qe(r)}function fe(t,e,n){n=n?Object.assign({},qt,n):qt;const r=kt(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Qe(r),Qr.bind(r)}function ni(t){return t&&typeof t=="object"&&"then"in t}function Be(t,e,n){let r,c,s;arguments.length===2&&typeof e=="object"||arguments.length===1?(r=!0,c=t,s=e||{}):(r=t,c=e,s=n||{});let o=null,a=pn,h=!1,u="initialValue"in s,v=typeof r=="function"&&fe(r);const m=new Set,[w,I]=(s.storage||ue)(s.initialValue),[_,E]=ue(void 0),[C,p]=ue(void 0,{equals:!1}),[S,A]=ue(u?"ready":"unresolved");function P(d,l,f,b){return o===d&&(o=null,b!==void 0&&(u=!0),(d===a||l===a)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(b,{value:l})),a=pn,y(l,f)),l}function y(d,l){xe(()=>{l===void 0&&I(()=>d),A(l!==void 0?"errored":u?"ready":"unresolved"),E(l);for(const f of m.keys())f.decrement();m.clear()},!1)}function i(){const d=si,l=w(),f=_();if(f!==void 0&&!o)throw f;return ie&&!ie.user&&d&&nr(()=>{C(),o&&(d.resolved||m.has(d)||(d.increment(),m.add(d)))}),l}function g(d=!0){if(d!==!1&&h)return;h=!1;const l=v?v():r;if(l==null||l===!1){P(o,ce(w));return}const f=a!==pn?a:ce(()=>c(l,{value:w(),refetching:d}));return ni(f)?(o=f,"value"in f?(f.status==="success"?P(o,f.value,void 0,l):P(o,void 0,En(f.value),l),f):(h=!0,queueMicrotask(()=>h=!1),xe(()=>{A(u?"refreshing":"pending"),p()},!1),f.then(b=>P(f,b,void 0,l),b=>P(f,void 0,En(b),l)))):(P(o,f,void 0,l),f)}return Object.defineProperties(i,{state:{get:()=>S()},error:{get:()=>_()},loading:{get(){const d=S();return d==="pending"||d==="refreshing"}},latest:{get(){if(!u)return i();const d=_();if(d&&!o)throw d;return w()}}}),v?nr(()=>g(!1)):g(!1),[i,{refetch:g,mutate:I}]}function rr(t,e=zr,n){const r=new Map,c=kt(s=>{const o=t();for(const[a,h]of r.entries())if(e(a,o)!==e(a,s))for(const u of h.values())u.state=Pe,u.pure?pe.push(u):Ne.push(u);return o},void 0,!0,Pe);return Qe(c),s=>{const o=ie;if(o){let a;(a=r.get(s))?a.add(o):r.set(s,a=new Set([o])),Ae(()=>{a.delete(o),!a.size&&r.delete(s)})}return e(s,c.value)}}function Gn(t){return xe(t,!1)}function ce(t){if(ie===null)return t();const e=ie;ie=null;try{return t()}finally{ie=e}}function Kr(t,e,n){const r=Array.isArray(t);let c,s=n&&n.defer;return o=>{let a;if(r){a=Array(t.length);for(let u=0;u<t.length;u++)a[u]=t[u]()}else a=t();if(s)return s=!1,o;const h=ce(()=>e(a,c,o));return c=a,h}}function Vr(t){be(()=>ce(t))}function Ae(t){return re===null||(re.cleanups===null?re.cleanups=[t]:re.cleanups.push(t)),t}function at(){return ie}function Ie(){return re}function Xr(t,e){const n=re,r=ie;re=t,ie=null;try{return xe(e,!0)}catch(c){Bn(c)}finally{re=n,ie=r}}function Jr(t,e){const n=Symbol("context");return{id:n,Provider:ci(n),defaultValue:t}}function Yr(t){let e;return re&&re.context&&(e=re.context[t.id])!==void 0?e:t.defaultValue}function ri(t){const e=fe(t),n=fe(()=>Pn(e()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let si;function Qr(){if(this.sources&&this.state)if(this.state===Pe)Qe(this);else{const t=pe;pe=null,xe(()=>Xt(this),!1),pe=t}if(ie){const t=this.observers?this.observers.length:0;ie.sources?(ie.sources.push(this),ie.sourceSlots.push(t)):(ie.sources=[this],ie.sourceSlots=[t]),this.observers?(this.observers.push(ie),this.observerSlots.push(ie.sources.length-1)):(this.observers=[ie],this.observerSlots=[ie.sources.length-1])}return this.value}function Zr(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&xe(()=>{for(let c=0;c<t.observers.length;c+=1){const s=t.observers[c],o=gn&&gn.running;o&&gn.disposed.has(s),(o?!s.tState:!s.state)&&(s.pure?pe.push(s):Ne.push(s),s.observers&&ts(s)),o||(s.state=Pe)}if(pe.length>1e6)throw pe=[],new Error},!1)),e}function Qe(t){if(!t.fn)return;rn(t);const e=nn;ii(t,t.value,e)}function ii(t,e,n){let r;const c=re,s=ie;ie=re=t;try{r=t.fn(e)}catch(o){return t.pure&&(t.state=Pe,t.owned&&t.owned.forEach(rn),t.owned=null),t.updatedAt=n+1,Bn(o)}finally{ie=s,re=c}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?Zr(t,r):t.value=r,t.updatedAt=n)}function kt(t,e,n,r=Pe,c){const s={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:re,context:re?re.context:null,pure:n};return re===null||re!==qr&&(re.owned?re.owned.push(s):re.owned=[s]),s}function Vt(t){if(t.state===0)return;if(t.state===Kt)return Xt(t);if(t.suspense&&ce(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<nn);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===Pe)Qe(t);else if(t.state===Kt){const r=pe;pe=null,xe(()=>Xt(t,e[0]),!1),pe=r}}function xe(t,e){if(pe)return t();let n=!1;e||(pe=[]),Ne?n=!0:Ne=[],nn++;try{const r=t();return oi(n),r}catch(r){n||(Ne=null),pe=null,Bn(r)}}function oi(t){if(pe&&(es(pe),pe=null),t)return;const e=Ne;Ne=null,e.length&&xe(()=>Hr(e),!1)}function es(t){for(let e=0;e<t.length;e++)Vt(t[e])}function ai(t){let e,n=0;for(e=0;e<t.length;e++){const r=t[e];r.user?t[n++]=r:Vt(r)}for(e=0;e<n;e++)Vt(t[e])}function Xt(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const r=t.sources[n];if(r.sources){const c=r.state;c===Pe?r!==e&&(!r.updatedAt||r.updatedAt<nn)&&Vt(r):c===Kt&&Xt(r,e)}}}function ts(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=Kt,n.pure?pe.push(n):Ne.push(n),n.observers&&ts(n))}}function rn(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),c=n.observers;if(c&&c.length){const s=c.pop(),o=n.observerSlots.pop();r<c.length&&(s.sourceSlots[o]=r,c[r]=s,n.observerSlots[r]=o)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)rn(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function En(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function Bn(t,e=re){throw En(t)}function Pn(t){if(typeof t=="function"&&!t.length)return Pn(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=Pn(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}function ci(t,e){return function(r){let c;return me(()=>c=ce(()=>(re.context={...re.context,[t]:r.value},ri(()=>r.children))),void 0),c}}const sr=Symbol("fallback");function ir(t){for(let e=0;e<t.length;e++)t[e]()}function li(t,e,n={}){let r=[],c=[],s=[],o=[],a=0,h;return Ae(()=>ir(s)),()=>{const u=t()||[],v=u.length;return u[Cn],ce(()=>{if(v===0)return a!==0&&(ir(s),s=[],r=[],c=[],a=0,o=[]),n.fallback&&(r=[sr],c[0]=Je(w=>(s[0]=w,n.fallback())),a=1),c;for(r[0]===sr&&(s[0](),s=[],r=[],c=[],a=0),h=0;h<v;h++)h<r.length&&r[h]!==u[h]?o[h](()=>u[h]):h>=r.length&&(c[h]=Je(m));for(;h<r.length;h++)s[h]();return a=o.length=s.length=v,r=u.slice(0),c=c.slice(0,a)});function m(w){s[h]=w;const[I,_]=ue(u[h]);return o[h]=_,e(I,h)}}}function we(t,e){return ce(()=>t(e||{}))}function jt(){return!0}const On={get(t,e,n){return e===Se?n:t.get(e)},has(t,e){return e===Se?!0:t.has(e)},set:jt,deleteProperty:jt,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:jt,deleteProperty:jt}},ownKeys(t){return t.keys()}};function mn(t){return(t=typeof t=="function"?t():t)?t:{}}function ui(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function ct(...t){let e=!1;for(let o=0;o<t.length;o++){const a=t[o];e=e||!!a&&Se in a,t[o]=typeof a=="function"?(e=!0,fe(a)):a}if(e)return new Proxy({get(o){for(let a=t.length-1;a>=0;a--){const h=mn(t[a])[o];if(h!==void 0)return h}},has(o){for(let a=t.length-1;a>=0;a--)if(o in mn(t[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<t.length;a++)o.push(...Object.keys(mn(t[a])));return[...new Set(o)]}},On);const n={},r=Object.create(null);for(let o=t.length-1;o>=0;o--){const a=t[o];if(!a)continue;const h=Object.getOwnPropertyNames(a);for(let u=h.length-1;u>=0;u--){const v=h[u];if(v==="__proto__"||v==="constructor")continue;const m=Object.getOwnPropertyDescriptor(a,v);if(!r[v])r[v]=m.get?{enumerable:!0,configurable:!0,get:ui.bind(n[v]=[m.get.bind(a)])}:m.value!==void 0?m:void 0;else{const w=n[v];w&&(m.get?w.push(m.get.bind(a)):m.value!==void 0&&w.push(()=>m.value))}}}const c={},s=Object.keys(r);for(let o=s.length-1;o>=0;o--){const a=s[o],h=r[a];h&&h.get?Object.defineProperty(c,a,h):c[a]=h?h.value:void 0}return c}function Nn(t,...e){if(Se in t){const c=new Set(e.length>1?e.flat():e[0]),s=e.map(o=>new Proxy({get(a){return o.includes(a)?t[a]:void 0},has(a){return o.includes(a)&&a in t},keys(){return o.filter(a=>a in t)}},On));return s.push(new Proxy({get(o){return c.has(o)?void 0:t[o]},has(o){return c.has(o)?!1:o in t},keys(){return Object.keys(t).filter(o=>!c.has(o))}},On)),s}const n={},r=e.map(()=>({}));for(const c of Object.getOwnPropertyNames(t)){const s=Object.getOwnPropertyDescriptor(t,c),o=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let a=!1,h=0;for(const u of e)u.includes(c)&&(a=!0,o?r[h][c]=s.value:Object.defineProperty(r[h],c,s)),++h;a||(o?n[c]=s.value:Object.defineProperty(n,c,s))}return[...r,n]}const fi=t=>`Stale read from <${t}>.`;function or(t){const e="fallback"in t&&{fallback:()=>t.fallback};return fe(li(()=>t.each,t.children,e||void 0))}function At(t){const e=t.keyed,n=fe(()=>t.when,void 0,{equals:(r,c)=>e?r===c:!r==!c});return fe(()=>{const r=n();if(r){const c=t.children;return typeof c=="function"&&c.length>0?ce(()=>c(e?r:()=>{if(!ce(n))throw fi("Show");return t.when})):c}return t.fallback},void 0,void 0)}const hi=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],di=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...hi]),pi=new Set(["innerHTML","textContent","innerText","children"]),gi=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),mi=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function yi(t,e){const n=mi[t];return typeof n=="object"?n[e]?n.$:void 0:n}const _i=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),bi={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function vi(t,e,n){let r=n.length,c=e.length,s=r,o=0,a=0,h=e[c-1].nextSibling,u=null;for(;o<c||a<s;){if(e[o]===n[a]){o++,a++;continue}for(;e[c-1]===n[s-1];)c--,s--;if(c===o){const v=s<r?a?n[a-1].nextSibling:n[s-a]:h;for(;a<s;)t.insertBefore(n[a++],v)}else if(s===a)for(;o<c;)(!u||!u.has(e[o]))&&e[o].remove(),o++;else if(e[o]===n[s-1]&&n[a]===e[c-1]){const v=e[--c].nextSibling;t.insertBefore(n[a++],e[o++].nextSibling),t.insertBefore(n[--s],v),e[c]=n[s]}else{if(!u){u=new Map;let m=a;for(;m<s;)u.set(n[m],m++)}const v=u.get(e[o]);if(v!=null)if(a<v&&v<s){let m=o,w=1,I;for(;++m<c&&m<s&&!((I=u.get(e[m]))==null||I!==v+w);)w++;if(w>v-a){const _=e[o];for(;a<v;)t.insertBefore(n[a++],_)}else t.replaceChild(n[a++],e[o++])}else o++;else e[o++].remove()}}}const ar="_$DX_DELEGATE";function Fn(t,e,n,r={}){let c;return Je(s=>{c=s,e===document?t():Wn(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{c(),e.textContent=""}}function $e(t,e,n){let r;const c=()=>{const o=document.createElement("template");return o.innerHTML=t,n?o.content.firstChild.firstChild:o.content.firstChild},s=e?()=>ce(()=>document.importNode(r||(r=c()),!0)):()=>(r||(r=c())).cloneNode(!0);return s.cloneNode=s,s}function sn(t,e=window.document){const n=e[ar]||(e[ar]=new Set);for(let r=0,c=t.length;r<c;r++){const s=t[r];n.has(s)||(n.add(s),e.addEventListener(s,Pi))}}function lt(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function wi(t,e,n,r){r==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r)}function gt(t,e){e==null?t.removeAttribute("class"):t.className=e}function Si(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const c=n[0];t.addEventListener(e,n[0]=s=>c.call(t,n[1],s))}else t.addEventListener(e,n)}function Ai(t,e,n={}){const r=Object.keys(e||{}),c=Object.keys(n);let s,o;for(s=0,o=c.length;s<o;s++){const a=c[s];!a||a==="undefined"||e[a]||(cr(t,a,!1),delete n[a])}for(s=0,o=r.length;s<o;s++){const a=r[s],h=!!e[a];!a||a==="undefined"||n[a]===h||!h||(cr(t,a,!0),n[a]=h)}return n}function Ti(t,e,n){if(!e)return n?lt(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let c,s;for(s in n)e[s]==null&&r.removeProperty(s),delete n[s];for(s in e)c=e[s],c!==n[s]&&(r.setProperty(s,c),n[s]=c);return n}function ns(t,e={},n,r){const c={};return r||me(()=>c.children=ut(t,e.children,c.children)),me(()=>typeof e.ref=="function"&&bt(e.ref,t)),me(()=>Ci(t,e,n,!0,c,!0)),c}function bt(t,e,n){return ce(()=>t(e,n))}function Wn(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return ut(t,e,r,n);me(c=>ut(t,e(),c,n),r)}function Ci(t,e,n,r,c={},s=!1){e||(e={});for(const o in c)if(!(o in e)){if(o==="children")continue;c[o]=lr(t,o,null,c[o],n,s)}for(const o in e){if(o==="children"){r||ut(t,e.children);continue}const a=e[o];c[o]=lr(t,o,a,c[o],n,s)}}function Ei(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function cr(t,e,n){const r=e.trim().split(/\s+/);for(let c=0,s=r.length;c<s;c++)t.classList.toggle(r[c],n)}function lr(t,e,n,r,c,s){let o,a,h,u,v;if(e==="style")return Ti(t,n,r);if(e==="classList")return Ai(t,n,r);if(n===r)return r;if(e==="ref")s||n(t);else if(e.slice(0,3)==="on:"){const m=e.slice(3);r&&t.removeEventListener(m,r),n&&t.addEventListener(m,n)}else if(e.slice(0,10)==="oncapture:"){const m=e.slice(10);r&&t.removeEventListener(m,r,!0),n&&t.addEventListener(m,n,!0)}else if(e.slice(0,2)==="on"){const m=e.slice(2).toLowerCase(),w=_i.has(m);if(!w&&r){const I=Array.isArray(r)?r[0]:r;t.removeEventListener(m,I)}(w||n)&&(Si(t,m,n,w),w&&sn([m]))}else if(e.slice(0,5)==="attr:")lt(t,e.slice(5),n);else if((v=e.slice(0,5)==="prop:")||(h=pi.has(e))||!c&&((u=yi(e,t.tagName))||(a=di.has(e)))||(o=t.nodeName.includes("-")))v&&(e=e.slice(5),a=!0),e==="class"||e==="className"?gt(t,n):o&&!a&&!h?t[Ei(e)]=n:t[u||e]=n;else{const m=c&&e.indexOf(":")>-1&&bi[e.split(":")[0]];m?wi(t,m,e,n):lt(t,gi[e]||e,n)}return n}function Pi(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[e];if(r&&!n.disabled){const c=n[`${e}Data`];if(c!==void 0?r.call(n,c,t):r.call(n,t),t.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function ut(t,e,n,r,c){for(;typeof n=="function";)n=n();if(e===n)return n;const s=typeof e,o=r!==void 0;if(t=o&&n[0]&&n[0].parentNode||t,s==="string"||s==="number"){if(s==="number"&&(e=e.toString(),e===n))return n;if(o){let a=n[0];a&&a.nodeType===3?a.data!==e&&(a.data=e):a=document.createTextNode(e),n=nt(t,n,r,a)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||s==="boolean")n=nt(t,n,r);else{if(s==="function")return me(()=>{let a=e();for(;typeof a=="function";)a=a();n=ut(t,a,n,r)}),()=>n;if(Array.isArray(e)){const a=[],h=n&&Array.isArray(n);if(kn(a,e,n,c))return me(()=>n=ut(t,a,n,r,!0)),()=>n;if(a.length===0){if(n=nt(t,n,r),o)return n}else h?n.length===0?ur(t,a,r):vi(t,n,a):(n&&nt(t),ur(t,a));n=a}else if(e.nodeType){if(Array.isArray(n)){if(o)return n=nt(t,n,r,e);nt(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function kn(t,e,n,r){let c=!1;for(let s=0,o=e.length;s<o;s++){let a=e[s],h=n&&n[t.length],u;if(!(a==null||a===!0||a===!1))if((u=typeof a)=="object"&&a.nodeType)t.push(a);else if(Array.isArray(a))c=kn(t,a,h)||c;else if(u==="function")if(r){for(;typeof a=="function";)a=a();c=kn(t,Array.isArray(a)?a:[a],Array.isArray(h)?h:[h])||c}else t.push(a),c=!0;else{const v=String(a);h&&h.nodeType===3&&h.data===v?t.push(h):t.push(document.createTextNode(v))}}return c}function ur(t,e,n=null){for(let r=0,c=e.length;r<c;r++)t.insertBefore(e[r],n)}function nt(t,e,n,r){if(n===void 0)return t.textContent="";const c=r||document.createTextNode("");if(e.length){let s=!1;for(let o=e.length-1;o>=0;o--){const a=e[o];if(c!==a){const h=a.parentNode===t;!s&&!o?h?t.replaceChild(c,a):t.insertBefore(c,n):h&&a.remove()}else s=!0}}else t.insertBefore(c,n);return[c]}var Un=(t,e)=>{let n;const r=()=>clearTimeout(n);return Ie()&&Ae(r),Object.assign((...s)=>{n!==void 0&&r(),n=setTimeout(()=>t(...s),e)},{clear:r})};function zn(t){let e=0,n=!1;const[r,c]=ue(void 0,{equals:!1}),s=t(()=>{n=!0,c()});return()=>(n||(s(),r()),n?(n=!!e,!0):(at()&&(e++,Ae(()=>e--)),!1))}class rs extends EventTarget{addEventListener(e,n,r){super.addEventListener(e,n,r)}removeEventListener(e,n,r){super.removeEventListener(e,n,r)}dispatchEvent(e){return super.dispatchEvent(e)}}class ss extends Event{constructor(e){super("url"),this.url=e}}class on extends rs{constructor(e,n,r){super(),this.runtime=e,this.path=n,[this.#e,this.#n]=ue(""),this.#r=()=>r!==void 0?r:!!e.config.controlled}#e;#n;#r;toJSON(){return this.get()}set(e){this.runtime.config.onFileChange?.(this.path,e),this.#r()||this.#n(e)}get(){return this.#r()?this.runtime.config.files[this.path]:this.#e()}get source(){return this.#r()?this.runtime.config.files[this.path]:this.#e()}moduleTransform(){const e=this.url;if(!e)throw`Currently module-url of ${this.path} is undefined.`;return e}}function is(t,e){return`
import { dispose } from "@repl/std"
(() => {
  let stylesheet = document.querySelector('[data-repl-css-id="${t}"]');
  if(!stylesheet){
    stylesheet = document.createElement('style')
    stylesheet.setAttribute('data-repl-css-id', '${t}');
    document.head.appendChild(stylesheet)
    dispose('${t}', () => stylesheet.remove())
  }
  const styles = document.createTextNode(\`${e}\`)
  stylesheet.innerHTML = ''
  stylesheet.appendChild(styles)
})()`}class Oi extends on{jsFile;constructor(e,n){super(e,n),this.jsFile=e.fs.create(n.replace(".css",".js"));const r=zn(c=>Un(c,250));this.jsFile.addEventListener("url",c=>this.dispatchEvent(c)),be(()=>{r()&&this.jsFile.set(is(n,this.get()))})}generate(){return this.jsFile.generate()}get url(){return this.jsFile.generate()}}function Xe(t,e,n){const r=typeof t=="function"?t():t;return r?e(r):n?n():void 0}function Jt(t,e,n){return()=>Xe(t,e,n)}function Hn(t,e){const n=e.match(/\.\.\//g)?.length||0;return(n>0?[...t.split("/").slice(0,-(n+1)),...e.split("/").slice(n)]:[...t.split("/").slice(0,-1),...e.split("/").slice(1)]).join("/")}const qn=t=>t.startsWith("blob:")||t.startsWith("http:")||t.startsWith("https:"),Kn=t=>t.startsWith("."),Ni=/(?:@?[^@\/]*\/)?([^@\/]+)@([^\s\/]+)/,fr=t=>{const e=t.match(Ni);if(e){const n=e[1],r=e[2];return[n,r]}else return};class Ke extends on{constructor(e,n){super(e,n),this.runtime=e,this.path=n,[this.directDependencies,this.#e]=ue([]),[this.#t,this.#s]=ue([]);let r=!1;const c=zn(o=>Un(o,250)),[s]=Be(()=>[this.get(),!r||c()],async([o])=>{r=!0;try{return Array.isArray(e.config.transform)?e.config.transform.reduce((a,h)=>h(a,n),o):e.config.transform(this.get(),this.path)}catch(a){console.error("error while transforming js",a)}});this.#r=fe(o=>Xe(s,a=>{const h=[],u=new Set(ce(this.directDependencies));try{return Gn(()=>e.config.transformModulePaths(a,v=>{if(qn(v))return v;const m=e.fs.alias[v];if(m||Kn(v)){const w=e.fs.resolve(m||Hn(n,v));if(!w)throw`Could not resolve relative module-path to its virtual file. Are you sure ${v} exists?`;return h.push(w),u.delete(w),w.moduleTransform()}else return e.config.importExternalTypes&&e.types.import.fromPackageName(v),`${e.config.cdn}/${v}`}))}catch(v){return console.warn("error",v),o}finally{this.#e(h);for(const v of u)this.#i(v)}},()=>o)),this.#n=fe(o=>Xe(this.generate.bind(this),a=>(this.dispatchEvent(new ss(a)),a),()=>o))}directDependencies;#e;#n;#r;#t;#s;onDependencyRemoved(e){this.#s(n=>[...n,e]),Ae(()=>{this.#s(n=>{const r=n.findIndex(c=>c===e);return r!==-1?(n.splice(r,1),[...n]):n})})}#i(e){for(const n of this.#t())n(e)}resolveDependencies(){const e=new Set,n=[...this.directDependencies()];for(;n.length>0;){const r=n.pop();if(r&&!e.has(r)&&(e.add(r),r instanceof Ke))for(const c of r.directDependencies())e.has(c)||n.push(c)}return Array.from(e)}generate(){return Xe(this.#r.bind(this),e=>URL.createObjectURL(new Blob([e],{type:"application/javascript"})))}get url(){return this.#n()}}const os=(t,e)=>t.reduce((n,r,c)=>n+r+(e[c]||""),"");function as(t,...e){const n=URL.createObjectURL(new Blob([os(t,e)],{type:"text/html"}));return Ae(()=>URL.revokeObjectURL(n)),n}function cs(t,...e){const n=URL.createObjectURL(new Blob([os(t,e)],{type:"text/javascript"}));return Ae(()=>URL.revokeObjectURL(n)),n}class ki extends on{#e;generate;constructor(e,n,r){super(e,n,r);const c=zn(s=>Un(s,250));this.generate=()=>{const s=this.get();if(!s)return;const o=Uint8Array.from(atob(s),a=>a.charCodeAt(0));return cs`
const wasmCode = new Uint8Array([${o.toString()}]);
export default (imports) =>  WebAssembly.instantiate(wasmCode, imports).then(result => result.instance);
`},this.#e=fe(s=>{if(!c())return s;const o=this.generate();return o?(this.dispatchEvent(new ss(o)),o):s})}get url(){return this.#e()}}const Rn=Symbol("store-raw"),st=Symbol("store-node"),Re=Symbol("store-has"),ls=Symbol("store-self");function us(t){let e=t[Se];if(!e&&(Object.defineProperty(t,Se,{value:e=new Proxy(t,xi)}),!Array.isArray(t))){const n=Object.keys(t),r=Object.getOwnPropertyDescriptors(t);for(let c=0,s=n.length;c<s;c++){const o=n[c];r[o].get&&Object.defineProperty(t,o,{enumerable:r[o].enumerable,get:r[o].get.bind(e)})}}return e}function Yt(t){let e;return t!=null&&typeof t=="object"&&(t[Se]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function Tt(t,e=new Set){let n,r,c,s;if(n=t!=null&&t[Rn])return n;if(!Yt(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let o=0,a=t.length;o<a;o++)c=t[o],(r=Tt(c,e))!==c&&(t[o]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const o=Object.keys(t),a=Object.getOwnPropertyDescriptors(t);for(let h=0,u=o.length;h<u;h++)s=o[h],!a[s].get&&(c=t[s],(r=Tt(c,e))!==c&&(t[s]=r))}return t}function Qt(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function Ct(t,e,n){if(t[e])return t[e];const[r,c]=ue(n,{equals:!1,internal:!0});return r.$=c,t[e]=r}function Ri(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===Se||e===st||(delete n.value,delete n.writable,n.get=()=>t[Se][e]),n}function fs(t){at()&&Ct(Qt(t,st),ls)()}function Ii(t){return fs(t),Reflect.ownKeys(t)}const xi={get(t,e,n){if(e===Rn)return t;if(e===Se)return n;if(e===Cn)return fs(t),n;const r=Qt(t,st),c=r[e];let s=c?c():t[e];if(e===st||e===Re||e==="__proto__")return s;if(!c){const o=Object.getOwnPropertyDescriptor(t,e);at()&&(typeof s!="function"||t.hasOwnProperty(e))&&!(o&&o.get)&&(s=Ct(r,e,s)())}return Yt(s)?us(s):s},has(t,e){return e===Rn||e===Se||e===Cn||e===st||e===Re||e==="__proto__"?!0:(at()&&Ct(Qt(t,Re),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:Ii,getOwnPropertyDescriptor:Ri};function Zt(t,e,n,r=!1){if(!r&&t[e]===n)return;const c=t[e],s=t.length;n===void 0?(delete t[e],t[Re]&&t[Re][e]&&c!==void 0&&t[Re][e].$()):(t[e]=n,t[Re]&&t[Re][e]&&c===void 0&&t[Re][e].$());let o=Qt(t,st),a;if((a=Ct(o,e,c))&&a.$(()=>n),Array.isArray(t)&&t.length!==s){for(let h=t.length;h<s;h++)(a=o[h])&&a.$();(a=Ct(o,"length",s))&&a.$(t.length)}(a=o[ls])&&a.$()}function hs(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const c=n[r];Zt(t,c,e[c])}}function $i(t,e){if(typeof e=="function"&&(e=e(t)),e=Tt(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){const c=e[n];t[n]!==c&&Zt(t,n,c)}Zt(t,"length",r)}else hs(t,e)}function mt(t,e,n=[]){let r,c=t;if(e.length>1){r=e.shift();const o=typeof r,a=Array.isArray(t);if(Array.isArray(r)){for(let h=0;h<r.length;h++)mt(t,[r[h]].concat(e),n);return}else if(a&&o==="function"){for(let h=0;h<t.length;h++)r(t[h],h)&&mt(t,[h].concat(e),n);return}else if(a&&o==="object"){const{from:h=0,to:u=t.length-1,by:v=1}=r;for(let m=h;m<=u;m+=v)mt(t,[m].concat(e),n);return}else if(e.length>1){mt(t[r],e,[r].concat(n));return}c=t[r],n=[r].concat(n)}let s=e[0];typeof s=="function"&&(s=s(c,n),s===c)||r===void 0&&s==null||(s=Tt(s),r===void 0||Yt(c)&&Yt(s)&&!Array.isArray(s)?hs(c,s):Zt(t,r,s))}function Et(...[t,e]){const n=Tt(t||{}),r=Array.isArray(n),c=us(n);function s(...o){Gn(()=>{r&&o.length===1?$i(n,o[0]):mt(n,o)})}return[c,s]}class Li{#e;#n;constructor(){[this.#e,this.#n]=Et({})}add(e,n){this.#n(e,n)}delete(e){this.#n(e,void 0)}get(e){return this.#e[e]}has(e){return e in this.#e}}class Mi{constructor(e){this.contentWindow=e}injectModuleUrl(e){const n=this.contentWindow.document.createElement("script");return n.type="module",n.src=e,this.contentWindow.document.head.appendChild(n),()=>{this.contentWindow.document.head.removeChild(n),URL.revokeObjectURL(e)}}injectFile(e){return be(Kr(()=>e.url,()=>Ae(()=>this.dispose(e.path)))),e instanceof Ke&&e.onDependencyRemoved(n=>this.dispose(n.path)),Xe(e.generate(),n=>this.injectModuleUrl(n))}dispose(e){const n=this.contentWindow.repl?.dispose;if(typeof n=="function")return n(e)}reload(){this.contentWindow.location.reload()}clearBody(){this.contentWindow.document.body.innerHTML=""}}class ji{async parse(e){e.startsWith(".")&&(e=new URL(e,window.location.href.toString()).href);const n=await fetch(`${e}/package.json`).then(s=>s.json()),r=typeof n.exports=="string"?n.exports:this.resolveExportPath(e,n.exports,"default","import")||n.module||n.main;if(!r)throw new Error("No valid module entry found for script.");const c=typeof n.exports!="string"&&this.resolveExportPath(e,n.exports,"default","types")||n.types||n.typings;return{typesUrl:c&&new URL(c,`${e}/`).href,scriptUrl:new URL(r,`${e}/`).href,packageName:n.name}}resolveExportPath(e,n,r,c){if(!n)return;function s(o,a){if(o)return typeof o=="string"?o:s(o[a],a)||s(o.default,a)}return s(n[r],r)||s(n[c],c)}}const Di=`/**
 * Standard library that is included in each FileSystem, aliased to \`@repl/std\`
 */

const cleanups = new Map<string, () => void>()
/** Add function to clean-up side-effects after module is reload. */
export const dispose = (id: string, callback: () => void) => cleanups.set(id, callback)

// Extend the Window interface in the same file
declare global {
  interface Window {
    repl?: {
      dispose: (id?: string) => void
    }
  }
}

window.repl = {
  dispose(id?: string) {
    if (id) {
      cleanups.get(id)?.()
    } else {
      cleanups.forEach(cleanup => cleanup())
    }
  },
}
`;class Gi extends Event{constructor(e){super("file"),this.file=e}}class Bi extends rs{constructor(e){super(),this.runtime=e;const[n,r]=Et({});this.#e=n,this.#n=r,[this.alias,this.setAlias]=Et({"@repl/std":"@repl/std.ts"}),Ae(()=>this.#r.forEach(c=>c()))}alias;setAlias;#e;#n;#r=[];initialize(e){const n={...e,"@repl/std.ts":Di};for(const[r,c]of Object.entries(n))this.create(r).set(c)}toJSON(){return{sources:Object.fromEntries(Object.entries(this.#e).map(([e,n])=>[e,n.toJSON()])),alias:this.alias}}addProject(e){Object.entries(e).forEach(([n,r])=>{this.create(n).set(r)})}create(e){let n=null;for(const c in this.runtime.extensions)e.endsWith(c)&&c.length>(n?.length||0)&&(n=c);if(n===null)throw"extension type is not supported";const r=new this.runtime.extensions[n](this.runtime,e);return this.#n(e,r),this.dispatchEvent(new Gi(r)),r}has(e){return e in this.#e}get(e){return this.#e[e]}getOrCreate(e){return this.runtime.fs.get(e)||this.runtime.fs.create(e)}resolve(e){return this.#e[e]||this.#e[`${e}/index.ts`]||this.#e[`${e}/index.tsx`]||this.#e[`${e}/index.d.ts`]||this.#e[`${e}/index.js`]||this.#e[`${e}/index.jsx`]||this.#e[`${e}.ts`]||this.#e[`${e}.tsx`]||this.#e[`${e}.d.ts`]||this.#e[`${e}.js`]||this.#e[`${e}.jsx`]}all(){return Object.fromEntries(Object.entries(this.#e).filter(([e])=>e.split("/")[0]!=="node_modules"))}remove(e){this.#n({[e]:void 0})}}class Fi{constructor(e){this.runtime=e}packageJsonParser=new ji;async fromPackageJson(e){const n=s=>qn(s)?new URL(s).pathname:s,[r]=Be(()=>this.packageJsonParser.parse(e)),[c]=Be(r,async({scriptUrl:s,packageName:o})=>{const a={},h=async u=>{const v=n(u),m=await fetch(u).then(_=>{if(_.status!==200)throw new Error(`Error while loading ${u}: ${_.statusText}`);return _.text()}),w=[],I=await this.runtime.config.transformModulePaths(m,_=>(Kn(_)&&w.push(h(Hn(u,_))),_));if(!I)throw new Error(`Transform returned undefined for ${v}`);await Promise.all(w),a[v]=I};return await h(s),this.runtime.fs.setAlias(o,`node_modules${n(s)}`),a});be(Jt(r,({typesUrl:s,packageName:o})=>{s&&this.runtime.types.import.fromUrl(s,o)})),be(Jt(c,s=>Object.entries(s).forEach(([o,a])=>{this.runtime.fs.create(`node_modules${o}`).set(a)})))}}function ds(t,...e){return[`%c[REPL]%c ${t}`,"color: red","",...e]}class Wi{constructor(e,n){this.runtime=e,this.typeRegistry=n}cachedUrls=new Set;cachedPackageNames=new Set;initialize(e){e.sources&&Object.keys(e.sources).forEach(n=>{this.cachedUrls.add(n)}),e.alias&&Object.entries(e.alias).forEach(([n])=>{this.cachedPackageNames.add(n)})}async fromUrl(e,n){const r=this.getVirtualPath(e);if(n&&this.cachedPackageNames.has(n)||this.cachedUrls.has(r))return;this.cachedUrls.add(r),n&&this.cachedPackageNames.add(n);const c=async s=>{const o=this.getVirtualPath(s);if(this.typeRegistry.has(o))return;this.typeRegistry.set(o,null);const a=await fetch(s).then(v=>(v.status,v.text())),h=[],u=await this.runtime.config.transformModulePaths(a,v=>{if(Kn(v)){if(h.push(c(Hn(s,v))),v.endsWith(".js"))return v=v.replace(".js",".d.ts"),v}else if(qn(v)){let m=this.getVirtualPath(v);return Xe(fr(m),([w,I])=>{for(const _ of Object.keys(this.typeRegistry.sources))if(Xe(fr(_),([C,p])=>C===w?(I!==p&&(console.warn(`Conflicting version numbers: Overwriting version number of ${w} from ${I} to ${p}.
Accessed ${v} from ${s}.`),v=v.replace(I,p),m=m.replace(I,p)),!0):!1))break}),h.push(this.fromUrl(v)),this.typeRegistry.aliasPath(m,`file:///node_modules/${m}`),m}else h.push(this.fromPackageName(v));return v});if(!u)throw new Error(`Transform returned undefined for ${o}`);await Promise.all(h),this.typeRegistry.set(o,u)};await c(e),n&&(this.cachedPackageNames.add(n),this.typeRegistry.aliasPath(n,`file:///node_modules/${r}`))}async fromPackageName(e){if(this.cachedPackageNames.has(e))return;this.cachedPackageNames.add(e);const n=await fetch(`${this.runtime.config.cdn}/${e}`).then(c=>c.headers.get("X-TypeScript-Types")).catch(c=>{console.info(c)});if(!n){console.error(...ds("no type url was found for package",e));return}const r=this.getVirtualPath(n);await this.fromUrl(n),this.typeRegistry.aliasPath(e,`file:///node_modules/${r}`)}getVirtualPath(e){return e.replace(`${this.runtime.config.cdn}/`,"").replace("http://","").split("/").slice(1).join("/")}}class Ui{constructor(e){this.runtime=e,[this.sources,this.setSources]=Et({}),[this.alias,this.setAlias]=Et({}),this.import=new Wi(e,this)}sources;setSources;alias;setAlias;import;toJSON(){return{alias:this.alias,sources:this.sources}}initialize(e){Gn(()=>{e.sources&&this.setSources(e.sources),e.alias&&(this.setAlias(e.alias),Object.entries(e.alias).forEach(([n,r])=>{this.aliasPath(n,r[0])}))}),this.import.initialize(e)}aliasPath(e,n){this.setAlias(e,[n])}set(e,n){this.setSources(e,n)}has(e){return e in this.sources}}class zi{config;fs;frames;types;import;get extensions(){return{css:Oi,js:Ke,jsx:Ke,ts:Ke,tsx:Ke,wasm:ki,...this.config.extensions}}initialized=!1;constructor(e){this.config=ct({cdn:"https://esm.sh"},e),this.fs=new Bi(this),this.frames=new Li,this.import=new Fi(this),this.types=new Ui(this)}toJSON(){return{files:this.fs.toJSON(),types:this.types.toJSON()}}initialize(){return this.config.files&&this.fs.initialize(this.config.files),this.initialized=!0,this}download(e="repl.config.json"){const n=this.toJSON(),r=new Blob([JSON.stringify(n)],{type:"text/json"}),c=document.createElement("a");c.download=e,c.href=window.URL.createObjectURL(r),c.dataset.downloadurl=["text/json",c.download,c.href].join(":");const s=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});c.dispatchEvent(s),c.remove()}getFile(e,n=!0){return this.fs.get(e)||ce(()=>n?this.fs.create(e):void 0)}setFile(e,n,r){return this.getFile(e,r)?.set(n)}}function Hi(t){const[e,n]=ue(!0);return be(()=>e()&&t()),{stop:()=>n(!1),resume:()=>n(!0)}}function qi(t){return class extends t{#e=new Set;createEffect(n){this.#i(n)}stopEffects(){this.#o()}#n(n){let r=null;r=Hi(()=>{r&&this.#e.add(r),be(n),Ae(()=>this.#e.delete(r))}),this.#e.add(r)}#r(){for(const n of this.#e)n.stop()}#t=null;#s=null;#i(n){if(!this.#t)Je(r=>{this.#t=Ie(),this.#s=r,this.#i(n)});else{let r=Ie();for(;r&&r!==this.#t;)r=r?.owner??null;if(r===this.#t)return be(n);Xr(this.#t,()=>be(n))}}#o(){this.#s?.()}}}function Ki(t,e){let n=t,r;for(;n;){if(r=Object.getOwnPropertyDescriptor(n,e),r)return r.owner=n,r;n=n.__proto__}}const Dt=new WeakMap;function Vi(t,...e){const n=e.length?e:Object.keys(t).concat(Object.getOwnPropertySymbols(t));for(const r of n)ps(t,r);return t}let hr=!1;function Xi(){if(hr)throw new Error('Export "createSignalAccessor" is internal to classy-solid only.');return hr=!0,ps}const Ut=new WeakMap;function Ji(t,e){return!!Ut.get(t)?.has(e)}function dr(t,e){Ut.has(t)||Ut.set(t,new Set),Ut.get(t).add(e)}const pr=new WeakSet;function ps(t,e,n=ce(()=>t[e]),r=!1){if(!r&&Dt.get(t)?.has(e)||t[Se])return;let s=Ki(t,e),o,a;if(s){if(o=s.get,a=s.set,o&&pr.has(o))return;if(o||a){if(!o||!a){console.warn(`The \`@signal\` decorator was used on an accessor named "${e.toString()}" which had a getter or a setter, but not both. Reactivity on accessors works only when accessors have both get and set. In this case the decorator does not do anything.`);return}delete s.get,delete s.set}else{if(n=s.value,!s.writable){console.warn(`The \`@signal\` decorator was used on a property named "${e.toString()}" that is not writable. Reactivity is not enabled for non-writable properties.`);return}delete s.value,delete s.writable}}const h=ue(n,{equals:!1});s={configurable:!0,enumerable:!0,...s,get:o?function(){return h[0](),o.call(this)}:function(){return h[0]()},set:a?function(u){a.call(this,u),dr(this,e),typeof u=="function"?h[1](()=>u):h[1](u)}:function(u){dr(this,e),typeof u=="function"?h[1](()=>u):h[1](u)}},pr.add(s.get),Object.defineProperty(t,e,s),Dt.has(t)||Dt.set(t,new Set),Dt.get(t).add(e)}let an=new Map,vt=null;function Yi(){if(vt)throw new Error("Attempted use of classy-solid internals.");return vt=Symbol(),vt}function Qi(t){if(t!==vt)throw new Error("Attempted use of classy-solid internals.");return an}function Zi(t){if(t!==vt)throw new Error("Attempted use of classy-solid internals.");an=new Map}function eo(t){return"private"in t}function ft(t,e){const{kind:n,name:r}=e,c=an;if(eo(e)){if(e.private)throw new Error("@signal is not supported on private fields yet.");if(e.static)throw new Error("@signal is not supported on static fields yet.")}if(n==="field")return c.set(r,{initialValue:void 0}),function(s){return c.get(r).initialValue=s,s};if(n==="getter"||n==="setter")c.set(r,{initialValue:void 0});else throw new Error("The @signal decorator is only for use on fields, getters, and setters. Auto accessor support is coming next if there is demand for it.");to(c)}let yn=!1;function to(t){yn||(yn=!0,queueMicrotask(()=>{if(yn=!1,t===an)throw new Error(`Stray @signal-decorated properties detected: ${Array.from(t.keys()).join(", ")}. Did you forget to use the \`@reactive\` decorator on a class that has properties decorated with \`@signal\`?`)}))}const gr=Yi(),no=Xi(),mr=Object.prototype.hasOwnProperty;function ro(t,e){if(typeof t!="function"||e&&e.kind!=="class")throw new TypeError("The @reactive decorator is only for use on classes.");const n=t,r=Qi(gr);Zi(gr);class c extends n{constructor(...o){let a;at()?ce(()=>a=Reflect.construct(n,o,new.target)):(super(...o),a=this);for(const[h,{initialValue:u}]of r){if(!(mr.call(a,h)||mr.call(n.prototype,h)))throw new Error(`Property "${h.toString()}" not found on instance of class decorated with \`@reactive\`. Did you forget to use the \`@reactive\` decorator on one of your classes that has a "${h.toString()}" property decorated with \`@signal\`?`);no(a,h,u,!0)}return a}}return c}var yt;let ht;const so=globalThis.HTMLElement??class{constructor(){throw new Error("@lume/element needs a DOM to operate with! If this code is running during server-side rendering, it means your app is trying to instantiate elements when it shouldn't be, and should be refactored to avoid doing that when no DOM is present.")}};let ke=class extends qi(so){static elementName="";static defineElement(e,n=customElements){if(e){if(n.get(e))return console.warn(`defineElement(): An element class was already defined for tag name ${e}.`),this;{const r=class extends this{};return r.elementName=e,n.define(e,r),r}}else return e=this.elementName,n.get(e)?(console.warn(`defineElement(): An element class was already defined for tag name ${e}.`),this):(n.define(e,this),this)}static observedAttributes;#e(){const e=Object.keys(this);this._preUpgradeValues=new Map;for(const n of e){const r=Object.getOwnPropertyDescriptor(this,n);"value"in r&&(delete this[n],this._preUpgradeValues.set(n,r.value),queueMicrotask(()=>{if(Ji(this,n))return;n in this.__proto__&&(this[n]=r.value)}))}}#n=this.#e();hasShadow=!0;__root=null;get root(){return this.hasShadow?this.__root?this.__root:this.shadowRoot?this.__root=this.shadowRoot:this.__root=this.attachShadow({mode:"open"}):this}set root(e){if(!this.hasShadow)throw new Error("Can not set root, element.hasShadow is false.");if(this.__root||this.shadowRoot)throw new Error("Element root can only be set once if there is no ShadowRoot.");this.__root=e}get styleRoot(){return this.root}attachShadow(e){return this.__root&&console.warn("Element already has a root defined."),this.__root=super.attachShadow(e)}#r;connectedCallback(){const e=this.template;e&&(this.#r=Fn(typeof e=="function"?e.bind(this):()=>e,this.root)),this.#a()}disconnectedCallback(){this.stopEffects(),this.#r?.(),this.#c()}static __styleRootNodeRefCountPerTagName=new WeakMap;#t=null;#s=e=>`${e} {
		display: block;
	}`;static __elementId=0;#i=yt.__elementId++;#o=null;#a(){ht=this.constructor;const e=typeof ht.css=="function"?ht.css=ht.css():ht.css||"",n=typeof this.css=="function"?this.css():this.css||"";if(this.hasShadow){const r=":host",c=document.createElement("style");c.innerHTML=`
				${this.#s(r)}
				${e}
				${n}
			`,this.styleRoot.appendChild(c)}else{const r=this.getRootNode();this.#t=r===document?document.head:r;let c=yt.__styleRootNodeRefCountPerTagName.get(this.#t);c||yt.__styleRootNodeRefCountPerTagName.set(this.#t,c={});const s=c[this.tagName]||0;if(c[this.tagName]=s+1,s===0){const o=this.tagName.toLowerCase(),a=document.createElement("style");a.innerHTML=`
					${this.#s(o)}
					${e&&e.replaceAll(":host",o)}
				`,a.id=this.tagName.toLowerCase(),this.#t.appendChild(a)}if(n){const o=this.tagName.toLowerCase()+"-"+this.#i;this.setAttribute(o,"");const a=this.#o=document.createElement("style");a.id=o,a.innerHTML=n.replaceAll(":host",`[${o}]`);const h=this.getRootNode();this.#t=h===document?document.head:h,this.#t.appendChild(a)}}}#c(){do{if(this.hasShadow)break;const e=yt.__styleRootNodeRefCountPerTagName.get(this.#t);if(!e)break;let n=e[this.tagName];if(n===void 0)break;e[this.tagName]=--n,n===0&&(delete e[this.tagName],this.#t.querySelector("#"+this.tagName)?.remove())}while(!1);this.#o&&this.#o.remove()}adoptedCallback(){}};yt=ke;Symbol.metadata??=Symbol.for("Symbol.metadata");function io(t,...e){let n="";for(let r=0;r<e.length;r++)n+=t[r]+String(e[r]);return n+t[t.length-1]}function oo(t){return t.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}function ao(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0,enumerable:!0})}const In=[];function Pt(t,e){if(arguments.length===2)return yr(t,e,void 0);const n=t;return(r,c)=>yr(r,c,n)}function yr(t,e,n={}){const{kind:r,name:c,private:s,static:o,metadata:a}=e,u=!(Object.hasOwn(a,"noSignal")&&a.noSignal||void 0)?.has(c);if(typeof c=="symbol")throw new Error("@attribute is not supported on symbol fields yet.");if(s)throw new Error("@attribute is not supported on private fields yet.");if(o)throw new Error("@attribute is not supported on static fields.");if(In.push(v=>gs(v,c,n)),r==="field"){const v=u?ft(t,e):m=>m;return function(m){return m=v(m),"default"in n||(n.default=m),m}}else if(r==="getter"||r==="setter")u&&ft(t,e);else throw new Error("@attribute is only for use on fields, getters, and setters. Auto accessor support is coming next if there is demand for it.")}function gs(t,e,n){if(!t.observedAttributes||!t.hasOwnProperty("observedAttributes")){const c=t.__proto__.observedAttributes;if(c&&!Array.isArray(c))throw new TypeError("observedAttributes is in the wrong format. Did you forget to decorate your custom element class with the `@element` decorator?");ao(t,"observedAttributes",[...c||[]])}if(!Array.isArray(t.observedAttributes))throw new TypeError("observedAttributes is in the wrong format. Maybe you forgot to decorate your custom element class with the `@element` decorator.");const r=oo(e);t.observedAttributes.includes(r)||t.observedAttributes.push(r),co(t.prototype,r,e,n)}function co(t,e,n,r){if(!t.__hasAttributeChangedCallback){t.__hasAttributeChangedCallback=!0;const c=t.attributeChangedCallback;t.attributeChangedCallback=function(s,o,a){c?c.call(this,s,o,a):t.__proto__?.attributeChangedCallback?.call(this,s,o,a);const h=this.__attributesToProps&&this.__attributesToProps[s];if(h){const u=h.attributeHandler;this[h.name]=u?a===null?"default"in u?u.default:null:u.from?u.from(a):a:a}}}t.hasOwnProperty("__attributesToProps")||Object.defineProperty(t,"__attributesToProps",{value:{__proto__:t.__attributesToProps||Object.prototype}}),t.__attributesToProps[e]={name:n,attributeHandler:r}}const lo=t=>t;Pt.string=()=>({from:lo});function en(t,e){return Pt(Pt.string())(t,e)}const uo=t=>+t;Pt.number=()=>({from:uo});const fo=t=>t!=="false";Pt.boolean=()=>({from:fo});function cn(t,e){let n="",r=!!(e??!0);return typeof t=="string"?(n=t,(o,a)=>_r(o,a,n,r)):(r=!1,_r(t,e,n,r))}function _r(t,e,n,r){if(typeof t!="function"||e&&e.kind!=="class")throw new Error("@element is only for use on classes.");const{metadata:c={}}=e??{},s=Object.hasOwn(c,"noSignal")&&c.noSignal||void 0;let o=t;const a=o.observedAttributes;if(o.hasOwnProperty("elementName")?n=o.elementName||n:o.elementName=n,!Array.isArray(a)){if(a&&typeof a=="object"){o.observedAttributes=void 0;for(const m in a)gs(o,m,a[m])}}o=ro(o,e);class h extends o{constructor(...w){super(...w),ce(()=>{ho(this);const I=[],_=h.prototype.__attributesToProps??{};for(const E of Object.values(_)){const C=E.name;!s?.has(C)&&I.push(C);const S=E.attributeHandler;S&&!("default"in S)&&(S.default=this[C])}I.length&&Vi(this,...I)})}}const u=[...In];In.length=0;function v(){for(const m of u)m(h);n&&r&&globalThis.window?.customElements?.define(n,h)}return e?.addInitializer?e.addInitializer(v):v(),h}function ho(t){if(t instanceof ke)for(const[e,n]of t._preUpgradeValues){if(!(e in t))continue;t._preUpgradeValues.delete(e);const r=Object.getOwnPropertyDescriptor(t,e);r&&"value"in r&&delete t[e],t[e]=n}}const po=io;var go=Object.defineProperty,mo=(t,e,n)=>e in t?go(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yo=(t,e,n)=>(mo(t,typeof e!="symbol"?e+"":e,n),n);let ms;var _o=$e("<slot>");function ys(t,e,n,r,c,s){function o(_,E,C){return function(p,S){return C&&C(p),_[E].call(p,S)}}function a(_,E){for(var C=0;C<_.length;C++)_[C].call(E);return E}function h(_,E,C,p){if(typeof _!="function"&&(p||_!==void 0))throw new TypeError(E+" must "+(C||"be")+" a function"+(p?"":" or undefined"));return _}function u(_,E,C,p,S,A,P,y,i,g,d,l,f){function b(j){if(!f(j))throw new TypeError("Attempted to access private element on non-instance")}var T,N=E[0],k=E[3],x=!y;if(!x){C||Array.isArray(N)||(N=[N]);var O={},F=[],G=S===3?"get":S===4||l?"set":"value";g?(d||l?O={get:br(function(){return k(this)},p,"get"),set:function(j){E[4](this,j)}}:O[G]=k,d||br(O[G],p,S===2?"":G)):d||(O=Object.getOwnPropertyDescriptor(_,p))}for(var M=_,X=N.length-1;X>=0;X-=C?2:1){var ne=N[X],ee=C?N[X-1]:void 0,V={},z={kind:["field","accessor","method","getter","setter","class"][S],name:p,metadata:A,addInitializer:function(j,U){if(j.v)throw Error("attempted to call addInitializer after decoration was finished");h(U,"An initializer","be",!0),P.push(U)}.bind(null,V)};try{if(x)(T=h(ne.call(ee,M,z),"class decorators","return"))&&(M=T);else{var q,te;z.static=i,z.private=g,g?S===2?q=function(j){return b(j),O.value}:(S<4&&(q=o(O,"get",b)),S!==3&&(te=o(O,"set",b))):(q=function(j){return j[p]},(S<2||S===4)&&(te=function(j,U){j[p]=U}));var L=z.access={has:g?f.bind():function(j){return p in j}};if(q&&(L.get=q),te&&(L.set=te),M=ne.call(ee,l?{get:O.get,set:O.set}:O[G],z),l){if(typeof M=="object"&&M)(T=h(M.get,"accessor.get"))&&(O.get=T),(T=h(M.set,"accessor.set"))&&(O.set=T),(T=h(M.init,"accessor.init"))&&F.push(T);else if(M!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else h(M,(d?"field":"method")+" decorators","return")&&(d?F.push(M):O[G]=M)}}finally{V.v=!0}}return(d||l)&&y.push(function(j,U){for(var Z=F.length-1;Z>=0;Z--)U=F[Z].call(j,U);return U}),d||x||(g?l?y.push(o(O,"get"),o(O,"set")):y.push(S===2?O[G]:o.call.bind(O[G])):Object.defineProperty(_,p,O)),M}function v(_,E){return Object.defineProperty(_,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:E})}if(arguments.length>=6)var m=s[Symbol.metadata||Symbol.for("Symbol.metadata")];var w=Object.create(m??null),I=function(_,E,C,p){var S,A,P=[],y=function(G){return wo(G)===_},i=new Map;function g(G){G&&P.push(a.bind(null,G))}for(var d=0;d<E.length;d++){var l=E[d];if(Array.isArray(l)){var f=l[1],b=l[2],T=l.length>3,N=16&f,k=!!(8&f),x=(f&=7)==0,O=b+"/"+k;if(!x&&!T){var F=i.get(O);if(F===!0||F===3&&f!==4||F===4&&f!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+b);i.set(O,!(f>2)||f)}u(k?_:_.prototype,l,N,T?"#"+b:bo(b),f,p,k?A=A||[]:S=S||[],P,k,T,x,f===1,k&&T?y:C)}}return g(S),g(A),P}(t,e,c,w);return n.length||v(t,w),{e:I,get c(){var _=[];return n.length&&[v(u(t,[n],r,t.name,5,w,_),w),a.bind(null,_,t)]}}}function bo(t){var e=vo(t,"string");return typeof e=="symbol"?e:e+""}function vo(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function br(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function wo(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}const Vn=class extends ke{value=ms(this,void 0);template=()=>(()=>{var e=_o();return e._$owner=Ie(),e})()};[ms]=ys(Vn,[[ft,0,"value"]],[],0,void 0,ke).e;yo(Vn,"css",po`
    :host {
      display: contents;
    }
  `);let vr=Vn;function So(t,e){let n,r;r=[cn(t)];let c;return[c,n]=ys(class extends vr{},[],r,0,void 0,vr).c,n(),function(a){let h=a.parentElement;for(;h;){if(h instanceof c)return()=>h.value;h=h.parentElement}if(e)return e;throw`Should use ${a.tagName} inside ${t} tag`}}const[Ao,Ic]=Je(()=>{const[t,e]=ue();return[t,e]}),Xn=So("repl-runtime",Ao);function _s(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var c=t.length;for(e=0;e<c;e++)t[e]&&(n=_s(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function To(){for(var t,e,n=0,r="",c=arguments.length;n<c;n++)(t=arguments[n])&&(e=_s(t))&&(r&&(r+=" "),r+=e);return r}const Co="_repl_ogjuc_1",Eo="_resizing_ogjuc_17",Po="_editor_ogjuc_7",Oo="_frame_ogjuc_25",No={repl:Co,"editor-container":"_editor-container_ogjuc_7",resizing:Eo,editor:Po,frame:Oo};var wr=Object.freeze,ko=Object.defineProperty,Ro=(t,e)=>wr(ko(t,"raw",{value:wr(e||t.slice())})),Sr,Io=$e("<iframe>");function Jn(t){const e=$o();return we(Jn.Standalone,ct({runtime:e},t))}Jn.Standalone=function(t){const e=ct({name:"default"},t),[,n]=Nn(e,["class"]),r=as(Sr||(Sr=Ro([`<!doctype html>
    <html lang="en">
      <meta charset="utf-8" />
      <title>DevTools</title>
      <style>
        @media (prefers-color-scheme: dark) {
          body {
            background-color: rgb(41 42 45);
          }
        }
      </style>
      <meta name="referrer" content="no-referrer" />
      <script src="https://unpkg.com/@ungap/custom-elements/es.js"><\/script>
      <script
        type="module"
        src="https://cdn.jsdelivr.net/npm/chii@1.8.0/public/front_end/entrypoints/chii_app/chii_app.js"
      ><\/script>
      <body class="undocked" id="-blink-dev-tools"></body>
    </html>`]))),c=cs`
    import('https://cdn.jsdelivr.net/npm/chobitsu').then(shobitsu => {
      const sendToDevtools = (message) => {
        window.parent.postMessage(JSON.stringify(message), '*');
      };
      let id = 0;
      const sendToChobitsu = (message) => {
        message.id = 'tmp' + ++id;
        chobitsu.sendRawMessage(JSON.stringify(message));
      };
      chobitsu.setOnMessage((message) => {
        if (message.includes('"id":"tmp')) return;
        window.parent.postMessage(message, '*');
      });
      window.addEventListener('message', ({ data }) => {
        try {
          const { event, value } = data;
          if (event === 'DEV') {
            chobitsu.sendRawMessage(data.data);
          } else if (event === 'LOADED') {
            sendToDevtools({
              method: 'Page.frameNavigated',
              params: {
                frame: {
                  id: '1',
                  mimeType: 'text/html',
                  securityOrigin: location.origin,
                  url: location.href,
                },
                type: 'Navigation',
              },
            });
            sendToChobitsu({ method: 'Network.enable' });
            sendToDevtools({ method: 'Runtime.executionContextsCleared' });
            sendToChobitsu({ method: 'Runtime.enable' });
            sendToChobitsu({ method: 'Debugger.enable' });
            sendToChobitsu({ method: 'DOMStorage.enable' });
            sendToChobitsu({ method: 'DOM.enable' });
            sendToChobitsu({ method: 'CSS.enable' });
            sendToChobitsu({ method: 'Overlay.enable' });
            sendToDevtools({ method: 'DOM.documentUpdated' });
          }
        } catch (e) {
          console.error(e);
        }
      });
    })`,s=(()=>{var a=Io();return ns(a,ct({get src(){return`${r}#?embedded=${encodeURIComponent(location.origin)}`},get class(){return To(e.class,No.frame)}},n),!1,!1),a})(),[o]=Be(()=>t.runtime.frames.get(e.name),a=>a.contentWindow.document.readyState==="interactive"?a:new Promise(h=>{const u=()=>{h(a),a.contentWindow.removeEventListener("DOMContentLoaded",u)};a.contentWindow.addEventListener("DOMContentLoaded",u)}));return be(Jt(o,a=>{const h=u=>{u.source===a.contentWindow&&s.contentWindow.postMessage(u.data,"*"),u.source===s.contentWindow&&a.contentWindow.postMessage({event:"DEV",data:u.data},"*")};window.addEventListener("message",h),Ae(()=>window.removeEventListener("message",h))})),be(Jt(o,a=>a.injectModuleUrl(c))),s};const xo=Jr(),$o=()=>{const t=Yr(xo);if(!t)throw"useRuntime should be used inside <Repl/>";return t};let bs,vs,ws;function Lo(t,e,n,r,c,s){function o(_,E,C){return function(p,S){return C&&C(p),_[E].call(p,S)}}function a(_,E){for(var C=0;C<_.length;C++)_[C].call(E);return E}function h(_,E,C,p){if(typeof _!="function"&&(p||_!==void 0))throw new TypeError(E+" must "+(C||"be")+" a function"+(p?"":" or undefined"));return _}function u(_,E,C,p,S,A,P,y,i,g,d,l,f){function b(j){if(!f(j))throw new TypeError("Attempted to access private element on non-instance")}var T,N=E[0],k=E[3],x=!y;if(!x){C||Array.isArray(N)||(N=[N]);var O={},F=[],G=S===3?"get":S===4||l?"set":"value";g?(d||l?O={get:Ar(function(){return k(this)},p,"get"),set:function(j){E[4](this,j)}}:O[G]=k,d||Ar(O[G],p,S===2?"":G)):d||(O=Object.getOwnPropertyDescriptor(_,p))}for(var M=_,X=N.length-1;X>=0;X-=C?2:1){var ne=N[X],ee=C?N[X-1]:void 0,V={},z={kind:["field","accessor","method","getter","setter","class"][S],name:p,metadata:A,addInitializer:function(j,U){if(j.v)throw Error("attempted to call addInitializer after decoration was finished");h(U,"An initializer","be",!0),P.push(U)}.bind(null,V)};try{if(x)(T=h(ne.call(ee,M,z),"class decorators","return"))&&(M=T);else{var q,te;z.static=i,z.private=g,g?S===2?q=function(j){return b(j),O.value}:(S<4&&(q=o(O,"get",b)),S!==3&&(te=o(O,"set",b))):(q=function(j){return j[p]},(S<2||S===4)&&(te=function(j,U){j[p]=U}));var L=z.access={has:g?f.bind():function(j){return p in j}};if(q&&(L.get=q),te&&(L.set=te),M=ne.call(ee,l?{get:O.get,set:O.set}:O[G],z),l){if(typeof M=="object"&&M)(T=h(M.get,"accessor.get"))&&(O.get=T),(T=h(M.set,"accessor.set"))&&(O.set=T),(T=h(M.init,"accessor.init"))&&F.push(T);else if(M!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else h(M,(d?"field":"method")+" decorators","return")&&(d?F.push(M):O[G]=M)}}finally{V.v=!0}}return(d||l)&&y.push(function(j,U){for(var Z=F.length-1;Z>=0;Z--)U=F[Z].call(j,U);return U}),d||x||(g?l?y.push(o(O,"get"),o(O,"set")):y.push(S===2?O[G]:o.call.bind(O[G])):Object.defineProperty(_,p,O)),M}function v(_,E){return Object.defineProperty(_,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:E})}if(arguments.length>=6)var m=s[Symbol.metadata||Symbol.for("Symbol.metadata")];var w=Object.create(m??null),I=function(_,E,C,p){var S,A,P=[],y=function(G){return Do(G)===_},i=new Map;function g(G){G&&P.push(a.bind(null,G))}for(var d=0;d<E.length;d++){var l=E[d];if(Array.isArray(l)){var f=l[1],b=l[2],T=l.length>3,N=16&f,k=!!(8&f),x=(f&=7)==0,O=b+"/"+k;if(!x&&!T){var F=i.get(O);if(F===!0||F===3&&f!==4||F===4&&f!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+b);i.set(O,!(f>2)||f)}u(k?_:_.prototype,l,N,T?"#"+b:Mo(b),f,p,k?A=A||[]:S=S||[],P,k,T,x,f===1,k&&T?y:C)}}return g(S),g(A),P}(t,e,c,w);return n.length||v(t,w),{e:I,get c(){var _=[];return n.length&&[v(u(t,[n],r,t.name,5,w,_),w),a.bind(null,_,t)]}}}function Mo(t){var e=jo(t,"string");return typeof e=="symbol"?e:e+""}function jo(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ar(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function Do(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}vs=[cn("repl-devtools")];let Ss;const Go=class extends ke{name=ws(this,"default");template=()=>{const e=this,n=Xn(this);return we(At,{get when(){return n()},children:r=>we(Jn.Standalone,{get name(){return e.name},get runtime(){return r()}})})}};({e:[ws],c:[Ss,bs]}=Lo(Go,[[en,0,"name"]],vs,0,void 0,ke));bs();function Bo(){customElements.get("repl-frame")||customElements.define("repl-frame",Ss)}var _n;let Tr,As,Cr,Er,Pr;var Fo=$e("<iframe class=iframe>");function Wo(t,e,n,r,c,s){function o(_,E,C){return function(p,S){return C&&C(p),_[E].call(p,S)}}function a(_,E){for(var C=0;C<_.length;C++)_[C].call(E);return E}function h(_,E,C,p){if(typeof _!="function"&&(p||_!==void 0))throw new TypeError(E+" must "+(C||"be")+" a function"+(p?"":" or undefined"));return _}function u(_,E,C,p,S,A,P,y,i,g,d,l,f){function b(j){if(!f(j))throw new TypeError("Attempted to access private element on non-instance")}var T,N=E[0],k=E[3],x=!y;if(!x){C||Array.isArray(N)||(N=[N]);var O={},F=[],G=S===3?"get":S===4||l?"set":"value";g?(d||l?O={get:Or(function(){return k(this)},p,"get"),set:function(j){E[4](this,j)}}:O[G]=k,d||Or(O[G],p,S===2?"":G)):d||(O=Object.getOwnPropertyDescriptor(_,p))}for(var M=_,X=N.length-1;X>=0;X-=C?2:1){var ne=N[X],ee=C?N[X-1]:void 0,V={},z={kind:["field","accessor","method","getter","setter","class"][S],name:p,metadata:A,addInitializer:function(j,U){if(j.v)throw Error("attempted to call addInitializer after decoration was finished");h(U,"An initializer","be",!0),P.push(U)}.bind(null,V)};try{if(x)(T=h(ne.call(ee,M,z),"class decorators","return"))&&(M=T);else{var q,te;z.static=i,z.private=g,g?S===2?q=function(j){return b(j),O.value}:(S<4&&(q=o(O,"get",b)),S!==3&&(te=o(O,"set",b))):(q=function(j){return j[p]},(S<2||S===4)&&(te=function(j,U){j[p]=U}));var L=z.access={has:g?f.bind():function(j){return p in j}};if(q&&(L.get=q),te&&(L.set=te),M=ne.call(ee,l?{get:O.get,set:O.set}:O[G],z),l){if(typeof M=="object"&&M)(T=h(M.get,"accessor.get"))&&(O.get=T),(T=h(M.set,"accessor.set"))&&(O.set=T),(T=h(M.init,"accessor.init"))&&F.push(T);else if(M!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else h(M,(d?"field":"method")+" decorators","return")&&(d?F.push(M):O[G]=M)}}finally{V.v=!0}}return(d||l)&&y.push(function(j,U){for(var Z=F.length-1;Z>=0;Z--)U=F[Z].call(j,U);return U}),d||x||(g?l?y.push(o(O,"get"),o(O,"set")):y.push(S===2?O[G]:o.call.bind(O[G])):Object.defineProperty(_,p,O)),M}function v(_,E){return Object.defineProperty(_,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:E})}if(arguments.length>=6)var m=s[Symbol.metadata||Symbol.for("Symbol.metadata")];var w=Object.create(m??null),I=function(_,E,C,p){var S,A,P=[],y=function(G){return Ho(G)===_},i=new Map;function g(G){G&&P.push(a.bind(null,G))}for(var d=0;d<E.length;d++){var l=E[d];if(Array.isArray(l)){var f=l[1],b=l[2],T=l.length>3,N=16&f,k=!!(8&f),x=(f&=7)==0,O=b+"/"+k;if(!x&&!T){var F=i.get(O);if(F===!0||F===3&&f!==4||F===4&&f!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+b);i.set(O,!(f>2)||f)}u(k?_:_.prototype,l,N,T?"#"+b:Uo(b),f,p,k?A=A||[]:S=S||[],P,k,T,x,f===1,k&&T?y:C)}}return g(S),g(A),P}(t,e,c,w);return n.length||v(t,w),{e:I,get c(){var _=[];return n.length&&[v(u(t,[n],r,t.name,5,w,_),w),a.bind(null,_,t)]}}}function Uo(t){var e=zo(t,"string");return typeof e=="symbol"?e:e+""}function zo(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Or(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function Ho(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}function qo(t){return t}class Ko extends Event{constructor(e){super("ready"),this.frame=e}}As=[cn("repl-frame")];let xn;new class extends qo{static[(_n=class extends ke{name=Cr(this,"default");runtime=Er(this,null);frame=Pr(this,null);template=()=>{const t=this,e=Xn(this),n=()=>this.runtime===null?e():this.runtime;return(()=>{var r=Fo();return bt(c=>{Vr(()=>{if(!c.contentWindow){console.error(...ds("contentWindow is not defined on iframe:",c));return}const s=()=>{t.frame=new Mi(c.contentWindow),c.contentWindow?.removeEventListener("DOMContentLoaded",s),t.dispatchEvent(new Ko(t.frame))};c.contentWindow.addEventListener("DOMContentLoaded",s),t.createEffect(Kr(n,o=>{if(o){if(o.frames.has(t.name)){console.warn(`A frame with the same name already exist: ${t.name}`);return}o.frames.add(t.name,t.frame),Ae(()=>o.frames.delete(t.name))}}))})},r),lt(r,"src",as`<!doctype html>
          <html>
            <head>
              <meta charset="UTF-8" />
              <meta name="viewport" content="width=device-width, initial-scale=1.0" />
            </head>
            <body></body>
          </html>`),r})()}},{e:[Cr,Er,Pr],c:[xn,Tr]}=Wo(_n,[[en,0,"name"],[ft,0,"runtime"],[ft,0,"frame"]],As,0,void 0,ke),_n)];css=`
    :host {
      display: block;

      & iframe {
        border: none;
        position: absolute;
        height: 100%;
        width: 100%;
      }
    }
  `;constructor(){super(xn),Tr()}};function Vo(){customElements.get("repl-frame")||customElements.define("repl-frame",xn)}Vo();Bo();const Xo=t=>t[t.length-1];let bn="https://esm.sh";const vn={theme:{},grammar:{}};function Ts(t,e){switch(t){case"theme":return`${bn}/tm-themes/themes/${e}.json`;case"grammar":return`${bn}/tm-grammars/grammars/${e}.json`;case"oniguruma":return`${bn}/vscode-oniguruma/release/onig.wasm`}}async function Cs(t,e){if(e in vn[t])return vn[t][e];const n=Ts(t,e);return vn[t][e]=typeof n!="string"?n:fetch(n).then(r=>r.ok?r.json():null).catch(console.error)}var Jo=Object.defineProperty,Yo=(t,e,n)=>e in t?Jo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qo=(t,e,n)=>(Yo(t,typeof e!="symbol"?e+"":e,n),n),Zo=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Ve=(t,e,n)=>(Zo(t,e,"read from private field"),n?n.call(t):e.get(t)),Es=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},rt,_t;function ea(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const c in r)if(c!=="default"&&!(c in t)){const s=Object.getOwnPropertyDescriptor(r,c);s&&Object.defineProperty(t,c,s.get?s:{enumerable:!0,get:()=>r[c]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Nr={equals:!1};function ta(t,e,n){let r=!1,c=!0;const[s,o]=ue(void 0,Nr),a=fe(h=>r?t(h):(c=!s(),h),e,Nr);return()=>{r=!0,c&&(c=o());const h=a();return r=!1,h}}function Ps(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var c=t.length;for(e=0;e<c;e++)t[e]&&(n=Ps(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function na(){for(var t,e,n=0,r="",c=arguments.length;n<c;n++)(t=arguments[n])&&(e=Ps(t))&&(r&&(r+=" "),r+=e);return r}var Os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ra(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ns={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Os,()=>{return n={770:function(c,s,o){var a=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(s,"__esModule",{value:!0}),s.setDefaultDebugCall=s.createOnigScanner=s.createOnigString=s.loadWASM=s.OnigScanner=s.OnigString=void 0;const h=a(o(418));let u=null,v=!1;class m{static _utf8ByteLength(p){let S=0;for(let A=0,P=p.length;A<P;A++){const y=p.charCodeAt(A);let i=y,g=!1;if(y>=55296&&y<=56319&&A+1<P){const d=p.charCodeAt(A+1);d>=56320&&d<=57343&&(i=65536+(y-55296<<10)|d-56320,g=!0)}S+=i<=127?1:i<=2047?2:i<=65535?3:4,g&&A++}return S}constructor(p){const S=p.length,A=m._utf8ByteLength(p),P=A!==S,y=P?new Uint32Array(S+1):null;P&&(y[S]=A);const i=P?new Uint32Array(A+1):null;P&&(i[A]=S);const g=new Uint8Array(A);let d=0;for(let l=0;l<S;l++){const f=p.charCodeAt(l);let b=f,T=!1;if(f>=55296&&f<=56319&&l+1<S){const N=p.charCodeAt(l+1);N>=56320&&N<=57343&&(b=65536+(f-55296<<10)|N-56320,T=!0)}P&&(y[l]=d,T&&(y[l+1]=d),b<=127?i[d+0]=l:b<=2047?(i[d+0]=l,i[d+1]=l):b<=65535?(i[d+0]=l,i[d+1]=l,i[d+2]=l):(i[d+0]=l,i[d+1]=l,i[d+2]=l,i[d+3]=l)),b<=127?g[d++]=b:b<=2047?(g[d++]=192|(1984&b)>>>6,g[d++]=128|(63&b)>>>0):b<=65535?(g[d++]=224|(61440&b)>>>12,g[d++]=128|(4032&b)>>>6,g[d++]=128|(63&b)>>>0):(g[d++]=240|(1835008&b)>>>18,g[d++]=128|(258048&b)>>>12,g[d++]=128|(4032&b)>>>6,g[d++]=128|(63&b)>>>0),T&&l++}this.utf16Length=S,this.utf8Length=A,this.utf16Value=p,this.utf8Value=g,this.utf16OffsetToUtf8=y,this.utf8OffsetToUtf16=i}createString(p){const S=p._omalloc(this.utf8Length);return p.HEAPU8.set(this.utf8Value,S),S}}class w{constructor(p){if(this.id=++w.LAST_ID,!u)throw new Error("Must invoke loadWASM first.");this._onigBinding=u,this.content=p;const S=new m(p);this.utf16Length=S.utf16Length,this.utf8Length=S.utf8Length,this.utf16OffsetToUtf8=S.utf16OffsetToUtf8,this.utf8OffsetToUtf16=S.utf8OffsetToUtf16,this.utf8Length<1e4&&!w._sharedPtrInUse?(w._sharedPtr||(w._sharedPtr=u._omalloc(1e4)),w._sharedPtrInUse=!0,u.HEAPU8.set(S.utf8Value,w._sharedPtr),this.ptr=w._sharedPtr):this.ptr=S.createString(u)}convertUtf8OffsetToUtf16(p){return this.utf8OffsetToUtf16?p<0?0:p>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[p]:p}convertUtf16OffsetToUtf8(p){return this.utf16OffsetToUtf8?p<0?0:p>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[p]:p}dispose(){this.ptr===w._sharedPtr?w._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}s.OnigString=w,w.LAST_ID=0,w._sharedPtr=0,w._sharedPtrInUse=!1;class I{constructor(p,S){var A,P;if(!u)throw new Error("Must invoke loadWASM first.");const y=[],i=[];for(let T=0,N=p.length;T<N;T++){const k=new m(p[T]);y[T]=k.createString(u),i[T]=k.utf8Length}const g=u._omalloc(4*p.length);u.HEAPU32.set(y,g/4);const d=u._omalloc(4*p.length);u.HEAPU32.set(i,d/4),this._onigBinding=u,this._options=(A=S?.options)!==null&&A!==void 0?A:[10];const l=this.onigOptions(this._options),f=this.onigSyntax((P=S?.syntax)!==null&&P!==void 0?P:0),b=u._createOnigScanner(g,d,p.length,l,f);this._ptr=b;for(let T=0,N=p.length;T<N;T++)u._ofree(y[T]);u._ofree(d),u._ofree(g),b===0&&function(T){throw new Error(T.UTF8ToString(T._getLastOnigError()))}(u)}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(p,S,A){let P=v,y=this._options;if(Array.isArray(A)?(A.includes(25)&&(P=!0),y=y.concat(A)):typeof A=="boolean"&&(P=A),typeof p=="string"){p=new w(p);const i=this._findNextMatchSync(p,S,P,y);return p.dispose(),i}return this._findNextMatchSync(p,S,P,y)}_findNextMatchSync(p,S,A,P){const y=this._onigBinding,i=this.onigOptions(P);let g;if(g=A?y._findNextOnigScannerMatchDbg(this._ptr,p.id,p.ptr,p.utf8Length,p.convertUtf16OffsetToUtf8(S),i):y._findNextOnigScannerMatch(this._ptr,p.id,p.ptr,p.utf8Length,p.convertUtf16OffsetToUtf8(S),i),g===0)return null;const d=y.HEAPU32;let l=g/4;const f=d[l++],b=d[l++];let T=[];for(let N=0;N<b;N++){const k=p.convertUtf8OffsetToUtf16(d[l++]),x=p.convertUtf8OffsetToUtf16(d[l++]);T[N]={start:k,end:x,length:x-k}}return{index:f,captureIndices:T}}onigOptions(p){return p.map(S=>this.onigOption(S)).reduce((S,A)=>S|A,this._onigBinding.ONIG_OPTION_NONE)}onigSyntax(p){switch(p){case 0:return this._onigBinding.ONIG_SYNTAX_DEFAULT;case 1:return this._onigBinding.ONIG_SYNTAX_ASIS;case 2:return this._onigBinding.ONIG_SYNTAX_POSIX_BASIC;case 3:return this._onigBinding.ONIG_SYNTAX_POSIX_EXTENDED;case 4:return this._onigBinding.ONIG_SYNTAX_EMACS;case 5:return this._onigBinding.ONIG_SYNTAX_GREP;case 6:return this._onigBinding.ONIG_SYNTAX_GNU_REGEX;case 7:return this._onigBinding.ONIG_SYNTAX_JAVA;case 8:return this._onigBinding.ONIG_SYNTAX_PERL;case 9:return this._onigBinding.ONIG_SYNTAX_PERL_NG;case 10:return this._onigBinding.ONIG_SYNTAX_RUBY;case 11:return this._onigBinding.ONIG_SYNTAX_PYTHON;case 12:return this._onigBinding.ONIG_SYNTAX_ONIGURUMA}}onigOption(p){switch(p){case 1:return this._onigBinding.ONIG_OPTION_NONE;case 0:case 25:return this._onigBinding.ONIG_OPTION_DEFAULT;case 2:return this._onigBinding.ONIG_OPTION_IGNORECASE;case 3:return this._onigBinding.ONIG_OPTION_EXTEND;case 4:return this._onigBinding.ONIG_OPTION_MULTILINE;case 5:return this._onigBinding.ONIG_OPTION_SINGLELINE;case 6:return this._onigBinding.ONIG_OPTION_FIND_LONGEST;case 7:return this._onigBinding.ONIG_OPTION_FIND_NOT_EMPTY;case 8:return this._onigBinding.ONIG_OPTION_NEGATE_SINGLELINE;case 9:return this._onigBinding.ONIG_OPTION_DONT_CAPTURE_GROUP;case 10:return this._onigBinding.ONIG_OPTION_CAPTURE_GROUP;case 11:return this._onigBinding.ONIG_OPTION_NOTBOL;case 12:return this._onigBinding.ONIG_OPTION_NOTEOL;case 13:return this._onigBinding.ONIG_OPTION_CHECK_VALIDITY_OF_STRING;case 14:return this._onigBinding.ONIG_OPTION_IGNORECASE_IS_ASCII;case 15:return this._onigBinding.ONIG_OPTION_WORD_IS_ASCII;case 16:return this._onigBinding.ONIG_OPTION_DIGIT_IS_ASCII;case 17:return this._onigBinding.ONIG_OPTION_SPACE_IS_ASCII;case 18:return this._onigBinding.ONIG_OPTION_POSIX_IS_ASCII;case 19:return this._onigBinding.ONIG_OPTION_TEXT_SEGMENT_EXTENDED_GRAPHEME_CLUSTER;case 20:return this._onigBinding.ONIG_OPTION_TEXT_SEGMENT_WORD;case 21:return this._onigBinding.ONIG_OPTION_NOT_BEGIN_STRING;case 22:return this._onigBinding.ONIG_OPTION_NOT_END_STRING;case 23:return this._onigBinding.ONIG_OPTION_NOT_BEGIN_POSITION;case 24:return this._onigBinding.ONIG_OPTION_CALLBACK_EACH_MATCH}}}s.OnigScanner=I;let _=!1,E=null;s.loadWASM=function(C){if(_)return E;let p,S,A,P;if(_=!0,function(y){return typeof y.instantiator=="function"}(C))p=C.instantiator,S=C.print;else{let y;(function(i){return i.data!==void 0})(C)?(y=C.data,S=C.print):y=C,p=function(i){return typeof Response<"u"&&i instanceof Response}(y)?typeof WebAssembly.instantiateStreaming=="function"?function(i){return g=>WebAssembly.instantiateStreaming(i,g)}(y):function(i){return async g=>{const d=await i.arrayBuffer();return WebAssembly.instantiate(d,g)}}(y):function(i){return g=>WebAssembly.instantiate(i,g)}(y)}return E=new Promise((y,i)=>{A=y,P=i}),function(y,i,g,d){(0,h.default)({print:i,instantiateWasm:(l,f)=>{if(typeof performance>"u"){const b=()=>Date.now();l.env.emscripten_get_now=b,l.wasi_snapshot_preview1.emscripten_get_now=b}return y(l).then(b=>f(b.instance),d),{}}}).then(l=>{u=l,g()})}(p,S,A,P),E},s.createOnigString=function(C){return new w(C)},s.createOnigScanner=function(C){return new I(C)},s.setDefaultDebugCall=function(C){v=C}},418:c=>{var s=(typeof document<"u"&&document.currentScript&&document.currentScript.src,function(o={}){var a,h,u=o;u.ready=new Promise((R,$)=>{a=R,h=$});var v,m=Object.assign({},u);typeof read<"u"&&read,v=R=>{if(typeof readbuffer=="function")return new Uint8Array(readbuffer(R));let $=read(R,"binary");return typeof $=="object"||x(B),$;var B},typeof clearTimeout>"u"&&(globalThis.clearTimeout=R=>{}),typeof setTimeout>"u"&&(globalThis.setTimeout=R=>typeof R=="function"?R():x()),typeof scriptArgs<"u"&&scriptArgs,typeof onig_print<"u"&&(typeof console>"u"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr<"u"?printErr:onig_print);var w,I,_=u.print||console.log.bind(console),E=u.printErr||console.error.bind(console);Object.assign(u,m),m=null,u.arguments&&u.arguments,u.thisProgram&&u.thisProgram,u.quit&&u.quit,u.wasmBinary&&(w=u.wasmBinary),u.noExitRuntime,typeof WebAssembly!="object"&&x("no native wasm support detected");var C,p,S,A,P,y,i,g,d=!1;function l(){var R=I.buffer;u.HEAP8=C=new Int8Array(R),u.HEAP16=S=new Int16Array(R),u.HEAPU8=p=new Uint8Array(R),u.HEAPU16=A=new Uint16Array(R),u.HEAP32=P=new Int32Array(R),u.HEAPU32=y=new Uint32Array(R),u.HEAPF32=i=new Float32Array(R),u.HEAPF64=g=new Float64Array(R)}var f=[],b=[],T=[],N=0,k=null;function x(R){u.onAbort&&u.onAbort(R),E(R="Aborted("+R+")"),d=!0,R+=". Build with -sASSERTIONS for more info.";var $=new WebAssembly.RuntimeError(R);throw h($),$}var O,F;function G(R){return R.startsWith("data:application/octet-stream;base64,")}function M(R){if(R==O&&w)return new Uint8Array(w);if(v)return v(R);throw"both async and sync fetching of the wasm failed"}function X(R,$,B){return function(D){return Promise.resolve().then(()=>M(D))}(R).then(D=>WebAssembly.instantiate(D,$)).then(D=>D).then(B,D=>{E(`failed to asynchronously prepare wasm: ${D}`),x(D)})}G(O="onig.wasm")||(F=O,O=u.locateFile?u.locateFile(F,""):""+F);var ne=R=>{for(;R.length>0;)R.shift()(u)},ee=void 0,V=R=>{for(var $="",B=R;p[B];)$+=ee[p[B++]];return $},z={},q={},te=void 0,L=R=>{throw new te(R)},j=void 0,U=(R,$,B)=>{function D(Y){var J=B(Y);J.length!==R.length&&(le=>{throw new j(le)})("Mismatched type converter count");for(var Q=0;Q<R.length;++Q)Z(R[Q],J[Q])}R.forEach(function(Y){});var W=new Array($.length),H=[],K=0;$.forEach((Y,J)=>{q.hasOwnProperty(Y)?W[J]=q[Y]:(H.push(Y),z.hasOwnProperty(Y)||(z[Y]=[]),z[Y].push(()=>{W[J]=q[Y],++K===H.length&&D(W)}))}),H.length===0&&D(W)};function Z(R,$,B={}){if(!("argPackAdvance"in $))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(D,W,H={}){var K=W.name;if(D||L(`type "${K}" must have a positive integer typeid pointer`),q.hasOwnProperty(D)){if(H.ignoreDuplicateRegistrations)return;L(`Cannot register type '${K}' twice`)}if(q[D]=W,z.hasOwnProperty(D)){var Y=z[D];delete z[D],Y.forEach(J=>J())}}(R,$,B)}function Le(){this.allocated=[void 0],this.freelist=[]}var ye=new Le,We=()=>{for(var R=0,$=ye.reserved;$<ye.allocated.length;++$)ye.allocated[$]!==void 0&&++R;return R},Me=R=>(R||L("Cannot use deleted val. handle = "+R),ye.get(R).value),Ze=R=>{switch(R){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ye.allocate({refcount:1,value:R})}};function je(R){return this.fromWireType(P[R>>2])}var Ue=(R,$)=>{switch($){case 4:return function(B){return this.fromWireType(i[B>>2])};case 8:return function(B){return this.fromWireType(g[B>>3])};default:throw new TypeError(`invalid float width (${$}): ${R}`)}},ze=(R,$,B)=>{switch($){case 1:return B?D=>C[D>>0]:D=>p[D>>0];case 2:return B?D=>S[D>>1]:D=>A[D>>1];case 4:return B?D=>P[D>>2]:D=>y[D>>2];default:throw new TypeError(`invalid integer width (${$}): ${R}`)}};function De(R){return this.fromWireType(y[R>>2])}var ve,He=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,et=(R,$,B)=>{for(var D=$+B,W=$;R[W]&&!(W>=D);)++W;if(W-$>16&&R.buffer&&He)return He.decode(R.subarray($,W));for(var H="";$<W;){var K=R[$++];if(128&K){var Y=63&R[$++];if((224&K)!=192){var J=63&R[$++];if((K=(240&K)==224?(15&K)<<12|Y<<6|J:(7&K)<<18|Y<<12|J<<6|63&R[$++])<65536)H+=String.fromCharCode(K);else{var Q=K-65536;H+=String.fromCharCode(55296|Q>>10,56320|1023&Q)}}else H+=String.fromCharCode((31&K)<<6|Y)}else H+=String.fromCharCode(K)}return H},Rt=(R,$)=>R?et(p,R,$):"",qe=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,un=(R,$)=>{for(var B=R,D=B>>1,W=D+$/2;!(D>=W)&&A[D];)++D;if((B=D<<1)-R>32&&qe)return qe.decode(p.subarray(R,B));for(var H="",K=0;!(K>=$/2);++K){var Y=S[R+2*K>>1];if(Y==0)break;H+=String.fromCharCode(Y)}return H},It=(R,$,B)=>{if(B===void 0&&(B=2147483647),B<2)return 0;for(var D=$,W=(B-=2)<2*R.length?B/2:R.length,H=0;H<W;++H){var K=R.charCodeAt(H);S[$>>1]=K,$+=2}return S[$>>1]=0,$-D},fn=R=>2*R.length,tt=(R,$)=>{for(var B=0,D="";!(B>=$/4);){var W=P[R+4*B>>2];if(W==0)break;if(++B,W>=65536){var H=W-65536;D+=String.fromCharCode(55296|H>>10,56320|1023&H)}else D+=String.fromCharCode(W)}return D},xt=(R,$,B)=>{if(B===void 0&&(B=2147483647),B<4)return 0;for(var D=$,W=D+B-4,H=0;H<R.length;++H){var K=R.charCodeAt(H);if(K>=55296&&K<=57343&&(K=65536+((1023&K)<<10)|1023&R.charCodeAt(++H)),P[$>>2]=K,($+=4)+4>W)break}return P[$>>2]=0,$-D},Qs=R=>{for(var $=0,B=0;B<R.length;++B){var D=R.charCodeAt(B);D>=55296&&D<=57343&&++B,$+=4}return $};ve=()=>performance.now();var Zs=R=>{var $=(R-I.buffer.byteLength+65535)/65536;try{return I.grow($),l(),1}catch{}},ei=[null,[],[]];(()=>{for(var R=new Array(256),$=0;$<256;++$)R[$]=String.fromCharCode($);ee=R})(),te=u.BindingError=class extends Error{constructor(R){super(R),this.name="BindingError"}},j=u.InternalError=class extends Error{constructor(R){super(R),this.name="InternalError"}},Object.assign(Le.prototype,{get(R){return this.allocated[R]},has(R){return this.allocated[R]!==void 0},allocate(R){var $=this.freelist.pop()||this.allocated.length;return this.allocated[$]=R,$},free(R){this.allocated[R]=void 0,this.freelist.push(R)}}),ye.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),ye.reserved=ye.allocated.length,u.count_emval_handles=We;var $t,er={_embind_register_bigint:(R,$,B,D,W)=>{},_embind_register_bool:(R,$,B,D)=>{Z(R,{name:$=V($),fromWireType:function(W){return!!W},toWireType:function(W,H){return H?B:D},argPackAdvance:8,readValueFromPointer:function(W){return this.fromWireType(p[W])},destructorFunction:null})},_embind_register_constant:(R,$,B)=>{R=V(R),U([],[$],function(D){return D=D[0],u[R]=D.fromWireType(B),[]})},_embind_register_emval:(R,$)=>{Z(R,{name:$=V($),fromWireType:B=>{var D=Me(B);return(W=>{W>=ye.reserved&&--ye.get(W).refcount==0&&ye.free(W)})(B),D},toWireType:(B,D)=>Ze(D),argPackAdvance:8,readValueFromPointer:je,destructorFunction:null})},_embind_register_float:(R,$,B)=>{Z(R,{name:$=V($),fromWireType:D=>D,toWireType:(D,W)=>W,argPackAdvance:8,readValueFromPointer:Ue($,B),destructorFunction:null})},_embind_register_integer:(R,$,B,D,W)=>{$=V($);var H=J=>J;if(D===0){var K=32-8*B;H=J=>J<<K>>>K}var Y=$.includes("unsigned");Z(R,{name:$,fromWireType:H,toWireType:Y?function(J,Q){return this.name,Q>>>0}:function(J,Q){return this.name,Q},argPackAdvance:8,readValueFromPointer:ze($,B,D!==0),destructorFunction:null})},_embind_register_memory_view:(R,$,B)=>{var D=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][$];function W(H){var K=y[H>>2],Y=y[H+4>>2];return new D(C.buffer,Y,K)}Z(R,{name:B=V(B),fromWireType:W,argPackAdvance:8,readValueFromPointer:W},{ignoreDuplicateRegistrations:!0})},_embind_register_std_string:(R,$)=>{var B=($=V($))==="std::string";Z(R,{name:$,fromWireType:D=>{var W,H=y[D>>2],K=D+4;if(B)for(var Y=K,J=0;J<=H;++J){var Q=K+J;if(J==H||p[Q]==0){var le=Rt(Y,Q-Y);W===void 0?W=le:(W+=String.fromCharCode(0),W+=le),Y=Q+1}}else{var oe=new Array(H);for(J=0;J<H;++J)oe[J]=String.fromCharCode(p[K+J]);W=oe.join("")}return Ge(D),W},toWireType:(D,W)=>{var H;W instanceof ArrayBuffer&&(W=new Uint8Array(W));var K=typeof W=="string";K||W instanceof Uint8Array||W instanceof Uint8ClampedArray||W instanceof Int8Array||L("Cannot pass non-string to std::string"),H=B&&K?(oe=>{for(var ae=0,se=0;se<oe.length;++se){var Ce=oe.charCodeAt(se);Ce<=127?ae++:Ce<=2047?ae+=2:Ce>=55296&&Ce<=57343?(ae+=4,++se):ae+=3}return ae})(W):W.length;var Y=hn(4+H+1),J=Y+4;if(y[Y>>2]=H,B&&K)((oe,ae,se,Ce)=>{if(!(Ce>0))return 0;for(var dn=se,Lt=se+Ce-1,Mt=0;Mt<oe.length;++Mt){var he=oe.charCodeAt(Mt);if(he>=55296&&he<=57343&&(he=65536+((1023&he)<<10)|1023&oe.charCodeAt(++Mt)),he<=127){if(se>=Lt)break;ae[se++]=he}else if(he<=2047){if(se+1>=Lt)break;ae[se++]=192|he>>6,ae[se++]=128|63&he}else if(he<=65535){if(se+2>=Lt)break;ae[se++]=224|he>>12,ae[se++]=128|he>>6&63,ae[se++]=128|63&he}else{if(se+3>=Lt)break;ae[se++]=240|he>>18,ae[se++]=128|he>>12&63,ae[se++]=128|he>>6&63,ae[se++]=128|63&he}}ae[se]=0})(W,p,J,H+1);else if(K)for(var Q=0;Q<H;++Q){var le=W.charCodeAt(Q);le>255&&(Ge(J),L("String has UTF-16 code units that do not fit in 8 bits")),p[J+Q]=le}else for(Q=0;Q<H;++Q)p[J+Q]=W[Q];return D!==null&&D.push(Ge,Y),Y},argPackAdvance:8,readValueFromPointer:De,destructorFunction:D=>Ge(D)})},_embind_register_std_wstring:(R,$,B)=>{var D,W,H,K,Y;B=V(B),$===2?(D=un,W=It,K=fn,H=()=>A,Y=1):$===4&&(D=tt,W=xt,K=Qs,H=()=>y,Y=2),Z(R,{name:B,fromWireType:J=>{for(var Q,le=y[J>>2],oe=H(),ae=J+4,se=0;se<=le;++se){var Ce=J+4+se*$;if(se==le||oe[Ce>>Y]==0){var dn=D(ae,Ce-ae);Q===void 0?Q=dn:(Q+=String.fromCharCode(0),Q+=dn),ae=Ce+$}}return Ge(J),Q},toWireType:(J,Q)=>{typeof Q!="string"&&L(`Cannot pass non-string to C++ string type ${B}`);var le=K(Q),oe=hn(4+le+$);return y[oe>>2]=le>>Y,W(Q,oe+4,le+$),J!==null&&J.push(Ge,oe),oe},argPackAdvance:8,readValueFromPointer:je,destructorFunction:J=>Ge(J)})},_embind_register_void:(R,$)=>{Z(R,{isVoid:!0,name:$=V($),argPackAdvance:0,fromWireType:()=>{},toWireType:(B,D)=>{}})},emscripten_get_now:ve,emscripten_memcpy_big:(R,$,B)=>p.copyWithin(R,$,$+B),emscripten_resize_heap:R=>{var $=p.length,B=2147483648;if((R>>>=0)>B)return!1;for(var D,W=1;W<=4;W*=2){var H=$*(1+.2/W);H=Math.min(H,R+100663296);var K=Math.min(B,(D=Math.max(R,H))+(65536-D%65536)%65536);if(Zs(K))return!0}return!1},fd_write:(R,$,B,D)=>{for(var W=0,H=0;H<B;H++){var K=y[$>>2],Y=y[$+4>>2];$+=8;for(var J=0;J<Y;J++)Q=R,le=p[K+J],oe=void 0,oe=ei[Q],le===0||le===10?((Q===1?_:E)(et(oe,0)),oe.length=0):oe.push(le);W+=Y}var Q,le,oe;return y[D>>2]=W,0}},_e=function(){var R,$,B,D,W={env:er,wasi_snapshot_preview1:er};function H(K,Y){var J,Q=K.exports;return I=(_e=Q).memory,l(),_e.__indirect_function_table,J=_e.__wasm_call_ctors,b.unshift(J),function(le){if(N--,u.monitorRunDependencies&&u.monitorRunDependencies(N),N==0&&k){var oe=k;k=null,oe()}}(),Q}if(N++,u.monitorRunDependencies&&u.monitorRunDependencies(N),u.instantiateWasm)try{return u.instantiateWasm(W,H)}catch(K){E(`Module.instantiateWasm callback failed with error: ${K}`),h(K)}return(R=w,$=O,B=W,D=function(K){H(K.instance)},R||typeof WebAssembly.instantiateStreaming!="function"||G($)||typeof fetch!="function"?X($,B,D):fetch($,{credentials:"same-origin"}).then(K=>WebAssembly.instantiateStreaming(K,B).then(D,function(Y){return E(`wasm streaming compile failed: ${Y}`),E("falling back to ArrayBuffer instantiation"),X($,B,D)}))).catch(h),{}}(),hn=R=>(hn=_e.malloc)(R),Ge=R=>(Ge=_e.free)(R);function tr(){function R(){$t||($t=!0,u.calledRun=!0,d||(ne(b),a(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),function(){if(u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;)$=u.postRun.shift(),T.unshift($);var $;ne(T)}()))}N>0||(function(){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)$=u.preRun.shift(),f.unshift($);var $;ne(f)}(),N>0||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),R()},1)):R()))}if(u._omalloc=R=>(u._omalloc=_e.omalloc)(R),u._ofree=R=>(u._ofree=_e.ofree)(R),u._getLastOnigError=()=>(u._getLastOnigError=_e.getLastOnigError)(),u._createOnigScanner=(R,$,B,D,W)=>(u._createOnigScanner=_e.createOnigScanner)(R,$,B,D,W),u._freeOnigScanner=R=>(u._freeOnigScanner=_e.freeOnigScanner)(R),u._findNextOnigScannerMatch=(R,$,B,D,W,H)=>(u._findNextOnigScannerMatch=_e.findNextOnigScannerMatch)(R,$,B,D,W,H),u._findNextOnigScannerMatchDbg=(R,$,B,D,W,H)=>(u._findNextOnigScannerMatchDbg=_e.findNextOnigScannerMatchDbg)(R,$,B,D,W,H),u.__embind_initialize_bindings=()=>(u.__embind_initialize_bindings=_e._embind_initialize_bindings)(),u.dynCall_jiji=(R,$,B,D,W)=>(u.dynCall_jiji=_e.dynCall_jiji)(R,$,B,D,W),u.UTF8ToString=Rt,k=function R(){$t||tr(),$t||(k=R)},u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();return tr(),o.ready});c.exports=s}},r={},function c(s){var o=r[s];if(o!==void 0)return o.exports;var a=r[s]={exports:{}};return n[s].call(a.exports,a,a.exports,c),a.exports}(770);var n,r})})(Ns);var Yn=Ns.exports;const sa=ra(Yn),ia=ea({__proto__:null,default:sa},[Yn]);var ks={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Os,()=>(()=>{var n={350:(c,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UseOnigurumaFindOptions=s.DebugFlags=void 0,s.DebugFlags={InDebugMode:typeof process<"u"&&!!{}.VSCODE_TEXTMATE_DEBUG},s.UseOnigurumaFindOptions=!1},442:(c,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.applyStateStackDiff=s.diffStateStacksRefEq=void 0;const a=o(391);s.diffStateStacksRefEq=function(h,u){let v=0;const m=[];let w=h,I=u;for(;w!==I;)w&&(!I||w.depth>=I.depth)?(v++,w=w.parent):(m.push(I.toStateStackFrame()),I=I.parent);return{pops:v,newFrames:m.reverse()}},s.applyStateStackDiff=function(h,u){let v=h;for(let m=0;m<u.pops;m++)v=v.parent;for(const m of u.newFrames)v=a.StateStackImpl.pushFrame(v,m);return v}},36:(c,s)=>{var o;Object.defineProperty(s,"__esModule",{value:!0}),s.toOptionalTokenType=s.EncodedTokenAttributes=void 0,(o=s.EncodedTokenAttributes||(s.EncodedTokenAttributes={})).toBinaryStr=function(a){return a.toString(2).padStart(32,"0")},o.print=function(a){const h=o.getLanguageId(a),u=o.getTokenType(a),v=o.getFontStyle(a),m=o.getForeground(a),w=o.getBackground(a);console.log({languageId:h,tokenType:u,fontStyle:v,foreground:m,background:w})},o.getLanguageId=function(a){return(255&a)>>>0},o.getTokenType=function(a){return(768&a)>>>8},o.containsBalancedBrackets=function(a){return(1024&a)!=0},o.getFontStyle=function(a){return(30720&a)>>>11},o.getForeground=function(a){return(16744448&a)>>>15},o.getBackground=function(a){return(4278190080&a)>>>24},o.set=function(a,h,u,v,m,w,I){let _=o.getLanguageId(a),E=o.getTokenType(a),C=o.containsBalancedBrackets(a)?1:0,p=o.getFontStyle(a),S=o.getForeground(a),A=o.getBackground(a);return h!==0&&(_=h),u!==8&&(E=u),v!==null&&(C=v?1:0),m!==-1&&(p=m),w!==0&&(S=w),I!==0&&(A=I),(_<<0|E<<8|C<<10|p<<11|S<<15|A<<24)>>>0},s.toOptionalTokenType=function(a){return a}},996:(c,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BasicScopeAttributesProvider=s.BasicScopeAttributes=void 0;const a=o(878);class h{constructor(w,I){this.languageId=w,this.tokenType=I}}s.BasicScopeAttributes=h;class u{constructor(w,I){this._getBasicScopeAttributes=new a.CachedFn(_=>{const E=this._scopeToLanguage(_),C=this._toStandardTokenType(_);return new h(E,C)}),this._defaultAttributes=new h(w,8),this._embeddedLanguagesMatcher=new v(Object.entries(I||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(w){return w===null?u._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(w)}_scopeToLanguage(w){return this._embeddedLanguagesMatcher.match(w)||0}_toStandardTokenType(w){const I=w.match(u.STANDARD_TOKEN_TYPE_REGEXP);if(!I)return 8;switch(I[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}}s.BasicScopeAttributesProvider=u,u._NULL_SCOPE_METADATA=new h(0,0),u.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/;class v{constructor(w){if(w.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(w);const I=w.map(([_,E])=>a.escapeRegExpCharacters(_));I.sort(),I.reverse(),this.scopesRegExp=new RegExp(`^((${I.join(")|(")}))($|\\.)`,"")}}match(w){if(!this.scopesRegExp)return;const I=w.match(this.scopesRegExp);return I?this.values.get(I[1]):void 0}}},947:(c,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LineTokens=s.BalancedBracketSelectors=s.StateStackImpl=s.AttributedScopeStack=s.Grammar=s.createGrammar=void 0;const a=o(350),h=o(36),u=o(736),v=o(44),m=o(792),w=o(583),I=o(878),_=o(996),E=o(47);function C(d,l,f,b,T){const N=u.createMatchers(l,p),k=m.RuleFactory.getCompiledRuleId(f,b,T.repository);for(const x of N)d.push({debugSelector:l,matcher:x.matcher,ruleId:k,grammar:T,priority:x.priority})}function p(d,l){if(l.length<d.length)return!1;let f=0;return d.every(b=>{for(let T=f;T<l.length;T++)if(S(l[T],b))return f=T+1,!0;return!1})}function S(d,l){if(!d)return!1;if(d===l)return!0;const f=l.length;return d.length>f&&d.substr(0,f)===l&&d[f]==="."}s.createGrammar=function(d,l,f,b,T,N,k,x){return new A(d,l,f,b,T,N,k,x)};class A{constructor(l,f,b,T,N,k,x,O){if(this._rootScopeName=l,this.balancedBracketSelectors=k,this._onigLib=O,this._basicScopeAttributesProvider=new _.BasicScopeAttributesProvider(b,T),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=x,this._grammar=P(f,null),this._injections=null,this._tokenTypeMatchers=[],N)for(const F of Object.keys(N)){const G=u.createMatchers(F,p);for(const M of G)this._tokenTypeMatchers.push({matcher:M.matcher,type:N[F]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const l of this._ruleId2desc)l&&l.dispose()}createOnigScanner(l){return this._onigLib.createOnigScanner(l)}createOnigString(l){return this._onigLib.createOnigString(l)}getMetadataForScope(l){return this._basicScopeAttributesProvider.getBasicScopeAttributes(l)}_collectInjections(){const l=[],f=this._rootScopeName,b=(T=>T===this._rootScopeName?this._grammar:this.getExternalGrammar(T))(f);if(b){const T=b.injections;if(T)for(let k in T)C(l,k,T[k],this,b);const N=this._grammarRepository.injections(f);N&&N.forEach(k=>{const x=this.getExternalGrammar(k);if(x){const O=x.injectionSelector;O&&C(l,O,x,this,x)}})}return l.sort((T,N)=>T.priority-N.priority),l}getInjections(){if(this._injections===null&&(this._injections=this._collectInjections(),a.DebugFlags.InDebugMode&&this._injections.length>0)){console.log(`Grammar ${this._rootScopeName} contains the following injections:`);for(const l of this._injections)console.log(`  - ${l.debugSelector}`)}return this._injections}registerRule(l){const f=++this._lastRuleId,b=l(m.ruleIdFromNumber(f));return this._ruleId2desc[f]=b,b}getRule(l){return this._ruleId2desc[m.ruleIdToNumber(l)]}getExternalGrammar(l,f){if(this._includedGrammars[l])return this._includedGrammars[l];if(this._grammarRepository){const b=this._grammarRepository.lookup(l);if(b)return this._includedGrammars[l]=P(b,f&&f.$base),this._includedGrammars[l]}}tokenizeLine(l,f,b=0){const T=this._tokenize(l,f,!1,b);return{tokens:T.lineTokens.getResult(T.ruleStack,T.lineLength),ruleStack:T.ruleStack,stoppedEarly:T.stoppedEarly}}tokenizeLine2(l,f,b=0){const T=this._tokenize(l,f,!0,b);return{tokens:T.lineTokens.getBinaryResult(T.ruleStack,T.lineLength),ruleStack:T.ruleStack,stoppedEarly:T.stoppedEarly}}_tokenize(l,f,b,T){let N;if(this._rootId===-1&&(this._rootId=m.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections()),f&&f!==i.NULL)N=!1,f.reset();else{N=!0;const G=this._basicScopeAttributesProvider.getDefaultAttributes(),M=this.themeProvider.getDefaults(),X=h.EncodedTokenAttributes.set(0,G.languageId,G.tokenType,null,M.fontStyle,M.foregroundId,M.backgroundId),ne=this.getRule(this._rootId).getName(null,null);let ee;ee=ne?y.createRootAndLookUpScopeName(ne,X,this):y.createRoot("unknown",X),f=new i(null,this._rootId,-1,-1,!1,null,ee,ee)}l+=`
`;const k=this.createOnigString(l),x=k.content.length,O=new g(b,l,this._tokenTypeMatchers,this.balancedBracketSelectors),F=E._tokenizeString(this,k,N,0,f,O,!0,T);return v.disposeOnigString(k),{lineLength:x,lineTokens:O,ruleStack:F.stack,stoppedEarly:F.stoppedEarly}}}function P(d,l){return(d=I.clone(d)).repository=d.repository||{},d.repository.$self={$vscodeTextmateLocation:d.$vscodeTextmateLocation,patterns:d.patterns,name:d.scopeName},d.repository.$base=l||d.repository.$self,d}s.Grammar=A;class y{constructor(l,f,b){this.parent=l,this.scopePath=f,this.tokenAttributes=b}static fromExtension(l,f){let b=l,T=l?.scopePath??null;for(const N of f)T=w.ScopeStack.push(T,N.scopeNames),b=new y(b,T,N.encodedTokenAttributes);return b}static createRoot(l,f){return new y(null,new w.ScopeStack(null,l),f)}static createRootAndLookUpScopeName(l,f,b){const T=b.getMetadataForScope(l),N=new w.ScopeStack(null,l),k=b.themeProvider.themeMatch(N),x=y.mergeAttributes(f,T,k);return new y(null,N,x)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(l){return y.equals(this,l)}static equals(l,f){for(;;){if(l===f||!l&&!f)return!0;if(!l||!f||l.scopeName!==f.scopeName||l.tokenAttributes!==f.tokenAttributes)return!1;l=l.parent,f=f.parent}}static mergeAttributes(l,f,b){let T=-1,N=0,k=0;return b!==null&&(T=b.fontStyle,N=b.foregroundId,k=b.backgroundId),h.EncodedTokenAttributes.set(l,f.languageId,f.tokenType,null,T,N,k)}pushAttributed(l,f){if(l===null)return this;if(l.indexOf(" ")===-1)return y._pushAttributed(this,l,f);const b=l.split(/ /g);let T=this;for(const N of b)T=y._pushAttributed(T,N,f);return T}static _pushAttributed(l,f,b){const T=b.getMetadataForScope(f),N=l.scopePath.push(f),k=b.themeProvider.themeMatch(N),x=y.mergeAttributes(l.tokenAttributes,T,k);return new y(l,N,x)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(l){var f;const b=[];let T=this;for(;T&&T!==l;)b.push({encodedTokenAttributes:T.tokenAttributes,scopeNames:T.scopePath.getExtensionIfDefined(((f=T.parent)==null?void 0:f.scopePath)??null)}),T=T.parent;return T===l?b.reverse():void 0}}s.AttributedScopeStack=y;class i{constructor(l,f,b,T,N,k,x,O){this.parent=l,this.ruleId=f,this.beginRuleCapturedEOL=N,this.endRule=k,this.nameScopesList=x,this.contentNameScopesList=O,this._stackElementBrand=void 0,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=b,this._anchorPos=T}equals(l){return l!==null&&i._equals(this,l)}static _equals(l,f){return l===f||!!this._structuralEquals(l,f)&&y.equals(l.contentNameScopesList,f.contentNameScopesList)}static _structuralEquals(l,f){for(;;){if(l===f||!l&&!f)return!0;if(!l||!f||l.depth!==f.depth||l.ruleId!==f.ruleId||l.endRule!==f.endRule)return!1;l=l.parent,f=f.parent}}clone(){return this}static _reset(l){for(;l;)l._enterPos=-1,l._anchorPos=-1,l=l.parent}reset(){i._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(l,f,b,T,N,k,x){return new i(this,l,f,b,T,N,k,x)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(l){return l.getRule(this.ruleId)}toString(){const l=[];return this._writeString(l,0),"["+l.join(",")+"]"}_writeString(l,f){var b,T;return this.parent&&(f=this.parent._writeString(l,f)),l[f++]=`(${this.ruleId}, ${(b=this.nameScopesList)==null?void 0:b.toString()}, ${(T=this.contentNameScopesList)==null?void 0:T.toString()})`,f}withContentNameScopesList(l){return this.contentNameScopesList===l?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,l)}withEndRule(l){return this.endRule===l?this:new i(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,l,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(l){let f=this;for(;f&&f._enterPos===l._enterPos;){if(f.ruleId===l.ruleId)return!0;f=f.parent}return!1}toStateStackFrame(){var l,f,b;return{ruleId:m.ruleIdToNumber(this.ruleId),beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:((f=this.nameScopesList)==null?void 0:f.getExtensionIfDefined(((l=this.parent)==null?void 0:l.nameScopesList)??null))??[],contentNameScopesList:((b=this.contentNameScopesList)==null?void 0:b.getExtensionIfDefined(this.nameScopesList))??[]}}static pushFrame(l,f){const b=y.fromExtension(l?.nameScopesList??null,f.nameScopesList);return new i(l,m.ruleIdFromNumber(f.ruleId),f.enterPos??-1,f.anchorPos??-1,f.beginRuleCapturedEOL,f.endRule,b,y.fromExtension(b,f.contentNameScopesList))}}s.StateStackImpl=i,i.NULL=new i(null,0,0,0,!1,null,null,null),s.BalancedBracketSelectors=class{constructor(d,l){this.allowAny=!1,this.balancedBracketScopes=d.flatMap(f=>f==="*"?(this.allowAny=!0,[]):u.createMatchers(f,p).map(b=>b.matcher)),this.unbalancedBracketScopes=l.flatMap(f=>u.createMatchers(f,p).map(b=>b.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(d){for(const l of this.unbalancedBracketScopes)if(l(d))return!1;for(const l of this.balancedBracketScopes)if(l(d))return!0;return this.allowAny}};class g{constructor(l,f,b,T){this.balancedBracketSelectors=T,this._emitBinaryTokens=l,this._tokenTypeOverrides=b,a.DebugFlags.InDebugMode?this._lineText=f:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(l,f){this.produceFromScopes(l.contentNameScopesList,f)}produceFromScopes(l,f){var b;if(this._lastTokenEndIndex>=f)return;if(this._emitBinaryTokens){let N=l?.tokenAttributes??0,k=!1;if((b=this.balancedBracketSelectors)!=null&&b.matchesAlways&&(k=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const x=l?.getScopeNames()??[];for(const O of this._tokenTypeOverrides)O.matcher(x)&&(N=h.EncodedTokenAttributes.set(N,0,h.toOptionalTokenType(O.type),null,-1,0,0));this.balancedBracketSelectors&&(k=this.balancedBracketSelectors.match(x))}if(k&&(N=h.EncodedTokenAttributes.set(N,0,8,k,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===N)return void(this._lastTokenEndIndex=f);if(a.DebugFlags.InDebugMode){const x=l?.getScopeNames()??[];console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,f).replace(/\n$/,"\\n")+"|");for(let O=0;O<x.length;O++)console.log("      * "+x[O])}return this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(N),void(this._lastTokenEndIndex=f)}const T=l?.getScopeNames()??[];if(a.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,f).replace(/\n$/,"\\n")+"|");for(let N=0;N<T.length;N++)console.log("      * "+T[N])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:f,scopes:T}),this._lastTokenEndIndex=f}getResult(l,f){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===f-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(l,f),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(l,f){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===f-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(l,f),this._binaryTokens[this._binaryTokens.length-2]=0);const b=new Uint32Array(this._binaryTokens.length);for(let T=0,N=this._binaryTokens.length;T<N;T++)b[T]=this._binaryTokens[T];return b}}s.LineTokens=g},965:(c,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.parseInclude=s.TopLevelRepositoryReference=s.TopLevelReference=s.RelativeReference=s.SelfReference=s.BaseReference=s.ScopeDependencyProcessor=s.ExternalReferenceCollector=s.TopLevelRepositoryRuleReference=s.TopLevelRuleReference=void 0;const a=o(878);class h{constructor(i){this.scopeName=i}toKey(){return this.scopeName}}s.TopLevelRuleReference=h;class u{constructor(i,g){this.scopeName=i,this.ruleName=g}toKey(){return`${this.scopeName}#${this.ruleName}`}}s.TopLevelRepositoryRuleReference=u;class v{constructor(){this._references=[],this._seenReferenceKeys=new Set,this.visitedRule=new Set}get references(){return this._references}add(i){const g=i.toKey();this._seenReferenceKeys.has(g)||(this._seenReferenceKeys.add(g),this._references.push(i))}}function m(y,i,g,d){const l=g.lookup(y.scopeName);if(!l){if(y.scopeName===i)throw new Error(`No grammar provided for <${i}>`);return}const f=g.lookup(i);y instanceof h?I({baseGrammar:f,selfGrammar:l},d):w(y.ruleName,{baseGrammar:f,selfGrammar:l,repository:l.repository},d);const b=g.injections(y.scopeName);if(b)for(const T of b)d.add(new h(T))}function w(y,i,g){i.repository&&i.repository[y]&&_([i.repository[y]],i,g)}function I(y,i){y.selfGrammar.patterns&&Array.isArray(y.selfGrammar.patterns)&&_(y.selfGrammar.patterns,{...y,repository:y.selfGrammar.repository},i),y.selfGrammar.injections&&_(Object.values(y.selfGrammar.injections),{...y,repository:y.selfGrammar.repository},i)}function _(y,i,g){for(const d of y){if(g.visitedRule.has(d))continue;g.visitedRule.add(d);const l=d.repository?a.mergeObjects({},i.repository,d.repository):i.repository;Array.isArray(d.patterns)&&_(d.patterns,{...i,repository:l},g);const f=d.include;if(!f)continue;const b=P(f);switch(b.kind){case 0:I({...i,selfGrammar:i.baseGrammar},g);break;case 1:I(i,g);break;case 2:w(b.ruleName,{...i,repository:l},g);break;case 3:case 4:const T=b.scopeName===i.selfGrammar.scopeName?i.selfGrammar:b.scopeName===i.baseGrammar.scopeName?i.baseGrammar:void 0;if(T){const N={baseGrammar:i.baseGrammar,selfGrammar:T,repository:l};b.kind===4?w(b.ruleName,N,g):I(N,g)}else b.kind===4?g.add(new u(b.scopeName,b.ruleName)):g.add(new h(b.scopeName))}}}s.ExternalReferenceCollector=v,s.ScopeDependencyProcessor=class{constructor(y,i){this.repo=y,this.initialScopeName=i,this.seenFullScopeRequests=new Set,this.seenPartialScopeRequests=new Set,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new h(this.initialScopeName)]}processQueue(){const y=this.Q;this.Q=[];const i=new v;for(const g of y)m(g,this.initialScopeName,this.repo,i);for(const g of i.references)if(g instanceof h){if(this.seenFullScopeRequests.has(g.scopeName))continue;this.seenFullScopeRequests.add(g.scopeName),this.Q.push(g)}else{if(this.seenFullScopeRequests.has(g.scopeName)||this.seenPartialScopeRequests.has(g.toKey()))continue;this.seenPartialScopeRequests.add(g.toKey()),this.Q.push(g)}}};class E{constructor(){this.kind=0}}s.BaseReference=E;class C{constructor(){this.kind=1}}s.SelfReference=C;class p{constructor(i){this.ruleName=i,this.kind=2}}s.RelativeReference=p;class S{constructor(i){this.scopeName=i,this.kind=3}}s.TopLevelReference=S;class A{constructor(i,g){this.scopeName=i,this.ruleName=g,this.kind=4}}function P(y){if(y==="$base")return new E;if(y==="$self")return new C;const i=y.indexOf("#");if(i===-1)return new S(y);if(i===0)return new p(y.substring(1));{const g=y.substring(0,i),d=y.substring(i+1);return new A(g,d)}}s.TopLevelRepositoryReference=A,s.parseInclude=P},391:function(c,s,o){var a=this&&this.__createBinding||(Object.create?function(u,v,m,w){w===void 0&&(w=m),Object.defineProperty(u,w,{enumerable:!0,get:function(){return v[m]}})}:function(u,v,m,w){w===void 0&&(w=m),u[w]=v[m]}),h=this&&this.__exportStar||function(u,v){for(var m in u)m==="default"||Object.prototype.hasOwnProperty.call(v,m)||a(v,u,m)};Object.defineProperty(s,"__esModule",{value:!0}),h(o(947),s)},47:(c,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LocalStackElement=s._tokenizeString=void 0;const a=o(350),h=o(44),u=o(792),v=o(878);class m{constructor(A,P){this.stack=A,this.stoppedEarly=P}}function w(S,A,P,y,i,g,d,l){const f=A.content.length;let b=!1,T=-1;if(d){const x=function(O,F,G,M,X,ne){let ee=X.beginRuleCapturedEOL?0:-1;const V=[];for(let z=X;z;z=z.pop()){const q=z.getRule(O);q instanceof u.BeginWhileRule&&V.push({rule:q,stack:z})}for(let z=V.pop();z;z=V.pop()){const{ruleScanner:q,findOptions:te}=_(z.rule,O,z.stack.endRule,G,M===ee),L=q.findNextMatchSync(F,M,te);if(a.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(q.toString())),!L){a.DebugFlags.InDebugMode&&console.log("  popping "+z.rule.debugName+" - "+z.rule.debugWhileRegExp),X=z.stack.pop();break}if(L.ruleId!==u.whileRuleId){X=z.stack.pop();break}L.captureIndices&&L.captureIndices.length&&(ne.produce(z.stack,L.captureIndices[0].start),C(O,F,G,z.stack,ne,z.rule.whileCaptures,L.captureIndices),ne.produce(z.stack,L.captureIndices[0].end),ee=L.captureIndices[0].end,L.captureIndices[0].end>M&&(M=L.captureIndices[0].end,G=!1))}return{stack:X,linePos:M,anchorPosition:ee,isFirstLine:G}}(S,A,P,y,i,g);i=x.stack,y=x.linePos,P=x.isFirstLine,T=x.anchorPosition}const N=Date.now();for(;!b;){if(l!==0&&Date.now()-N>l)return new m(i,!0);k()}return new m(i,!1);function k(){a.DebugFlags.InDebugMode&&(console.log(""),console.log(`@@scanNext ${y}: |${A.content.substr(y).replace(/\n$/,"\\n")}|`));const x=function(M,X,ne,ee,V,z){const q=function(Z,Le,ye,We,Me,Ze){const je=Me.getRule(Z),{ruleScanner:Ue,findOptions:ze}=I(je,Z,Me.endRule,ye,We===Ze);let De=0;a.DebugFlags.InDebugMode&&(De=v.performanceNow());const ve=Ue.findNextMatchSync(Le,We,ze);if(a.DebugFlags.InDebugMode){const He=v.performanceNow()-De;He>5&&console.warn(`Rule ${je.debugName} (${je.id}) matching took ${He} against '${Le}'`),console.log(`  scanning for (linePos: ${We}, anchorPosition: ${Ze})`),console.log(Ue.toString()),ve&&console.log(`matched rule id: ${ve.ruleId} from ${ve.captureIndices[0].start} to ${ve.captureIndices[0].end}`)}return ve?{captureIndices:ve.captureIndices,matchedRuleId:ve.ruleId}:null}(M,X,ne,ee,V,z),te=M.getInjections();if(te.length===0)return q;const L=function(Z,Le,ye,We,Me,Ze,je){let Ue,ze=Number.MAX_VALUE,De=null,ve=0;const He=Ze.contentNameScopesList.getScopeNames();for(let et=0,Rt=Z.length;et<Rt;et++){const qe=Z[et];if(!qe.matcher(He))continue;const un=Le.getRule(qe.ruleId),{ruleScanner:It,findOptions:fn}=I(un,Le,null,We,Me===je),tt=It.findNextMatchSync(ye,Me,fn);if(!tt)continue;a.DebugFlags.InDebugMode&&(console.log(`  matched injection: ${qe.debugSelector}`),console.log(It.toString()));const xt=tt.captureIndices[0].start;if(!(xt>=ze)&&(ze=xt,De=tt.captureIndices,Ue=tt.ruleId,ve=qe.priority,ze===Me))break}return De?{priorityMatch:ve===-1,captureIndices:De,matchedRuleId:Ue}:null}(te,M,X,ne,ee,V,z);if(!L)return q;if(!q)return L;const j=q.captureIndices[0].start,U=L.captureIndices[0].start;return U<j||L.priorityMatch&&U===j?L:q}(S,A,P,y,i,T);if(!x)return a.DebugFlags.InDebugMode&&console.log("  no more matches."),g.produce(i,f),void(b=!0);const O=x.captureIndices,F=x.matchedRuleId,G=!!(O&&O.length>0)&&O[0].end>y;if(F===u.endRuleId){const M=i.getRule(S);a.DebugFlags.InDebugMode&&console.log("  popping "+M.debugName+" - "+M.debugEndRegExp),g.produce(i,O[0].start),i=i.withContentNameScopesList(i.nameScopesList),C(S,A,P,i,g,M.endCaptures,O),g.produce(i,O[0].end);const X=i;if(i=i.parent,T=X.getAnchorPos(),!G&&X.getEnterPos()===y)return a.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),i=X,g.produce(i,f),void(b=!0)}else{const M=S.getRule(F);g.produce(i,O[0].start);const X=i,ne=M.getName(A.content,O),ee=i.contentNameScopesList.pushAttributed(ne,S);if(i=i.push(F,y,T,O[0].end===f,null,ee,ee),M instanceof u.BeginEndRule){const V=M;a.DebugFlags.InDebugMode&&console.log("  pushing "+V.debugName+" - "+V.debugBeginRegExp),C(S,A,P,i,g,V.beginCaptures,O),g.produce(i,O[0].end),T=O[0].end;const z=V.getContentName(A.content,O),q=ee.pushAttributed(z,S);if(i=i.withContentNameScopesList(q),V.endHasBackReferences&&(i=i.withEndRule(V.getEndWithResolvedBackReferences(A.content,O))),!G&&X.hasSameRuleAs(i))return a.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),i=i.pop(),g.produce(i,f),void(b=!0)}else if(M instanceof u.BeginWhileRule){const V=M;a.DebugFlags.InDebugMode&&console.log("  pushing "+V.debugName),C(S,A,P,i,g,V.beginCaptures,O),g.produce(i,O[0].end),T=O[0].end;const z=V.getContentName(A.content,O),q=ee.pushAttributed(z,S);if(i=i.withContentNameScopesList(q),V.whileHasBackReferences&&(i=i.withEndRule(V.getWhileWithResolvedBackReferences(A.content,O))),!G&&X.hasSameRuleAs(i))return a.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),i=i.pop(),g.produce(i,f),void(b=!0)}else{const V=M;if(a.DebugFlags.InDebugMode&&console.log("  matched "+V.debugName+" - "+V.debugMatchRegExp),C(S,A,P,i,g,V.captures,O),g.produce(i,O[0].end),i=i.pop(),!G)return a.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),i=i.safePop(),g.produce(i,f),void(b=!0)}}O[0].end>y&&(y=O[0].end,P=!1)}}function I(S,A,P,y,i){return a.UseOnigurumaFindOptions?{ruleScanner:S.compile(A,P),findOptions:E(y,i)}:{ruleScanner:S.compileAG(A,P,y,i),findOptions:0}}function _(S,A,P,y,i){return a.UseOnigurumaFindOptions?{ruleScanner:S.compileWhile(A,P),findOptions:E(y,i)}:{ruleScanner:S.compileWhileAG(A,P,y,i),findOptions:0}}function E(S,A){let P=0;return S||(P|=1),A||(P|=4),P}function C(S,A,P,y,i,g,d){if(g.length===0)return;const l=A.content,f=Math.min(g.length,d.length),b=[],T=d[0].end;for(let N=0;N<f;N++){const k=g[N];if(k===null)continue;const x=d[N];if(x.length===0)continue;if(x.start>T)break;for(;b.length>0&&b[b.length-1].endPos<=x.start;)i.produceFromScopes(b[b.length-1].scopes,b[b.length-1].endPos),b.pop();if(b.length>0?i.produceFromScopes(b[b.length-1].scopes,x.start):i.produce(y,x.start),k.retokenizeCapturedWithRuleId){const F=k.getName(l,d),G=y.contentNameScopesList.pushAttributed(F,S),M=k.getContentName(l,d),X=G.pushAttributed(M,S),ne=y.push(k.retokenizeCapturedWithRuleId,x.start,-1,!1,null,G,X),ee=S.createOnigString(l.substring(0,x.end));w(S,ee,P&&x.start===0,x.start,ne,i,!1,0),h.disposeOnigString(ee);continue}const O=k.getName(l,d);if(O!==null){const F=(b.length>0?b[b.length-1].scopes:y.contentNameScopesList).pushAttributed(O,S);b.push(new p(F,x.end))}}for(;b.length>0;)i.produceFromScopes(b[b.length-1].scopes,b[b.length-1].endPos),b.pop()}s._tokenizeString=w;class p{constructor(A,P){this.scopes=A,this.endPos=P}}s.LocalStackElement=p},974:(c,s)=>{function o(v,m){throw new Error("Near offset "+v.pos+": "+m+" ~~~"+v.source.substr(v.pos,50)+"~~~")}Object.defineProperty(s,"__esModule",{value:!0}),s.parseJSON=void 0,s.parseJSON=function(v,m,w){let I=new a(v),_=new h,E=0,C=null,p=[],S=[];function A(){p.push(E),S.push(C)}function P(){E=p.pop(),C=S.pop()}function y(i){o(I,i)}for(;u(I,_);){if(E===0){if(C!==null&&y("too many constructs in root"),_.type===3){C={},w&&(C.$vscodeTextmateLocation=_.toLocation(m)),A(),E=1;continue}if(_.type===2){C=[],A(),E=4;continue}y("unexpected token in root")}if(E===2){if(_.type===5){P();continue}if(_.type===7){E=3;continue}y("expected , or }")}if(E===1||E===3){if(E===1&&_.type===5){P();continue}if(_.type===1){let i=_.value;if(u(I,_)&&_.type===6||y("expected colon"),u(I,_)||y("expected value"),E=2,_.type===1){C[i]=_.value;continue}if(_.type===8){C[i]=null;continue}if(_.type===9){C[i]=!0;continue}if(_.type===10){C[i]=!1;continue}if(_.type===11){C[i]=parseFloat(_.value);continue}if(_.type===2){let g=[];C[i]=g,A(),E=4,C=g;continue}if(_.type===3){let g={};w&&(g.$vscodeTextmateLocation=_.toLocation(m)),C[i]=g,A(),E=1,C=g;continue}}y("unexpected token in dict")}if(E===5){if(_.type===4){P();continue}if(_.type===7){E=6;continue}y("expected , or ]")}if(E===4||E===6){if(E===4&&_.type===4){P();continue}if(E=5,_.type===1){C.push(_.value);continue}if(_.type===8){C.push(null);continue}if(_.type===9){C.push(!0);continue}if(_.type===10){C.push(!1);continue}if(_.type===11){C.push(parseFloat(_.value));continue}if(_.type===2){let i=[];C.push(i),A(),E=4,C=i;continue}if(_.type===3){let i={};w&&(i.$vscodeTextmateLocation=_.toLocation(m)),C.push(i),A(),E=1,C=i;continue}y("unexpected token in array")}y("unknown state")}return S.length!==0&&y("unclosed constructs"),C};class a{constructor(m){this.source=m,this.pos=0,this.len=m.length,this.line=1,this.char=0}}class h{constructor(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}toLocation(m){return{filename:m,line:this.line,char:this.char}}}function u(v,m){m.value=null,m.type=0,m.offset=-1,m.len=-1,m.line=-1,m.char=-1;let w,I=v.source,_=v.pos,E=v.len,C=v.line,p=v.char;for(;;){if(_>=E)return!1;if(w=I.charCodeAt(_),w!==32&&w!==9&&w!==13){if(w!==10)break;_++,C++,p=0}else _++,p++}if(m.offset=_,m.line=C,m.char=p,w===34){for(m.type=1,_++,p++;;){if(_>=E)return!1;if(w=I.charCodeAt(_),_++,p++,w!==92){if(w===34)break}else _++,p++}m.value=I.substring(m.offset+1,_-1).replace(/\\u([0-9A-Fa-f]{4})/g,(S,A)=>String.fromCodePoint(parseInt(A,16))).replace(/\\(.)/g,(S,A)=>{switch(A){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:o(v,"invalid escape sequence")}throw new Error("unreachable")})}else if(w===91)m.type=2,_++,p++;else if(w===123)m.type=3,_++,p++;else if(w===93)m.type=4,_++,p++;else if(w===125)m.type=5,_++,p++;else if(w===58)m.type=6,_++,p++;else if(w===44)m.type=7,_++,p++;else if(w===110){if(m.type=8,_++,p++,w=I.charCodeAt(_),w!==117||(_++,p++,w=I.charCodeAt(_),w!==108)||(_++,p++,w=I.charCodeAt(_),w!==108))return!1;_++,p++}else if(w===116){if(m.type=9,_++,p++,w=I.charCodeAt(_),w!==114||(_++,p++,w=I.charCodeAt(_),w!==117)||(_++,p++,w=I.charCodeAt(_),w!==101))return!1;_++,p++}else if(w===102){if(m.type=10,_++,p++,w=I.charCodeAt(_),w!==97||(_++,p++,w=I.charCodeAt(_),w!==108)||(_++,p++,w=I.charCodeAt(_),w!==115)||(_++,p++,w=I.charCodeAt(_),w!==101))return!1;_++,p++}else for(m.type=11;;){if(_>=E)return!1;if(w=I.charCodeAt(_),!(w===46||w>=48&&w<=57||w===101||w===69||w===45||w===43))break;_++,p++}return m.len=_-m.offset,m.value===null&&(m.value=I.substr(m.offset,m.len)),v.pos=_,v.line=C,v.char=p,!0}},787:function(c,s,o){var a=this&&this.__createBinding||(Object.create?function(E,C,p,S){S===void 0&&(S=p),Object.defineProperty(E,S,{enumerable:!0,get:function(){return C[p]}})}:function(E,C,p,S){S===void 0&&(S=p),E[S]=C[p]}),h=this&&this.__exportStar||function(E,C){for(var p in E)p==="default"||Object.prototype.hasOwnProperty.call(C,p)||a(C,E,p)};Object.defineProperty(s,"__esModule",{value:!0}),s.applyStateStackDiff=s.diffStateStacksRefEq=s.parseRawGrammar=s.INITIAL=s.Registry=void 0;const u=o(391),v=o(50),m=o(652),w=o(583),I=o(965),_=o(442);Object.defineProperty(s,"applyStateStackDiff",{enumerable:!0,get:function(){return _.applyStateStackDiff}}),Object.defineProperty(s,"diffStateStacksRefEq",{enumerable:!0,get:function(){return _.diffStateStacksRefEq}}),h(o(44),s),s.Registry=class{constructor(E){this._options=E,this._syncRegistry=new m.SyncRegistry(w.Theme.createFromRawTheme(E.theme,E.colorMap),E.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(E,C){this._syncRegistry.setTheme(w.Theme.createFromRawTheme(E,C))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(E,C,p){return this.loadGrammarWithConfiguration(E,C,{embeddedLanguages:p})}loadGrammarWithConfiguration(E,C,p){return this._loadGrammar(E,C,p.embeddedLanguages,p.tokenTypes,new u.BalancedBracketSelectors(p.balancedBracketSelectors||[],p.unbalancedBracketSelectors||[]))}loadGrammar(E){return this._loadGrammar(E,0,null,null,null)}async _loadGrammar(E,C,p,S,A){const P=new I.ScopeDependencyProcessor(this._syncRegistry,E);for(;P.Q.length>0;)await Promise.all(P.Q.map(y=>this._loadSingleGrammar(y.scopeName))),P.processQueue();return this._grammarForScopeName(E,C,p,S,A)}async _loadSingleGrammar(E){return this._ensureGrammarCache.has(E)||this._ensureGrammarCache.set(E,this._doLoadSingleGrammar(E)),this._ensureGrammarCache.get(E)}async _doLoadSingleGrammar(E){const C=await this._options.loadGrammar(E);if(C){const p=typeof this._options.getInjections=="function"?this._options.getInjections(E):void 0;this._syncRegistry.addGrammar(C,p)}}async addGrammar(E,C=[],p=0,S=null){return this._syncRegistry.addGrammar(E,C),await this._grammarForScopeName(E.scopeName,p,S)}_grammarForScopeName(E,C=0,p=null,S=null,A=null){return this._syncRegistry.grammarForScopeName(E,C,p,S,A)}},s.INITIAL=u.StateStackImpl.NULL,s.parseRawGrammar=v.parseRawGrammar},736:(c,s)=>{function o(a){return!!a&&!!a.match(/[\w\.:]+/)}Object.defineProperty(s,"__esModule",{value:!0}),s.createMatchers=void 0,s.createMatchers=function(a,h){const u=[],v=function(_){let E=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,C=E.exec(_);return{next:()=>{if(!C)return null;const p=C[0];return C=E.exec(_),p}}}(a);let m=v.next();for(;m!==null;){let _=0;if(m.length===2&&m.charAt(1)===":"){switch(m.charAt(0)){case"R":_=1;break;case"L":_=-1;break;default:console.log(`Unknown priority ${m} in scope selector`)}m=v.next()}let E=I();if(u.push({matcher:E,priority:_}),m!==",")break;m=v.next()}return u;function w(){if(m==="-"){m=v.next();const _=w();return E=>!!_&&!_(E)}if(m==="("){m=v.next();const _=function(){const E=[];let C=I();for(;C&&(E.push(C),m==="|"||m===",");){do m=v.next();while(m==="|"||m===",");C=I()}return p=>E.some(S=>S(p))}();return m===")"&&(m=v.next()),_}if(o(m)){const _=[];do _.push(m),m=v.next();while(o(m));return E=>h(_,E)}return null}function I(){const _=[];let E=w();for(;E;)_.push(E),E=w();return C=>_.every(p=>p(C))}}},44:(c,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.disposeOnigString=void 0,s.disposeOnigString=function(o){typeof o.dispose=="function"&&o.dispose()}},50:(c,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.parseRawGrammar=void 0;const a=o(69),h=o(350),u=o(974);s.parseRawGrammar=function(v,m=null){return m!==null&&/\.json$/.test(m)?(w=v,I=m,h.DebugFlags.InDebugMode?u.parseJSON(w,I,!0):JSON.parse(w)):function(_,E){return h.DebugFlags.InDebugMode?a.parseWithLocation(_,E,"$vscodeTextmateLocation"):a.parsePLIST(_)}(v,m);var w,I}},69:(c,s)=>{function o(a,h,u){const v=a.length;let m=0,w=1,I=0;function _(L){if(u===null)m+=L;else for(;L>0;)a.charCodeAt(m)===10?(m++,w++,I=0):(m++,I++),L--}function E(L){u===null?m=L:_(L-m)}function C(){for(;m<v;){let L=a.charCodeAt(m);if(L!==32&&L!==9&&L!==13&&L!==10)break;_(1)}}function p(L){return a.substr(m,L.length)===L&&(_(L.length),!0)}function S(L){let j=a.indexOf(L,m);E(j!==-1?j+L.length:v)}function A(L){let j=a.indexOf(L,m);if(j!==-1){let U=a.substring(m,j);return E(j+L.length),U}{let U=a.substr(m);return E(v),U}}v>0&&a.charCodeAt(0)===65279&&(m=1);let P=0,y=null,i=[],g=[],d=null;function l(L,j){i.push(P),g.push(y),P=L,y=j}function f(){if(i.length===0)return b("illegal state stack");P=i.pop(),y=g.pop()}function b(L){throw new Error("Near offset "+m+": "+L+" ~~~"+a.substr(m,50)+"~~~")}const T=function(){if(d===null)return b("missing <key>");let L={};u!==null&&(L[u]={filename:h,line:w,char:I}),y[d]=L,d=null,l(1,L)},N=function(){if(d===null)return b("missing <key>");let L=[];y[d]=L,d=null,l(2,L)},k=function(){let L={};u!==null&&(L[u]={filename:h,line:w,char:I}),y.push(L),l(1,L)},x=function(){let L=[];y.push(L),l(2,L)};function O(){if(P!==1)return b("unexpected </dict>");f()}function F(){return P===1||P!==2?b("unexpected </array>"):void f()}function G(L){if(P===1){if(d===null)return b("missing <key>");y[d]=L,d=null}else P===2?y.push(L):y=L}function M(L){if(isNaN(L))return b("cannot parse float");if(P===1){if(d===null)return b("missing <key>");y[d]=L,d=null}else P===2?y.push(L):y=L}function X(L){if(isNaN(L))return b("cannot parse integer");if(P===1){if(d===null)return b("missing <key>");y[d]=L,d=null}else P===2?y.push(L):y=L}function ne(L){if(P===1){if(d===null)return b("missing <key>");y[d]=L,d=null}else P===2?y.push(L):y=L}function ee(L){if(P===1){if(d===null)return b("missing <key>");y[d]=L,d=null}else P===2?y.push(L):y=L}function V(L){if(P===1){if(d===null)return b("missing <key>");y[d]=L,d=null}else P===2?y.push(L):y=L}function z(){let L=A(">"),j=!1;return L.charCodeAt(L.length-1)===47&&(j=!0,L=L.substring(0,L.length-1)),{name:L.trim(),isClosed:j}}function q(L){if(L.isClosed)return"";let j=A("</");return S(">"),j.replace(/&#([0-9]+);/g,function(U,Z){return String.fromCodePoint(parseInt(Z,10))}).replace(/&#x([0-9a-f]+);/g,function(U,Z){return String.fromCodePoint(parseInt(Z,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(U){switch(U){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return U})}for(;m<v&&(C(),!(m>=v));){const L=a.charCodeAt(m);if(_(1),L!==60)return b("expected <");if(m>=v)return b("unexpected end of input");const j=a.charCodeAt(m);if(j===63){_(1),S("?>");continue}if(j===33){if(_(1),p("--")){S("-->");continue}S(">");continue}if(j===47){if(_(1),C(),p("plist")){S(">");continue}if(p("dict")){S(">"),O();continue}if(p("array")){S(">"),F();continue}return b("unexpected closed tag")}let U=z();switch(U.name){case"dict":P===1?T():P===2?k():(y={},u!==null&&(y[u]={filename:h,line:w,char:I}),l(1,y)),U.isClosed&&O();continue;case"array":P===1?N():P===2?x():(y=[],l(2,y)),U.isClosed&&F();continue;case"key":te=q(U),P!==1?b("unexpected <key>"):d!==null?b("too many <key>"):d=te;continue;case"string":G(q(U));continue;case"real":M(parseFloat(q(U)));continue;case"integer":X(parseInt(q(U),10));continue;case"date":ne(new Date(q(U)));continue;case"data":ee(q(U));continue;case"true":q(U),V(!0);continue;case"false":q(U),V(!1);continue}if(!/^plist/.test(U.name))return b("unexpected opened tag "+U.name)}var te;return y}Object.defineProperty(s,"__esModule",{value:!0}),s.parsePLIST=s.parseWithLocation=void 0,s.parseWithLocation=function(a,h,u){return o(a,h,u)},s.parsePLIST=function(a){return o(a,null,null)}},652:(c,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SyncRegistry=void 0;const a=o(391);s.SyncRegistry=class{constructor(h,u){this._onigLibPromise=u,this._grammars=new Map,this._rawGrammars=new Map,this._injectionGrammars=new Map,this._theme=h}dispose(){for(const h of this._grammars.values())h.dispose()}setTheme(h){this._theme=h}getColorMap(){return this._theme.getColorMap()}addGrammar(h,u){this._rawGrammars.set(h.scopeName,h),u&&this._injectionGrammars.set(h.scopeName,u)}lookup(h){return this._rawGrammars.get(h)}injections(h){return this._injectionGrammars.get(h)}getDefaults(){return this._theme.getDefaults()}themeMatch(h){return this._theme.match(h)}async grammarForScopeName(h,u,v,m,w){if(!this._grammars.has(h)){let I=this._rawGrammars.get(h);if(!I)return null;this._grammars.set(h,a.createGrammar(h,I,u,v,m,w,this,await this._onigLibPromise))}return this._grammars.get(h)}}},792:(c,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CompiledRule=s.RegExpSourceList=s.RegExpSource=s.RuleFactory=s.BeginWhileRule=s.BeginEndRule=s.IncludeOnlyRule=s.MatchRule=s.CaptureRule=s.Rule=s.ruleIdToNumber=s.ruleIdFromNumber=s.whileRuleId=s.endRuleId=void 0;const a=o(878),h=o(965),u=/\\(\d+)/,v=/\\(\d+)/g;s.endRuleId=-1,s.whileRuleId=-2,s.ruleIdFromNumber=function(y){return y},s.ruleIdToNumber=function(y){return y};class m{constructor(i,g,d,l){this.$location=i,this.id=g,this._name=d||null,this._nameIsCapturing=a.RegexSource.hasCaptures(this._name),this._contentName=l||null,this._contentNameIsCapturing=a.RegexSource.hasCaptures(this._contentName)}get debugName(){const i=this.$location?`${a.basename(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${i}`}getName(i,g){return this._nameIsCapturing&&this._name!==null&&i!==null&&g!==null?a.RegexSource.replaceCaptures(this._name,i,g):this._name}getContentName(i,g){return this._contentNameIsCapturing&&this._contentName!==null?a.RegexSource.replaceCaptures(this._contentName,i,g):this._contentName}}s.Rule=m;class w extends m{constructor(i,g,d,l,f){super(i,g,d,l),this.retokenizeCapturedWithRuleId=f}dispose(){}collectPatterns(i,g){throw new Error("Not supported!")}compile(i,g){throw new Error("Not supported!")}compileAG(i,g,d,l){throw new Error("Not supported!")}}s.CaptureRule=w;class I extends m{constructor(i,g,d,l,f){super(i,g,d,null),this._match=new S(l,this.id),this.captures=f,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(i,g){g.push(this._match)}compile(i,g){return this._getCachedCompiledPatterns(i).compile(i)}compileAG(i,g,d,l){return this._getCachedCompiledPatterns(i).compileAG(i,d,l)}_getCachedCompiledPatterns(i){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new A,this.collectPatterns(i,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}s.MatchRule=I;class _ extends m{constructor(i,g,d,l,f){super(i,g,d,l),this.patterns=f.patterns,this.hasMissingPatterns=f.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(i,g){for(const d of this.patterns)i.getRule(d).collectPatterns(i,g)}compile(i,g){return this._getCachedCompiledPatterns(i).compile(i)}compileAG(i,g,d,l){return this._getCachedCompiledPatterns(i).compileAG(i,d,l)}_getCachedCompiledPatterns(i){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new A,this.collectPatterns(i,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}s.IncludeOnlyRule=_;class E extends m{constructor(i,g,d,l,f,b,T,N,k,x){super(i,g,d,l),this._begin=new S(f,this.id),this.beginCaptures=b,this._end=new S(T||"￿",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=N,this.applyEndPatternLast=k||!1,this.patterns=x.patterns,this.hasMissingPatterns=x.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(i,g){return this._end.resolveBackReferences(i,g)}collectPatterns(i,g){g.push(this._begin)}compile(i,g){return this._getCachedCompiledPatterns(i,g).compile(i)}compileAG(i,g,d,l){return this._getCachedCompiledPatterns(i,g).compileAG(i,d,l)}_getCachedCompiledPatterns(i,g){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new A;for(const d of this.patterns)i.getRule(d).collectPatterns(i,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,g):this._cachedCompiledPatterns.setSource(0,g)),this._cachedCompiledPatterns}}s.BeginEndRule=E;class C extends m{constructor(i,g,d,l,f,b,T,N,k){super(i,g,d,l),this._begin=new S(f,this.id),this.beginCaptures=b,this.whileCaptures=N,this._while=new S(T,s.whileRuleId),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=k.patterns,this.hasMissingPatterns=k.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(i,g){return this._while.resolveBackReferences(i,g)}collectPatterns(i,g){g.push(this._begin)}compile(i,g){return this._getCachedCompiledPatterns(i).compile(i)}compileAG(i,g,d,l){return this._getCachedCompiledPatterns(i).compileAG(i,d,l)}_getCachedCompiledPatterns(i){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new A;for(const g of this.patterns)i.getRule(g).collectPatterns(i,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(i,g){return this._getCachedCompiledWhilePatterns(i,g).compile(i)}compileWhileAG(i,g,d,l){return this._getCachedCompiledWhilePatterns(i,g).compileAG(i,d,l)}_getCachedCompiledWhilePatterns(i,g){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new A,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,g||"￿"),this._cachedCompiledWhilePatterns}}s.BeginWhileRule=C;class p{static createCaptureRule(i,g,d,l,f){return i.registerRule(b=>new w(g,b,d,l,f))}static getCompiledRuleId(i,g,d){return i.id||g.registerRule(l=>{if(i.id=l,i.match)return new I(i.$vscodeTextmateLocation,i.id,i.name,i.match,p._compileCaptures(i.captures,g,d));if(i.begin===void 0){i.repository&&(d=a.mergeObjects({},d,i.repository));let f=i.patterns;return f===void 0&&i.include&&(f=[{include:i.include}]),new _(i.$vscodeTextmateLocation,i.id,i.name,i.contentName,p._compilePatterns(f,g,d))}return i.while?new C(i.$vscodeTextmateLocation,i.id,i.name,i.contentName,i.begin,p._compileCaptures(i.beginCaptures||i.captures,g,d),i.while,p._compileCaptures(i.whileCaptures||i.captures,g,d),p._compilePatterns(i.patterns,g,d)):new E(i.$vscodeTextmateLocation,i.id,i.name,i.contentName,i.begin,p._compileCaptures(i.beginCaptures||i.captures,g,d),i.end,p._compileCaptures(i.endCaptures||i.captures,g,d),i.applyEndPatternLast,p._compilePatterns(i.patterns,g,d))}),i.id}static _compileCaptures(i,g,d){let l=[];if(i){let f=0;for(const b in i){if(b==="$vscodeTextmateLocation")continue;const T=parseInt(b,10);T>f&&(f=T)}for(let b=0;b<=f;b++)l[b]=null;for(const b in i){if(b==="$vscodeTextmateLocation")continue;const T=parseInt(b,10);let N=0;i[b].patterns&&(N=p.getCompiledRuleId(i[b],g,d)),l[T]=p.createCaptureRule(g,i[b].$vscodeTextmateLocation,i[b].name,i[b].contentName,N)}}return l}static _compilePatterns(i,g,d){let l=[];if(i)for(let f=0,b=i.length;f<b;f++){const T=i[f];let N=-1;if(T.include){const k=h.parseInclude(T.include);switch(k.kind){case 0:case 1:N=p.getCompiledRuleId(d[T.include],g,d);break;case 2:let x=d[k.ruleName];x&&(N=p.getCompiledRuleId(x,g,d));break;case 3:case 4:const O=k.scopeName,F=k.kind===4?k.ruleName:null,G=g.getExternalGrammar(O,d);if(G)if(F){let M=G.repository[F];M&&(N=p.getCompiledRuleId(M,g,G.repository))}else N=p.getCompiledRuleId(G.repository.$self,g,G.repository)}}else N=p.getCompiledRuleId(T,g,d);if(N!==-1){const k=g.getRule(N);let x=!1;if((k instanceof _||k instanceof E||k instanceof C)&&k.hasMissingPatterns&&k.patterns.length===0&&(x=!0),x)continue;l.push(N)}}return{patterns:l,hasMissingPatterns:(i?i.length:0)!==l.length}}}s.RuleFactory=p;class S{constructor(i,g){if(i){const d=i.length;let l=0,f=[],b=!1;for(let T=0;T<d;T++)if(i.charAt(T)==="\\"&&T+1<d){const N=i.charAt(T+1);N==="z"?(f.push(i.substring(l,T)),f.push("$(?!\\n)(?<!\\n)"),l=T+2):N!=="A"&&N!=="G"||(b=!0),T++}this.hasAnchor=b,l===0?this.source=i:(f.push(i.substring(l,d)),this.source=f.join(""))}else this.hasAnchor=!1,this.source=i;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=g,this.hasBackReferences=u.test(this.source)}clone(){return new S(this.source,this.ruleId)}setSource(i){this.source!==i&&(this.source=i,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(i,g){let d=g.map(l=>i.substring(l.start,l.end));return v.lastIndex=0,this.source.replace(v,(l,f)=>a.escapeRegExpCharacters(d[parseInt(f,10)]||""))}_buildAnchorCache(){let i,g,d,l,f=[],b=[],T=[],N=[];for(i=0,g=this.source.length;i<g;i++)d=this.source.charAt(i),f[i]=d,b[i]=d,T[i]=d,N[i]=d,d==="\\"&&i+1<g&&(l=this.source.charAt(i+1),l==="A"?(f[i+1]="￿",b[i+1]="￿",T[i+1]="A",N[i+1]="A"):l==="G"?(f[i+1]="￿",b[i+1]="G",T[i+1]="￿",N[i+1]="G"):(f[i+1]=l,b[i+1]=l,T[i+1]=l,N[i+1]=l),i++);return{A0_G0:f.join(""),A0_G1:b.join(""),A1_G0:T.join(""),A1_G1:N.join("")}}resolveAnchors(i,g){return this.hasAnchor&&this._anchorCache?i?g?this._anchorCache.A1_G1:this._anchorCache.A1_G0:g?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source}}s.RegExpSource=S;class A{constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(i){this._items.push(i),this._hasAnchors=this._hasAnchors||i.hasAnchor}unshift(i){this._items.unshift(i),this._hasAnchors=this._hasAnchors||i.hasAnchor}length(){return this._items.length}setSource(i,g){this._items[i].source!==g&&(this._disposeCaches(),this._items[i].setSource(g))}compile(i){if(!this._cached){let g=this._items.map(d=>d.source);this._cached=new P(i,g,this._items.map(d=>d.ruleId))}return this._cached}compileAG(i,g,d){return this._hasAnchors?g?d?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(i,g,d)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(i,g,d)),this._anchorCache.A1_G0):d?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(i,g,d)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(i,g,d)),this._anchorCache.A0_G0):this.compile(i)}_resolveAnchors(i,g,d){let l=this._items.map(f=>f.resolveAnchors(g,d));return new P(i,l,this._items.map(f=>f.ruleId))}}s.RegExpSourceList=A;class P{constructor(i,g,d){this.regExps=g,this.rules=d,this.scanner=i.createOnigScanner(g)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const i=[];for(let g=0,d=this.rules.length;g<d;g++)i.push("   - "+this.rules[g]+": "+this.regExps[g]);return i.join(`
`)}findNextMatchSync(i,g,d){const l=this.scanner.findNextMatchSync(i,g,d);return l?{ruleId:this.rules[l.index],captureIndices:l.captureIndices}:null}}s.CompiledRule=P},583:(c,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ThemeTrieElement=s.ThemeTrieElementRule=s.ColorMap=s.fontStyleToString=s.ParsedThemeRule=s.parseTheme=s.StyleAttributes=s.ScopeStack=s.Theme=void 0;const a=o(878);class h{constructor(A,P,y){this._colorMap=A,this._defaults=P,this._root=y,this._cachedMatchRoot=new a.CachedFn(i=>this._root.match(i))}static createFromRawTheme(A,P){return this.createFromParsedTheme(w(A),P)}static createFromParsedTheme(A,P){return function(y,i){y.sort((N,k)=>{let x=a.strcmp(N.scope,k.scope);return x!==0?x:(x=a.strArrCmp(N.parentScopes,k.parentScopes),x!==0?x:N.index-k.index)});let g=0,d="#000000",l="#ffffff";for(;y.length>=1&&y[0].scope==="";){let N=y.shift();N.fontStyle!==-1&&(g=N.fontStyle),N.foreground!==null&&(d=N.foreground),N.background!==null&&(l=N.background)}let f=new _(i),b=new m(g,f.getId(d),f.getId(l)),T=new p(new C(0,null,-1,0,0),[]);for(let N=0,k=y.length;N<k;N++){let x=y[N];T.insert(0,x.scope,x.parentScopes,x.fontStyle,f.getId(x.foreground),f.getId(x.background))}return new h(f,b,T)}(A,P)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(A){if(A===null)return this._defaults;const P=A.scopeName,y=this._cachedMatchRoot.get(P).find(i=>function(g,d){if(d.length===0)return!0;for(let l=0;l<d.length;l++){let f=d[l],b=!1;if(f===">"){if(l===d.length-1)return!1;f=d[++l],b=!0}for(;g&&!v(g.scopeName,f);){if(b)return!1;g=g.parent}if(!g)return!1;g=g.parent}return!0}(A.parent,i.parentScopes));return y?new m(y.fontStyle,y.foreground,y.background):null}}s.Theme=h;class u{constructor(A,P){this.parent=A,this.scopeName=P}static push(A,P){for(const y of P)A=new u(A,y);return A}static from(...A){let P=null;for(let y=0;y<A.length;y++)P=new u(P,A[y]);return P}push(A){return new u(this,A)}getSegments(){let A=this;const P=[];for(;A;)P.push(A.scopeName),A=A.parent;return P.reverse(),P}toString(){return this.getSegments().join(" ")}extends(A){return this===A||this.parent!==null&&this.parent.extends(A)}getExtensionIfDefined(A){const P=[];let y=this;for(;y&&y!==A;)P.push(y.scopeName),y=y.parent;return y===A?P.reverse():void 0}}function v(S,A){return A===S||S.startsWith(A)&&S[A.length]==="."}s.ScopeStack=u;class m{constructor(A,P,y){this.fontStyle=A,this.foregroundId=P,this.backgroundId=y}}function w(S){if(!S)return[];if(!S.settings||!Array.isArray(S.settings))return[];let A=S.settings,P=[],y=0;for(let i=0,g=A.length;i<g;i++){let d,l=A[i];if(!l.settings)continue;if(typeof l.scope=="string"){let N=l.scope;N=N.replace(/^[,]+/,""),N=N.replace(/[,]+$/,""),d=N.split(",")}else d=Array.isArray(l.scope)?l.scope:[""];let f=-1;if(typeof l.settings.fontStyle=="string"){f=0;let N=l.settings.fontStyle.split(" ");for(let k=0,x=N.length;k<x;k++)switch(N[k]){case"italic":f|=1;break;case"bold":f|=2;break;case"underline":f|=4;break;case"strikethrough":f|=8}}let b=null;typeof l.settings.foreground=="string"&&a.isValidHexColor(l.settings.foreground)&&(b=l.settings.foreground);let T=null;typeof l.settings.background=="string"&&a.isValidHexColor(l.settings.background)&&(T=l.settings.background);for(let N=0,k=d.length;N<k;N++){let x=d[N].trim().split(" "),O=x[x.length-1],F=null;x.length>1&&(F=x.slice(0,x.length-1),F.reverse()),P[y++]=new I(O,F,i,f,b,T)}}return P}s.StyleAttributes=m,s.parseTheme=w;class I{constructor(A,P,y,i,g,d){this.scope=A,this.parentScopes=P,this.index=y,this.fontStyle=i,this.foreground=g,this.background=d}}s.ParsedThemeRule=I,s.fontStyleToString=function(S){if(S===-1)return"not set";let A="";return 1&S&&(A+="italic "),2&S&&(A+="bold "),4&S&&(A+="underline "),8&S&&(A+="strikethrough "),A===""&&(A="none"),A.trim()};class _{constructor(A){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(A)){this._isFrozen=!0;for(let P=0,y=A.length;P<y;P++)this._color2id[A[P]]=P,this._id2color[P]=A[P]}else this._isFrozen=!1}getId(A){if(A===null)return 0;A=A.toUpperCase();let P=this._color2id[A];if(P)return P;if(this._isFrozen)throw new Error(`Missing color in color map - ${A}`);return P=++this._lastColorId,this._color2id[A]=P,this._id2color[P]=A,P}getColorMap(){return this._id2color.slice(0)}}s.ColorMap=_;const E=Object.freeze([]);class C{constructor(A,P,y,i,g){this.scopeDepth=A,this.parentScopes=P||E,this.fontStyle=y,this.foreground=i,this.background=g}clone(){return new C(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(A){let P=[];for(let y=0,i=A.length;y<i;y++)P[y]=A[y].clone();return P}acceptOverwrite(A,P,y,i){this.scopeDepth>A?console.log("how did this happen?"):this.scopeDepth=A,P!==-1&&(this.fontStyle=P),y!==0&&(this.foreground=y),i!==0&&(this.background=i)}}s.ThemeTrieElementRule=C;class p{constructor(A,P=[],y={}){this._mainRule=A,this._children=y,this._rulesWithParentScopes=P}static _cmpBySpecificity(A,P){if(A.scopeDepth!==P.scopeDepth)return P.scopeDepth-A.scopeDepth;let y=0,i=0;for(;A.parentScopes[y]===">"&&y++,P.parentScopes[i]===">"&&i++,!(y>=A.parentScopes.length||i>=P.parentScopes.length);){const g=P.parentScopes[i].length-A.parentScopes[y].length;if(g!==0)return g;y++,i++}return P.parentScopes.length-A.parentScopes.length}match(A){if(A!==""){let y,i,g=A.indexOf(".");if(g===-1?(y=A,i=""):(y=A.substring(0,g),i=A.substring(g+1)),this._children.hasOwnProperty(y))return this._children[y].match(i)}const P=this._rulesWithParentScopes.concat(this._mainRule);return P.sort(p._cmpBySpecificity),P}insert(A,P,y,i,g,d){if(P==="")return void this._doInsertHere(A,y,i,g,d);let l,f,b,T=P.indexOf(".");T===-1?(l=P,f=""):(l=P.substring(0,T),f=P.substring(T+1)),this._children.hasOwnProperty(l)?b=this._children[l]:(b=new p(this._mainRule.clone(),C.cloneArr(this._rulesWithParentScopes)),this._children[l]=b),b.insert(A+1,f,y,i,g,d)}_doInsertHere(A,P,y,i,g){if(P!==null){for(let d=0,l=this._rulesWithParentScopes.length;d<l;d++){let f=this._rulesWithParentScopes[d];if(a.strArrCmp(f.parentScopes,P)===0)return void f.acceptOverwrite(A,y,i,g)}y===-1&&(y=this._mainRule.fontStyle),i===0&&(i=this._mainRule.foreground),g===0&&(g=this._mainRule.background),this._rulesWithParentScopes.push(new C(A,P,y,i,g))}else this._mainRule.acceptOverwrite(A,y,i,g)}}s.ThemeTrieElement=p},878:(c,s)=>{function o(u){return Array.isArray(u)?function(v){let m=[];for(let w=0,I=v.length;w<I;w++)m[w]=o(v[w]);return m}(u):typeof u=="object"?function(v){let m={};for(let w in v)m[w]=o(v[w]);return m}(u):u}Object.defineProperty(s,"__esModule",{value:!0}),s.performanceNow=s.CachedFn=s.escapeRegExpCharacters=s.isValidHexColor=s.strArrCmp=s.strcmp=s.RegexSource=s.basename=s.mergeObjects=s.clone=void 0,s.clone=function(u){return o(u)},s.mergeObjects=function(u,...v){return v.forEach(m=>{for(let w in m)u[w]=m[w]}),u},s.basename=function u(v){const m=~v.lastIndexOf("/")||~v.lastIndexOf("\\");return m===0?v:~m==v.length-1?u(v.substring(0,v.length-1)):v.substr(1+~m)};let a=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g;function h(u,v){return u<v?-1:u>v?1:0}s.RegexSource=class{static hasCaptures(u){return u!==null&&(a.lastIndex=0,a.test(u))}static replaceCaptures(u,v,m){return u.replace(a,(w,I,_,E)=>{let C=m[parseInt(I||_,10)];if(!C)return w;{let p=v.substring(C.start,C.end);for(;p[0]===".";)p=p.substring(1);switch(E){case"downcase":return p.toLowerCase();case"upcase":return p.toUpperCase();default:return p}}})}},s.strcmp=h,s.strArrCmp=function(u,v){if(u===null&&v===null)return 0;if(!u)return-1;if(!v)return 1;let m=u.length,w=v.length;if(m===w){for(let I=0;I<m;I++){let _=h(u[I],v[I]);if(_!==0)return _}return 0}return m-w},s.isValidHexColor=function(u){return!!(/^#[0-9a-f]{6}$/i.test(u)||/^#[0-9a-f]{8}$/i.test(u)||/^#[0-9a-f]{3}$/i.test(u)||/^#[0-9a-f]{4}$/i.test(u))},s.escapeRegExpCharacters=function(u){return u.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},s.CachedFn=class{constructor(u){this.fn=u,this.cache=new Map}get(u){if(this.cache.has(u))return this.cache.get(u);const v=this.fn(u);return this.cache.set(u,v),v}},s.performanceNow=typeof performance>"u"?function(){return Date.now()}:function(){return performance.now()}}},r={};return function c(s){var o=r[s];if(o!==void 0)return o.exports;var a=r[s]={exports:{}};return n[s].call(a.exports,a,a.exports,c),a.exports}(787)})())})(ks);var $n=ks.exports;function kr(t,e,n){let r;me(()=>{var c;const s=(c=e.style)==null?void 0:c[n];s!==r&&((r=s)!=null?t.style.setProperty(n,typeof s>"u"?null:s.toString()):t.style.removeProperty(n))})}function oa(t){let e=parseInt(t.slice(1),16),n=e>>16&255,r=e>>8&255,c=e&255;return[n,r,c]}function aa(t,e,n){const r=[t,e,n].map(c=>(c/=255,c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)));return r[0]*.2126+r[1]*.7152+r[2]*.0722}function ca(t,e,n){const r=typeof t=="function"?t():t;return r?e(r):n?n():void 0}function wn(t,e,n){return()=>ca(t,e,n)}function Rr(...t){function e(){const n=new Array(t.length);for(let r=0;r<t.length;r++){const c=typeof t[r]=="function"?t[r]():t[r];if(!c)return;n[r]=c}return n}return e}function la(t){return t===0?1:Math.floor(Math.log10(Math.abs(t)))+1}function Ir(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ua(t){let e=0;for(const n of t)n.length>e&&(e=n.length);return e}class fa{constructor(){Es(this,rt,[])}peek(){return Ve(this,rt)[Ve(this,rt).length-1]}push(e){Ve(this,rt).push(e)}pop(){return Ve(this,rt).pop()}}rt=new WeakMap;var ha=$e("<pre part=line>"),da=$e("<div part=root><code part=code></code><textarea part=textarea autocomplete=off inputmode=none></textarea><code aria-hidden>&nbsp;");const Ee=100,Gt=50,Sn={},pa=new $n.Registry({onigLib:ia,loadGrammar:t=>Cs("grammar",t).then(e=>(e.scopeName=t,e))}),[ga]=Je(()=>Be(async()=>fetch(Ts("oniguruma",null)).then(t=>t.arrayBuffer()).then(t=>Yn.loadWASM(t)).then(()=>!0)));class ma{constructor(e){Qo(this,"themeData"),Es(this,_t,{}),this.themeData=e}resolveScope(e){const n=e.join("-");if(Ve(this,_t)[n])return Ve(this,_t)[n];let r={};for(let c=0;c<e.length;c++){const s=e[c];for(const o of this.themeData.tokenColors){const a=Array.isArray(o.scope)?o.scope:[o.scope];for(const h of a)s.startsWith(h||"")&&(r={...r,...o.settings})}}return Ve(this,_t)[n]=r}getBackgroundColor(){var e;return((e=this.themeData.colors)==null?void 0:e["editor.background"])||void 0}getForegroundColor(){var e;return((e=this.themeData.colors)==null?void 0:e["editor.foreground"])||void 0}}_t=new WeakMap;function ya(t,e){let n=!1;return t===e?!0:!t||!e?!1:(t.ruleId!==e.ruleId&&(n=!0),t.depth!==e.depth&&(n=!0),xr(t.nameScopesList,e.nameScopesList)||(n=!0),xr(t.contentNameScopesList,e.contentNameScopesList)||(n=!0),!n)}function xr(t,e){var n,r;return!t&&!e?!0:!(!t||!e||((n=t.scopePath)==null?void 0:n.scopeName)!==((r=e.scopePath)==null?void 0:r.scopeName)||t.tokenAttributes!==e.tokenAttributes)}const Rs=Jr(null);function _a(){const t=Yr(Rs);if(!t)throw"useTextarea should be used in a descendant of TmTextarea";return t}function ba(t){function e(n){const r=_a(),c=r.segments.peek(),[s,o]=ue(c?.stack||$n.INITIAL,{equals:ya}),a=n.index*Ee,h=a+Ee,u=ta(wn(Rr(()=>r.tokenizer,()=>r.theme),([v,m])=>{let w=c?.stack||$n.INITIAL;const I=r.lines.slice(a,h).map(_=>{const{ruleStack:E,tokens:C}=v.tokenizeLine(_,w);return w=E,C.map(p=>{const S=m.resolveScope(p.scopes),A=_.slice(p.startIndex,p.endIndex);return`<span style="${S.foreground?`color:${S.foreground};`:""}${S.fontStyle?`text-decoration:${S.fontStyle}`:""}">${Ir(A)}</span>`}).join("")});return o(w),I},()=>r.lines.slice(a,h).map(Ir)));return r.segments.push({get stack(){return s()}}),Ae(()=>r.segments.pop()),we(At,{get when(){return r.isSegmentVisible(n.index*Ee)},get children(){return we(or,{get each(){return Array.from({length:Ee})},children:(v,m)=>we(At,{get when(){return r.isVisible(n.index*Ee+m)},get children(){var w=ha();return me(I=>{var _,E=t.line,C=(_=u())==null?void 0:_[m],p=n.index*Ee+m;return E!==I.e&&gt(w,I.e=E),C!==I.t&&(w.innerHTML=I.t=C),p!==I.a&&((I.a=p)!=null?w.style.setProperty("--tm-line-number",p):w.style.removeProperty("--tm-line-number")),I},{e:void 0,t:void 0,a:void 0}),w}})})}})}return function(r){const[c,s]=Nn(ct({editable:!0},r),["class","grammar","onInput","value","style","theme","editable","onScroll","textareaRef"]);let o;const[a,h]=ue(),[u,v]=ue(),[m,w]=ue(0),[I,_]=ue(r.value),[E]=Be(Rr(()=>r.grammar,ga),async([l])=>l in Sn?Sn[l]:Sn[l]=await pa.loadGrammar(l)),[C]=Be(()=>r.theme,async l=>Cs("theme",l).then(f=>new ma(f))),p=fe(()=>I().split(`
`)),S=fe(()=>ua(p())),A=fe(()=>{var l;return Math.floor(m()/(((l=a())==null?void 0:l.height)||1))}),P=fe(()=>{var l,f;return Math.floor((m()+(((l=u())==null?void 0:l.height)||0))/(((f=a())==null?void 0:f.height)||1))}),y=fe(()=>Math.floor(A()/Ee)),i=fe(()=>Math.ceil(P()/Ee)),g=wn(C,l=>{const f=l.getBackgroundColor(),b=aa(...oa(f));return`rgba(98, 114, 164, ${b>.9?.1:b<.1?.25:.175})`}),d=wn(()=>c.style,l=>Nn(l,["width","height"])[1]);return Vr(()=>new ResizeObserver(([l])=>v(l?.contentRect)).observe(o)),me(()=>_(r.value)),me(()=>{var l;return console.log((l=C())==null?void 0:l.getForegroundColor())}),we(Rs.Provider,{get value(){return{get viewport(){return u()},get character(){return a()},get scrollTop(){return m()},get lines(){return p()},get theme(){return C()},get tokenizer(){return E()},segments:new fa,isVisible:rr(()=>[A(),P()],(l,[f,b])=>l>p().length-1?!1:l+Gt>f&&l-Gt<b),isSegmentVisible:rr(()=>[y(),i()],l=>{const f=Math.floor((l-Gt)/Ee),b=Math.ceil((l+Gt)/Ee);return f<=y()&&b>=i()||f>=y()&&f<=i()||b>=y()&&b<=i()})}},get children(){var l=da(),f=l.firstChild,b=f.nextSibling,T=b.nextSibling;l.addEventListener("scroll",k=>{var x;w(k.currentTarget.scrollTop),(x=r.onScroll)==null||x.call(r,k)}),bt(k=>{o=k,kr(k,r,"width"),kr(k,r,"height")},l),ns(l,ct({get class(){return na(t.container,c.class)},get style(){var k,x,O,F;return{"--tm-background-color":(k=C())==null?void 0:k.getBackgroundColor(),"--tm-char-height":`${((x=a())==null?void 0:x.height)||0}px`,"--tm-char-width":`${((O=a())==null?void 0:O.width)||0}px`,"--tm-foreground-color":(F=C())==null?void 0:F.getForegroundColor(),"--tm-line-count":p().length,"--tm-line-size":S(),"--tm-selection-color":g(),"--tm-line-digits":la(p().length),...d()}}},s),!1,!0),Wn(f,we(or,{get each(){return Array.from({length:Math.ceil(p().length/Ee)})},children:(k,x)=>we(e,{index:x})})),b.$$keydown=k=>{if(k.key==="Enter"){k.preventDefault();const x=o.scrollTop,O=k.currentTarget.selectionStart,F=k.currentTarget.selectionEnd,G=k.currentTarget.value;k.currentTarget.value=_(G.substring(0,O)+`
`+G.substring(F)),k.currentTarget.selectionStart=k.currentTarget.selectionEnd=O+1,o.scrollTop=x}},b.addEventListener("scroll",k=>{k.preventDefault(),k.stopPropagation()});var N=c.textareaRef;return typeof N=="function"?bt(N,b):c.textareaRef=b,lt(b,"spellcheck",!1),b.addEventListener("input",k=>{var x;const F=k.currentTarget.value;_(F),(x=c.onInput)==null||x.call(c,k)}),bt(k=>{new ResizeObserver(([x])=>{const{height:O,width:F}=getComputedStyle(x.target);h({height:Number(O.replace("px","")),width:Number(F.replace("px",""))})}).observe(k)},T),me(k=>{var x=t.code,O=t.textarea,F=!c.editable,G=p().length,M=t.character;return x!==k.e&&gt(f,k.e=x),O!==k.t&&gt(b,k.t=O),F!==k.a&&(b.disabled=k.a=F),G!==k.o&&lt(b,"rows",k.o=G),M!==k.i&&gt(T,k.i=M),k},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),me(()=>b.value=c.value),l}})}}sn(["keydown"]);var va=Object.defineProperty,wa=(t,e,n)=>e in t?va(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Te=(t,e,n)=>(wa(t,typeof e!="symbol"?e+"":e,n),n),Qn=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},de=(t,e,n)=>(Qn(t,e,"read from private field"),n?n.call(t):e.get(t)),ge=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},it=(t,e,n,r)=>(Qn(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ot=(t,e,n)=>(Qn(t,e,"access private method"),n),Ln,Is,xs,zt,Oe,tn,Zn,Ot,Mn,$s,jn,Ls;function Sa(t){var e,n,r,c,s,o,a,h,u,v;return v=class extends t{constructor(){super(...arguments),ge(this,n),ge(this,r),ge(this,o),ge(this,h),ge(this,e,new Set),ge(this,c,null),ge(this,s,null)}createEffect(m){ot(this,o,a).call(this,m)}stopEffects(){ot(this,h,u).call(this)}},e=new WeakMap,n=new WeakSet,r=new WeakSet,c=new WeakMap,s=new WeakMap,o=new WeakSet,a=function(m){if(!de(this,c))Je(w=>{it(this,c,Ie()),it(this,s,w),ot(this,o,a).call(this,m)});else{let w=Ie();for(;w&&w!==de(this,c);)w=w?.owner??null;if(w===de(this,c))return be(m);Xr(de(this,c),()=>be(m))}},h=new WeakSet,u=function(){var m;(m=de(this,s))==null||m.call(this)},v}function Aa(t,e){let n=t,r;for(;n;){if(r=Object.getOwnPropertyDescriptor(n,e),r)return r.owner=n,r;n=n.__proto__}}const Bt=new WeakMap;function Ta(t,...e){const n=e.length?e:Object.keys(t).concat(Object.getOwnPropertySymbols(t));for(const r of n)Ms(t,r);return t}let $r=!1;function Ca(){if($r)throw new Error('Export "createSignalAccessor" is internal to classy-solid only.');return $r=!0,Ms}const Ht=new WeakMap;function Ea(t,e){var n;return!!((n=Ht.get(t))!=null&&n.has(e))}function Lr(t,e){Ht.has(t)||Ht.set(t,new Set),Ht.get(t).add(e)}const Mr=new WeakSet;function Ms(t,e,n=ce(()=>t[e]),r=!1){var c;if(!r&&((c=Bt.get(t))!=null&&c.has(e))||t[Se])return;let o=Aa(t,e),a,h;if(o){if(a=o.get,h=o.set,a&&Mr.has(a))return;if(a||h){if(!a||!h){console.warn(`The \`@signal\` decorator was used on an accessor named "${e.toString()}" which had a getter or a setter, but not both. Reactivity on accessors works only when accessors have both get and set. In this case the decorator does not do anything.`);return}delete o.get,delete o.set}else{if(n=o.value,!o.writable){console.warn(`The \`@signal\` decorator was used on a property named "${e.toString()}" that is not writable. Reactivity is not enabled for non-writable properties.`);return}delete o.value,delete o.writable}}const u=ue(n,{equals:!1});o={configurable:!0,enumerable:!0,...o,get:a?function(){return u[0](),a.call(this)}:function(){return u[0]()},set:h?function(v){h.call(this,v),Lr(this,e),typeof v=="function"?u[1](()=>v):u[1](v)}:function(v){Lr(this,e),typeof v=="function"?u[1](()=>v):u[1](v)}},Mr.add(o.get),Object.defineProperty(t,e,o),Bt.has(t)||Bt.set(t,new Set),Bt.get(t).add(e)}let ln=new Map,wt=null;function Pa(){if(wt)throw new Error("Attempted use of classy-solid internals.");return wt=Symbol(),wt}function Oa(t){if(t!==wt)throw new Error("Attempted use of classy-solid internals.");return ln}function Na(t){if(t!==wt)throw new Error("Attempted use of classy-solid internals.");ln=new Map}function ka(t){return"private"in t}function jr(t,e){const{kind:n,name:r}=e,c=ln;if(ka(e)){if(e.private)throw new Error("@signal is not supported on private fields yet.");if(e.static)throw new Error("@signal is not supported on static fields yet.")}if(n==="field")return c.set(r,{initialValue:void 0}),function(s){return c.get(r).initialValue=s,s};if(n==="getter"||n==="setter")c.set(r,{initialValue:void 0});else throw new Error("The @signal decorator is only for use on fields, getters, and setters. Auto accessor support is coming next if there is demand for it.");Ra(c)}let An=!1;function Ra(t){An||(An=!0,queueMicrotask(()=>{if(An=!1,t===ln)throw new Error(`Stray @signal-decorated properties detected: ${Array.from(t.keys()).join(", ")}. Did you forget to use the \`@reactive\` decorator on a class that has properties decorated with \`@signal\`?`)}))}const Dr=Pa(),Ia=Ca(),Gr=Object.prototype.hasOwnProperty;function xa(t,e){if(typeof t!="function"||e&&e.kind!=="class")throw new TypeError("The @reactive decorator is only for use on classes.");const n=t,r=Oa(Dr);Na(Dr);class c extends n{constructor(...o){let a;at()?ce(()=>a=Reflect.construct(n,o,new.target)):(super(...o),a=this);for(const[h,{initialValue:u}]of r){if(!(Gr.call(a,h)||Gr.call(n.prototype,h)))throw new Error(`Property "${h.toString()}" not found on instance of class decorated with \`@reactive\`. Did you forget to use the \`@reactive\` decorator on one of your classes that has a "${h.toString()}" property decorated with \`@signal\`?`);Ia(a,h,u,!0)}return a}}return c}var Nt;let dt;const $a=globalThis.HTMLElement??class{constructor(){throw new Error("@lume/element needs a DOM to operate with! If this code is running during server-side rendering, it means your app is trying to instantiate elements when it shouldn't be, and should be refactored to avoid doing that when no DOM is present.")}};class Fe extends Sa($a){constructor(){super(...arguments),ge(this,Ln),ge(this,Mn),ge(this,jn),ge(this,xs,ot(this,Ln,Is).call(this)),Te(this,"hasShadow",!0),Te(this,"__root",null),ge(this,zt,void 0),ge(this,Oe,null),ge(this,tn,e=>`${e} {
		display: block;
	}`),ge(this,Zn,Nt.__elementId++),ge(this,Ot,null)}static defineElement(e,n=customElements){if(e){if(n.get(e))return console.warn(`defineElement(): An element class was already defined for tag name ${e}.`),this;{const r=class extends this{};return r.elementName=e,n.define(e,r),r}}else return e=this.elementName,n.get(e)?(console.warn(`defineElement(): An element class was already defined for tag name ${e}.`),this):(n.define(e,this),this)}get root(){return this.hasShadow?this.__root?this.__root:this.shadowRoot?this.__root=this.shadowRoot:this.__root=this.attachShadow({mode:"open"}):this}set root(e){if(!this.hasShadow)throw new Error("Can not set root, element.hasShadow is false.");if(this.__root||this.shadowRoot)throw new Error("Element root can only be set once if there is no ShadowRoot.");this.__root=e}get styleRoot(){return this.root}attachShadow(e){return this.__root&&console.warn("Element already has a root defined."),this.__root=super.attachShadow(e)}connectedCallback(){const e=this.template;e&&it(this,zt,Fn(typeof e=="function"?e.bind(this):()=>e,this.root)),ot(this,Mn,$s).call(this)}disconnectedCallback(){var e;this.stopEffects(),(e=de(this,zt))==null||e.call(this),ot(this,jn,Ls).call(this)}adoptedCallback(){}}Ln=new WeakSet;Is=function(){const t=Object.keys(this);this._preUpgradeValues=new Map;for(const e of t){const n=Object.getOwnPropertyDescriptor(this,e);"value"in n&&(delete this[e],this._preUpgradeValues.set(e,n.value),queueMicrotask(()=>{if(Ea(this,e))return;e in this.__proto__&&(this[e]=n.value)}))}};xs=new WeakMap;zt=new WeakMap;Oe=new WeakMap;tn=new WeakMap;Zn=new WeakMap;Ot=new WeakMap;Mn=new WeakSet;$s=function(){dt=this.constructor;const t=typeof dt.css=="function"?dt.css=dt.css():dt.css||"",e=typeof this.css=="function"?this.css():this.css||"";if(this.hasShadow){const n=":host",r=document.createElement("style");r.innerHTML=`
				${de(this,tn).call(this,n)}
				${t}
				${e}
			`,this.styleRoot.appendChild(r)}else{const n=this.getRootNode();it(this,Oe,n===document?document.head:n);let r=Nt.__styleRootNodeRefCountPerTagName.get(de(this,Oe));r||Nt.__styleRootNodeRefCountPerTagName.set(de(this,Oe),r={});const c=r[this.tagName]||0;if(r[this.tagName]=c+1,c===0){const s=this.tagName.toLowerCase(),o=document.createElement("style");o.innerHTML=`
					${de(this,tn).call(this,s)}
					${t&&t.replaceAll(":host",s)}
				`,o.id=this.tagName.toLowerCase(),de(this,Oe).appendChild(o)}if(e){const s=this.tagName.toLowerCase()+"-"+de(this,Zn);this.setAttribute(s,"");const o=it(this,Ot,document.createElement("style"));o.id=s,o.innerHTML=e.replaceAll(":host",`[${s}]`);const a=this.getRootNode();it(this,Oe,a===document?document.head:a),de(this,Oe).appendChild(o)}}};jn=new WeakSet;Ls=function(){do{if(this.hasShadow)break;const t=Nt.__styleRootNodeRefCountPerTagName.get(de(this,Oe));if(!t)break;let e=t[this.tagName];if(e===void 0)break;if(t[this.tagName]=--e,e===0){delete t[this.tagName];const n=de(this,Oe).querySelector("#"+this.tagName);n?.remove()}}while(!1);de(this,Ot)&&de(this,Ot).remove()};Te(Fe,"elementName","");Te(Fe,"observedAttributes");Te(Fe,"__styleRootNodeRefCountPerTagName",new WeakMap);Te(Fe,"__elementId",0);Nt=Fe;Symbol.metadata??(Symbol.metadata=Symbol.for("Symbol.metadata"));function La(t){return t.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}function Ma(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0,enumerable:!0})}const Dn=[];function Ye(t,e){if(arguments.length===2)return Br(t,e,void 0);const n=t;return(r,c)=>Br(r,c,n)}function Br(t,e,n={}){const{kind:r,name:c,private:s,static:o,metadata:a}=e,h=Object.hasOwn(a,"noSignal")&&a.noSignal||void 0,u=!h?.has(c);if(typeof c=="symbol")throw new Error("@attribute is not supported on symbol fields yet.");if(s)throw new Error("@attribute is not supported on private fields yet.");if(o)throw new Error("@attribute is not supported on static fields.");if(Dn.push(v=>js(v,c,n)),r==="field"){const v=u?jr(t,e):m=>m;return function(m){return m=v(m),"default"in n||(n.default=m),m}}else if(r==="getter"||r==="setter")u&&jr(t,e);else throw new Error("@attribute is only for use on fields, getters, and setters. Auto accessor support is coming next if there is demand for it.")}function js(t,e,n){if(!t.observedAttributes||!t.hasOwnProperty("observedAttributes")){const c=t.__proto__.observedAttributes;if(c&&!Array.isArray(c))throw new TypeError("observedAttributes is in the wrong format. Did you forget to decorate your custom element class with the `@element` decorator?");Ma(t,"observedAttributes",[...c||[]])}if(!Array.isArray(t.observedAttributes))throw new TypeError("observedAttributes is in the wrong format. Maybe you forgot to decorate your custom element class with the `@element` decorator.");const r=La(e);t.observedAttributes.includes(r)||t.observedAttributes.push(r),ja(t.prototype,r,e,n)}function ja(t,e,n,r){if(!t.__hasAttributeChangedCallback){t.__hasAttributeChangedCallback=!0;const c=t.attributeChangedCallback;t.attributeChangedCallback=function(s,o,a){var h,u;c?c.call(this,s,o,a):(u=(h=t.__proto__)==null?void 0:h.attributeChangedCallback)==null||u.call(this,s,o,a);const v=this.__attributesToProps&&this.__attributesToProps[s];if(v){const m=v.attributeHandler;this[v.name]=m?a===null?"default"in m?m.default:null:m.from?m.from(a):a:a}}}t.hasOwnProperty("__attributesToProps")||Object.defineProperty(t,"__attributesToProps",{value:{__proto__:t.__attributesToProps||Object.prototype}}),t.__attributesToProps[e]={name:n,attributeHandler:r}}const Da=t=>t;Ye.string=()=>({from:Da});function Ft(t,e){return Ye(Ye.string())(t,e)}const Ga=t=>+t;Ye.number=()=>({from:Ga});const Ba=t=>t!=="false";Ye.boolean=()=>({from:Ba});function Fa(t,e){return Ye(Ye.boolean())(t,e)}function Wa(t,e){let n="",r=!0;return n=t,(c,s)=>Ua(c,s,n,r)}function Ua(t,e,n,r){if(typeof t!="function"||e&&e.kind!=="class")throw new Error("@element is only for use on classes.");const{metadata:c={}}=e??{},s=Object.hasOwn(c,"noSignal")&&c.noSignal||void 0;let o=t;const a=o.observedAttributes;if(o.hasOwnProperty("elementName")?n=o.elementName||n:o.elementName=n,!Array.isArray(a)){if(a&&typeof a=="object"){o.observedAttributes=void 0;for(const m in a)js(o,m,a[m])}}o=xa(o,e);class h extends o{constructor(...w){super(...w),ce(()=>{za(this);const I=[],_=h.prototype.__attributesToProps??{};for(const E of Object.values(_)){const C=E.name;!s?.has(C)&&I.push(C);const S=E.attributeHandler;S&&!("default"in S)&&(S.default=this[C])}I.length&&Ta(this,...I)})}}const u=[...Dn];Dn.length=0;function v(){var m,w;for(const I of u)I(h);n&&r&&((w=(m=globalThis.window)==null?void 0:m.customElements)==null||w.define(n,h))}return e?.addInitializer?e.addInitializer(v):v(),h}function za(t){if(t instanceof Fe)for(const[e,n]of t._preUpgradeValues){if(!(e in t))continue;t._preUpgradeValues.delete(e);const r=Object.getOwnPropertyDescriptor(t,e);r&&"value"in r&&delete t[e],t[e]=n}}const Ha=["container","code","line","character","textarea"],qa=`:host {
  display: contents;

  & .container {
    all: inherit;
    display: flex;
    position: relative;
    box-sizing: border-box;
    background: var(--tm-background-color, inherit);
    overflow: auto;
    color: var(--tm-foreground-color, inherit);
  }
}

.container {
  --tm-min-height: calc(var(--tm-line-count) * var(--tm-char-height));
  --tm-min-width: calc(var(--tm-line-size) * 1ch);
  display: flex;
  position: relative;
  box-sizing: border-box;
  background-color: var(--tm-background-color);
  overflow: auto;
  color: var(--tm-foreground-color);
  font-size: 13px;

  & .code {
    display: block;
    position: absolute;
    z-index: 1;
    /* fixes color change when textarea is focused */
    backface-visibility: hidden;
    contain: layout;
    pointer-events: none;
    font-size: inherit;
    line-height: inherit;
    font-family: monospace;
    white-space: pre;

    & .line {
      position: absolute;
      top: calc(var(--tm-line-number) * var(--tm-char-height));
      margin: 0px;

      & span {
        margin: 0px;
        background: transparent !important;
      }
    }
  }

  & .character {
    position: absolute;
    align-self: start;
    visibility: hidden;
    pointer-events: none;
    font-size: inherit;
    line-height: inherit;
  }

  & .textarea {
    transition: color 0.5s;
    outline: none;
    border: none;
    background: transparent;
    padding: 0px;
    width: 100%;
    min-width: var(--tm-min-width);
    height: 100%;
    min-height: var(--tm-min-height);
    overflow: hidden;
    resize: none;
    color: transparent;
    caret-color: var(--tm-foreground-color);
    font-size: inherit;
    line-height: inherit;
    font-family: monospace;
    text-align: inherit;
    white-space: pre;
  }

  & .textarea::selection {
    background: var(--tm-selection-color);
  }
}
`,Tn=new Map;function Ds(t){if(t instanceof CSSStyleSheet)return t;if(!Tn.has(t)){const e=new CSSStyleSheet;e.replace(t),Tn.set(t,e)}return Tn.get(t)}let Gs,Bs,Fs,Ws,Us,zs,Hs;function Ka(t,e,n,r,c,s){function o(_,E,C){return function(p,S){return C&&C(p),_[E].call(p,S)}}function a(_,E){for(var C=0;C<_.length;C++)_[C].call(E);return E}function h(_,E,C,p){if(typeof _!="function"&&(p||_!==void 0))throw new TypeError(E+" must "+(C||"be")+" a function"+(p?"":" or undefined"));return _}function u(_,E,C,p,S,A,P,y,i,g,d,l,f){function b(j){if(!f(j))throw new TypeError("Attempted to access private element on non-instance")}var T,N=E[0],k=E[3],x=!y;if(!x){C||Array.isArray(N)||(N=[N]);var O={},F=[],G=S===3?"get":S===4||l?"set":"value";g?(d||l?O={get:Fr(function(){return k(this)},p,"get"),set:function(j){E[4](this,j)}}:O[G]=k,d||Fr(O[G],p,S===2?"":G)):d||(O=Object.getOwnPropertyDescriptor(_,p))}for(var M=_,X=N.length-1;X>=0;X-=C?2:1){var ne=N[X],ee=C?N[X-1]:void 0,V={},z={kind:["field","accessor","method","getter","setter","class"][S],name:p,metadata:A,addInitializer:function(j,U){if(j.v)throw Error("attempted to call addInitializer after decoration was finished");h(U,"An initializer","be",!0),P.push(U)}.bind(null,V)};try{if(x)(T=h(ne.call(ee,M,z),"class decorators","return"))&&(M=T);else{var q,te;z.static=i,z.private=g,g?S===2?q=function(j){return b(j),O.value}:(S<4&&(q=o(O,"get",b)),S!==3&&(te=o(O,"set",b))):(q=function(j){return j[p]},(S<2||S===4)&&(te=function(j,U){j[p]=U}));var L=z.access={has:g?f.bind():function(j){return p in j}};if(q&&(L.get=q),te&&(L.set=te),M=ne.call(ee,l?{get:O.get,set:O.set}:O[G],z),l){if(typeof M=="object"&&M)(T=h(M.get,"accessor.get"))&&(O.get=T),(T=h(M.set,"accessor.set"))&&(O.set=T),(T=h(M.init,"accessor.init"))&&F.push(T);else if(M!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else h(M,(d?"field":"method")+" decorators","return")&&(d?F.push(M):O[G]=M)}}finally{V.v=!0}}return(d||l)&&y.push(function(j,U){for(var Z=F.length-1;Z>=0;Z--)U=F[Z].call(j,U);return U}),d||x||(g?l?y.push(o(O,"get"),o(O,"set")):y.push(S===2?O[G]:o.call.bind(O[G])):Object.defineProperty(_,p,O)),M}function v(_,E){return Object.defineProperty(_,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:E})}if(arguments.length>=6)var m=s[Symbol.metadata||Symbol.for("Symbol.metadata")];var w=Object.create(m??null),I=function(_,E,C,p){var S,A,P=[],y=function(G){return Ja(G)===_},i=new Map;function g(G){G&&P.push(a.bind(null,G))}for(var d=0;d<E.length;d++){var l=E[d];if(Array.isArray(l)){var f=l[1],b=l[2],T=l.length>3,N=16&f,k=!!(8&f),x=(f&=7)==0,O=b+"/"+k;if(!x&&!T){var F=i.get(O);if(F===!0||F===3&&f!==4||F===4&&f!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+b);i.set(O,!(f>2)||f)}u(k?_:_.prototype,l,N,T?"#"+b:Va(b),f,p,k?A=A||[]:S=S||[],P,k,T,x,f===1,k&&T?y:C)}}return g(S),g(A),P}(t,e,c,w);return n.length||v(t,w),{e:I,get c(){var _=[];return n.length&&[v(u(t,[n],r,t.name,5,w,_),w),a.bind(null,_,t)]}}}function Va(t){var e=Xa(t,"string");return typeof e=="symbol"?e:e+""}function Xa(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Fr(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function Ja(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}const Ya=ba(Object.fromEntries(Ha.map(t=>[t,t]))),Qa=Ds(qa);Bs=[Wa("tm-textarea")];let qs;const Za=class extends Fe{constructor(){super(...arguments),Te(this,"editable",Fs(this,!0)),Te(this,"grammar",Ws(this,"tsx")),Te(this,"stylesheet",Us(this,"")),Te(this,"theme",zs(this,"dark-plus")),Te(this,"value",Hs(this,"")),Te(this,"template",()=>{const e=this,n=this.shadowRoot.adoptedStyleSheets;return n.push(Qa),this.stylesheet&&n.push(Ds(this.stylesheet)),we(Ya,{get grammar(){return e.grammar},get theme(){return e.theme},get value(){return e.value},get editable(){return e.editable},onInput:r=>e.value=r.currentTarget.value})})}};({e:[Fs,Ws,Us,zs,Hs],c:[qs,Gs]}=Ka(Za,[[Fa,0,"editable"],[Ft,0,"grammar"],[Ft,0,"stylesheet"],[Ft,0,"theme"],[Ft,0,"value"]],Bs,0,void 0,Fe));Gs();function ec(){customElements.get("tm-textarea")||customElements.define("tm-textarea",qs)}let Ks,Vs,Xs,Js,Ys;var tc=$e("<tm-textarea class=tm-textarea>",!0,!1);function nc(t,e,n,r,c,s){function o(_,E,C){return function(p,S){return C&&C(p),_[E].call(p,S)}}function a(_,E){for(var C=0;C<_.length;C++)_[C].call(E);return E}function h(_,E,C,p){if(typeof _!="function"&&(p||_!==void 0))throw new TypeError(E+" must "+(C||"be")+" a function"+(p?"":" or undefined"));return _}function u(_,E,C,p,S,A,P,y,i,g,d,l,f){function b(j){if(!f(j))throw new TypeError("Attempted to access private element on non-instance")}var T,N=E[0],k=E[3],x=!y;if(!x){C||Array.isArray(N)||(N=[N]);var O={},F=[],G=S===3?"get":S===4||l?"set":"value";g?(d||l?O={get:Wr(function(){return k(this)},p,"get"),set:function(j){E[4](this,j)}}:O[G]=k,d||Wr(O[G],p,S===2?"":G)):d||(O=Object.getOwnPropertyDescriptor(_,p))}for(var M=_,X=N.length-1;X>=0;X-=C?2:1){var ne=N[X],ee=C?N[X-1]:void 0,V={},z={kind:["field","accessor","method","getter","setter","class"][S],name:p,metadata:A,addInitializer:function(j,U){if(j.v)throw Error("attempted to call addInitializer after decoration was finished");h(U,"An initializer","be",!0),P.push(U)}.bind(null,V)};try{if(x)(T=h(ne.call(ee,M,z),"class decorators","return"))&&(M=T);else{var q,te;z.static=i,z.private=g,g?S===2?q=function(j){return b(j),O.value}:(S<4&&(q=o(O,"get",b)),S!==3&&(te=o(O,"set",b))):(q=function(j){return j[p]},(S<2||S===4)&&(te=function(j,U){j[p]=U}));var L=z.access={has:g?f.bind():function(j){return p in j}};if(q&&(L.get=q),te&&(L.set=te),M=ne.call(ee,l?{get:O.get,set:O.set}:O[G],z),l){if(typeof M=="object"&&M)(T=h(M.get,"accessor.get"))&&(O.get=T),(T=h(M.set,"accessor.set"))&&(O.set=T),(T=h(M.init,"accessor.init"))&&F.push(T);else if(M!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else h(M,(d?"field":"method")+" decorators","return")&&(d?F.push(M):O[G]=M)}}finally{V.v=!0}}return(d||l)&&y.push(function(j,U){for(var Z=F.length-1;Z>=0;Z--)U=F[Z].call(j,U);return U}),d||x||(g?l?y.push(o(O,"get"),o(O,"set")):y.push(S===2?O[G]:o.call.bind(O[G])):Object.defineProperty(_,p,O)),M}function v(_,E){return Object.defineProperty(_,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:E})}if(arguments.length>=6)var m=s[Symbol.metadata||Symbol.for("Symbol.metadata")];var w=Object.create(m??null),I=function(_,E,C,p){var S,A,P=[],y=function(G){return ic(G)===_},i=new Map;function g(G){G&&P.push(a.bind(null,G))}for(var d=0;d<E.length;d++){var l=E[d];if(Array.isArray(l)){var f=l[1],b=l[2],T=l.length>3,N=16&f,k=!!(8&f),x=(f&=7)==0,O=b+"/"+k;if(!x&&!T){var F=i.get(O);if(F===!0||F===3&&f!==4||F===4&&f!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+b);i.set(O,!(f>2)||f)}u(k?_:_.prototype,l,N,T?"#"+b:rc(b),f,p,k?A=A||[]:S=S||[],P,k,T,x,f===1,k&&T?y:C)}}return g(S),g(A),P}(t,e,c,w);return n.length||v(t,w),{e:I,get c(){var _=[];return n.length&&[v(u(t,[n],r,t.name,5,w,_),w),a.bind(null,_,t)]}}}function rc(t){var e=sc(t,"string");return typeof e=="symbol"?e:e+""}function sc(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wr(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function ic(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}ec();const oc={ts:"typescript","module.css":"css",tsx:"tsx",jsx:"jsx",wat:"wat",css:"css",js:"javascript"};function ac(t){const e=Xo(t.split("."));return e&&oc[e]}Vs=[cn("repl-tm-editor")];let cc;const lc=class extends ke{path=Xs(this,"");theme=Js(this,"andromeeda");runtime=Ys(this,null);css=`
    :host {
      display: contents;
    }

    .tm-textarea {
      all: inherit;
    }
  `;template=()=>{const e=this,n=Xn(this);return we(At,{get when(){return e.runtime||n()},children:r=>{const c=fe(()=>r().fs.getOrCreate(e.path));return(()=>{var s=tc();return s.$$input=o=>c().set(o.currentTarget.value),s._$owner=Ie(),me(o=>{var a=ac(c().path),h=e.theme;return a!==o.e&&(s.grammar=o.e=a),h!==o.t&&(s.theme=o.t=h),o},{e:void 0,t:void 0}),me(()=>s.value=c().get()),s})()}})};get value(){return""}};({e:[Xs,Js,Ys],c:[cc,Ks]}=nc(lc,[[en,0,"path"],[en,0,"theme"],[ft,0,"runtime"]],Vs,0,void 0,ke));Ks();sn(["input"]);const uc=crypto;function pt(t){let e,n=0;return()=>((!e||n===e.length)&&(e=new t(65536/(t.BYTES_PER_ELEMENT*8)),n=0,uc.getRandomValues(e)),e[n++])}function fc(t,e){let n=0,r=e;return()=>(r===e&&(n=t(),r=0),n&1<<r++?1:0)}const hc={get1:fc(pt(Uint8Array),8),get8:pt(Uint8Array),get16:pt(Uint16Array),get32:pt(Uint32Array),get64:pt(BigUint64Array)},Wt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0")),dc=()=>{let t="";for(let e=0;e<4;e++){const n=hc.get32();t+=Wt[n>>>24&255],t+=Wt[n>>>16&255],t+=Wt[n>>>8&255],t+=Wt[n&255]}return t},pc=dc;class gc extends on{jsFile;constructor(e,n){super(e,n),this.jsFile=e.fs.create(`${n}.ts`),be(()=>{const r={},c=mc(this.get(),s=>{const o=`${s}___REPL___${pc()}`;return r[s]=o,o});this.jsFile.set(`${is(n,c)}
export default ${JSON.stringify(r)} as const
        `)})}generate(){return this.jsFile.generate()}get url(){return this.jsFile.url}moduleTransform(){const e=this.generate();if(!e)throw"Module not loaded";return e}}function mc(t,e){const n=/\.([a-zA-Z_][\w-]*)\b/g,r={};{const o=t.replace(/\/\*[^*]*\*+(?:[^/*][^*]*\*+)*\//g,h=>" ".repeat(h.length)).replace(/(["'])(?:(?=(\\?))\2.)*?\1/g,h=>" ".repeat(h.length));let a;for(;(a=n.exec(o))!==null;){const h=a[1];h&&(r[h]||(r[h]=[]),r[h].push([a.index+1,a.index+1+h.length]))}}const c=[];let s=0;{for(const o in r){const a=e(o);for(const[h,u]of r[o])c.push(t.slice(s,h)),c.push(a),s=u}c.push(t.slice(s))}return c.join("")}const yc="modulepreload",_c=function(t,e){return new URL(t,e).href},Ur={},St=function(e,n,r){if(!n||n.length===0)return e();const c=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=_c(s,r),s in Ur)return;Ur[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let v=c.length-1;v>=0;v--){const m=c[v];if(m.href===s&&(!o||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":yc,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((v,m)=>{u.addEventListener("load",v),u.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};async function bc(t){const e=await(t?.typescript||St(()=>import("https://esm.sh/typescript"),[],import.meta.url));return function(n,r){const c=e.createSourceFile("",n,e.ScriptTarget.Latest,!0,e.ScriptKind.TS);let s=!1;const o=e.transform(c,[h=>{const u=v=>{if((e.isImportDeclaration(v)||e.isExportDeclaration(v))&&v.moduleSpecifier&&e.isStringLiteral(v.moduleSpecifier)){const m=e.isImportDeclaration(v),w=v.moduleSpecifier.text,I=r(v.moduleSpecifier.text);if(I===null){s=!0;return}if(v.moduleSpecifier.text=I,w!==v.moduleSpecifier.text)return s=!0,m?e.factory.updateImportDeclaration(v,v.modifiers,v.importClause,e.factory.createStringLiteral(I),v.assertClause):e.factory.updateExportDeclaration(v,v.modifiers,!1,v.exportClause,e.factory.createStringLiteral(I),v.assertClause)}return e.visitEachChild(v,u,h)};return v=>e.visitNode(v,u)}]);return o.transformed[0]?s?e.createPrinter({newLine:e.NewLineKind.LineFeed}).printFile(o.transformed[0]):n:void 0}}async function vc(t){const e=t.cdn||"https://esm.sh",[n,r,c]=await Promise.all([t.babel||St(()=>import(`${e}/@babel/standalone`),[],import.meta.url),Promise.all(t.presets?.map(s=>St(()=>import(`${e}/${s}`),[],import.meta.url).then(o=>o.default))||[]),Promise.all(t.plugins?.map(s=>typeof s=="string"?St(()=>import(`${e}/${s}`),[],import.meta.url).then(o=>o.default):s)||[])]);return(s,o)=>{const a=n.transform(s,{presets:r,plugins:c}).code;if(!a)throw`Babel transform failed for file ${o} with source: 

 ${s}`;return a}}async function wc(t){const e=await(t?.typescript||St(()=>import("https://esm.sh/typescript"),[],import.meta.url));return(n,r)=>r.endsWith("ts")||r.endsWith("tsx")?e.transpile(n,t?.tsconfig):n}var Sc=$e("<div>"),Ac=$e("<repl-frame>",!0,!1),Tc=$e("<tm-textarea theme=andromeeda>",!0,!1);const Cc={target:2,module:5,jsx:1,jsxImportSource:"solid-js",esModuleInterop:!0,allowSyntheticDefaultImports:!0,forceConsistentCasingInFileNames:!0,isolatedModules:!0,resolveJsonModule:!0,skipLibCheck:!0,strict:!0,noEmit:!1,outDir:"./dist"},Ec=()=>{const[t]=Be(async()=>{const[e,n]=await Promise.all([bc(),Promise.all([wc({tsconfig:Cc}),vc({presets:["babel-preset-solid"]})])]);return new zi({importExternalTypes:!1,transformModulePaths:e,transform:n,files:{"src/index.module.css":`body {
background: blue;
}
/* .test */
.button {
  background: red;
}
    `,"src/index.tsx":`import { render } from "solid-js/web";
import { dispose } from "@repl/std";
import "solid-js/jsx-runtime";
import styles from "./index.module.css";

function App() {
  return (
    <button class={styles.button} >
      hello
    </button>
  );
}

dispose('src/index.tsx', render(() => <App />, document.body));`},extensions:{"module.css":gc}}).initialize()});return(()=>{var e=Sc();return e.style.setProperty("display","flex"),e.style.setProperty("flex-direction","row"),e.style.setProperty("height","100%"),e.style.setProperty("overflow","hidden"),Wn(e,we(At,{get when(){return t()},children:n=>[(()=>{var r=Ac();return r.addEventListener("ready",({frame:c})=>{const s=n().getFile("src/index.tsx");let o;function a({url:h}){o?.(),h&&(c.clearBody(),o=c.injectModuleUrl(h))}s.addEventListener("url",a),a(s)}),r.style.setProperty("flex","1"),r._$owner=Ie(),r})(),(()=>{var r=Tc();return r.$$input=c=>n().setFile("src/index.tsx",c.currentTarget.value),r.style.setProperty("padding","20px"),r.style.setProperty("overflow","auto"),r.style.setProperty("flex","1"),r._$owner=Ie(),me(()=>r.value=n().getFile("src/index.tsx").source),r})()]})),e})()};Fn(()=>we(Ec,{}),document.getElementById("root"));sn(["input"]);
