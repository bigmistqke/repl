import{c as Ye,a as E,u as Ae,m as H,s as Te,b as P,d as Ce,e as Ge,f as Fe,g as x,o as Le,h as ee,i as w,j as Qe,k as Ze,l as et,n as tt,p as nt,S as V,I as rt,q as it}from"./index-6b19e028.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const ot=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],st=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...ot]),ct=new Set(["innerHTML","textContent","innerText","children"]),at=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),lt=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function ft(e,t){const n=lt[e];return typeof n=="object"?n[t]?n.$:void 0:n}const ut=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),dt={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function ht(e,t,n){let r=n.length,i=t.length,o=r,c=0,s=0,a=t[i-1].nextSibling,h=null;for(;c<i||s<o;){if(t[c]===n[s]){c++,s++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===c){const g=o<r?s?n[s-1].nextSibling:n[o-s]:a;for(;s<o;)e.insertBefore(n[s++],g)}else if(o===s)for(;c<i;)(!h||!h.has(t[c]))&&t[c].remove(),c++;else if(t[c]===n[o-1]&&n[s]===t[i-1]){const g=t[--i].nextSibling;e.insertBefore(n[s++],t[c++].nextSibling),e.insertBefore(n[--o],g),t[i]=n[o]}else{if(!h){h=new Map;let d=s;for(;d<o;)h.set(n[d],d++)}const g=h.get(t[c]);if(g!=null)if(s<g&&g<o){let d=c,y=1,p;for(;++d<i&&d<o&&!((p=h.get(t[d]))==null||p!==g+y);)y++;if(y>g-s){const C=t[c];for(;s<g;)e.insertBefore(n[s++],C)}else e.replaceChild(n[s++],t[c++])}else c++;else t[c++].remove()}}}const ye="_$DX_DELEGATE";function gt(e,t,n,r={}){let i;return Ye(o=>{i=o,t===document?e():R(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function W(e,t,n){let r;const i=()=>{const c=document.createElement("template");return c.innerHTML=e,n?c.content.firstChild.firstChild:c.content.firstChild},o=t?()=>Ae(()=>document.importNode(r||(r=i()),!0)):()=>(r||(r=i())).cloneNode(!0);return o.cloneNode=o,o}function Ne(e,t=window.document){const n=t[ye]||(t[ye]=new Set);for(let r=0,i=e.length;r<i;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,Ot))}}function J(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function yt(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function mt(e,t){t==null?e.removeAttribute("class"):e.className=t}function pt(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=o=>i.call(e,n[1],o))}else e.addEventListener(t,n)}function wt(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let o,c;for(o=0,c=i.length;o<c;o++){const s=i[o];!s||s==="undefined"||t[s]||(me(e,s,!1),delete n[s])}for(o=0,c=r.length;o<c;o++){const s=r[o],a=!!t[s];!s||s==="undefined"||n[s]===a||!a||(me(e,s,!0),n[s]=a)}return n}function vt(e,t,n){if(!t)return n?J(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,o;for(o in n)t[o]==null&&r.removeProperty(o),delete n[o];for(o in t)i=t[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function bt(e,t={},n,r){const i={};return r||E(()=>i.children=B(e,t.children,i.children)),E(()=>typeof t.ref=="function"&&oe(t.ref,e)),E(()=>Pt(e,t,n,!0,i,!0)),i}function oe(e,t,n){return Ae(()=>e(t,n))}function R(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return B(e,t,r,n);E(i=>B(e,t(),i,n),r)}function Pt(e,t,n,r,i={},o=!1){t||(t={});for(const c in i)if(!(c in t)){if(c==="children")continue;i[c]=pe(e,c,null,i[c],n,o)}for(const c in t){if(c==="children"){r||B(e,t.children);continue}const s=t[c];i[c]=pe(e,c,s,i[c],n,o)}}function xt(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function me(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)e.classList.toggle(r[i],n)}function pe(e,t,n,r,i,o){let c,s,a,h,g;if(t==="style")return vt(e,n,r);if(t==="classList")return wt(e,n,r);if(n===r)return r;if(t==="ref")o||n(e);else if(t.slice(0,3)==="on:"){const d=t.slice(3);r&&e.removeEventListener(d,r),n&&e.addEventListener(d,n)}else if(t.slice(0,10)==="oncapture:"){const d=t.slice(10);r&&e.removeEventListener(d,r,!0),n&&e.addEventListener(d,n,!0)}else if(t.slice(0,2)==="on"){const d=t.slice(2).toLowerCase(),y=ut.has(d);if(!y&&r){const p=Array.isArray(r)?r[0]:r;e.removeEventListener(d,p)}(y||n)&&(pt(e,d,n,y),y&&Ne([d]))}else if(t.slice(0,5)==="attr:")J(e,t.slice(5),n);else if((g=t.slice(0,5)==="prop:")||(a=ct.has(t))||!i&&((h=ft(t,e.tagName))||(s=st.has(t)))||(c=e.nodeName.includes("-")))g&&(t=t.slice(5),s=!0),t==="class"||t==="className"?mt(e,n):c&&!s&&!a?e[xt(t)]=n:e[h||t]=n;else{const d=i&&t.indexOf(":")>-1&&dt[t.split(":")[0]];d?yt(e,d,t,n):J(e,at[t]||t,n)}return n}function Ot(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function B(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,c=r!==void 0;if(e=c&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(t=t.toString(),t===n))return n;if(c){let s=n[0];s&&s.nodeType===3?s.data!==t&&(s.data=t):s=document.createTextNode(t),n=D(e,n,r,s)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean")n=D(e,n,r);else{if(o==="function")return E(()=>{let s=t();for(;typeof s=="function";)s=s();n=B(e,s,n,r)}),()=>n;if(Array.isArray(t)){const s=[],a=n&&Array.isArray(n);if(te(s,t,n,i))return E(()=>n=B(e,s,n,r,!0)),()=>n;if(s.length===0){if(n=D(e,n,r),c)return n}else a?n.length===0?we(e,s,r):ht(e,n,s):(n&&D(e),we(e,s));n=s}else if(t.nodeType){if(Array.isArray(n)){if(c)return n=D(e,n,r,t);D(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function te(e,t,n,r){let i=!1;for(let o=0,c=t.length;o<c;o++){let s=t[o],a=n&&n[e.length],h;if(!(s==null||s===!0||s===!1))if((h=typeof s)=="object"&&s.nodeType)e.push(s);else if(Array.isArray(s))i=te(e,s,a)||i;else if(h==="function")if(r){for(;typeof s=="function";)s=s();i=te(e,Array.isArray(s)?s:[s],Array.isArray(a)?a:[a])||i}else e.push(s),i=!0;else{const g=String(s);a&&a.nodeType===3&&a.data===g?e.push(a):e.push(document.createTextNode(g))}}return i}function we(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function D(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let o=!1;for(let c=t.length-1;c>=0;c--){const s=t[c];if(i!==s){const a=s.parentNode===e;!o&&!c?a?e.replaceChild(i,s):e.insertBefore(i,n):a&&s.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}var St=W("<span>"),$t=(e,t)=>new Promise(n=>{const r={x:e.clientX,y:e.clientY};let i=r;const o=performance.now();function c(a){const h={x:a.clientX,y:a.clientY},g={x:h.x-i.x,y:h.y-i.y},d={x:r.x-h.x,y:r.y-h.y};i=h;const y={total:d,delta:g,event:a,timespan:performance.now()-o};return t(y),y}const s=a=>{window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",s),n(c(a))};window.addEventListener("mousemove",c),window.addEventListener("mouseup",s)});function Ie(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):"ref"in n&&n.ref&&(typeof n.ref=="function"?n.ref(t):n.ref=t)})}}function jt(e,t,n){let r;return t.Provider({value:n,children:()=>(r=e(),"")}),()=>r}var se=new WeakMap,Me=new WeakSet,ne=Symbol("no-overflow"),Et=e=>e.endsWith("%"),At=e=>e.endsWith("fr"),Tt=e=>e.endsWith("px"),K=e=>Tt(e.size),j=e=>At(e.size),b=e=>se.get(e),re=e=>!Me.has(e);function ie(e){if(typeof e=="function"){const t=e();return ie(t)}return e}function Ct(e,t){const n=e.indexOf(t);if(n===-1||n===0||n===e.length-1)return;const r=e.slice(0,n).findLast(re),i=e.slice(n).find(re);if(!(!r||!i))return[r,i]}function ce(e){const t=ae(),n=H({size:"1fr"},e),[,r]=Te(e,["size","min","max","style","ref"]);let i;const o=(()=>{var c=St(),s=Ie(e,a=>i=a);return typeof s=="function"&&oe(s,c),bt(c,H({get style(){return{overflow:"hidden",...e.style}}},r,{get"data-active-pane"(){return t?.isActivePane(i)||void 0}}),!1,!0),R(c,()=>e.children),c})();return se.set(o,n),o}var ze=et();function ae(){return Qe(ze)}function I(e){const t=H({type:"column"},e),[,n]=Te(e,["type","style","ref"]),[r,i]=P(),[o,c]=P(void 0),[s,a]=P(new WeakMap,{equals:!1}),[h,g]=P(),d=()=>(t.type==="column"?r()?.width:r()?.height)||0;function y(l,f){a(u=>(u.set(l,(u.get(l)||0)-f),u))}function p(l,f=0){return Et(l)?(parseFloat(l)-f)/100*d():parseFloat(l)-f}function C(l){const f=b(l),u=U(l);return!f||j(f)?0:p(f.size,u)}function A(){const l=_e(),f=de().reduce((u,m)=>u+parseFloat(b(m).size),0);if(f===0)return 0;if(f<1){const u=l-l*f;return l/(f+u/l)}else return l/f}function qe(l){const f=b(l),u=U(l);return!f||!j(f)?0:(parseFloat(f.size)-u)*A()}function U(l){return s().get(l)||0}function We(){return Xe().reduce((l,f)=>l+C(f),0)}function _e(){return d()-We()}function le(l,f,u){const m=de(),$=m.indexOf(l),v=m.map(qe);let O=K(b(f))?u:u/d()*100;y(f,O),(v[$]-=u)<0&&(y(f,-O),v[$]=0);const F=v.reduce((S,N)=>S+N,0),L=m.map(b).reduce((S,N)=>S+parseFloat(N.size),0),Je=v.map(S=>S*L/F).map((S,N)=>parseFloat(b(m[N]).size)-S);a(S=>(Je.forEach((N,ge)=>{S.set(m[ge],N)}),S))}function fe(l,f){const u=b(l),m=U(l);if(!j(u))return 0;const $=parseFloat(u.size)-m+f;return $<0?$:0}function ue(l,f){const u=b(l),m=U(l);if(j(u))return 0;const v=p(u.size,m)+f;if(u.max){const O=p(u.max);if(v<O)return v-O}if(u.min){const O=p(u.min);if(v>O)return v-O}return v>0?0:v}const Ve={isActivePane:Ce(o,(l,f)=>re(l)&&!!f?.includes(l)),get type(){return t.type},dragHandleStart(l){return c(Ct(M(),l))},dragHandle([l,f],u){if(u===0)return ne;const m=b(l),$=b(f),v=j(m),O=j($);let z=u/A();const F=v?fe(l,z)*A():ue(l,u),L=O?fe(f,-z)*A():ue(f,-u);return u=F?u-F:L?u+L:u,z=u/A(),v&&O?(y(l,z),y(f,-z)):!v&&!O?(y(l,K(m)?u:u/d()*100),y(f,K($)?-u:-u/d()*100)):v?le(l,f,-u):le(f,l,u),!F&&!L?ne:Math.abs(F)>Math.abs(L)?F:-L},dragHandleEnd(){c(void 0)}},Ke=Ge(jt(()=>e.children,ze,Ve)),M=Fe(()=>Ke.toArray().filter(l=>se.has(l))),de=()=>M().filter(l=>j(b(l))),Xe=()=>M().filter(l=>!j(b(l))),he=()=>M().map(l=>{const f=b(l),u=U(l);if(j(f))return u?`${parseFloat(f.size)-u}fr`:f.size;const m=u?`calc(${parseFloat(f.size)-u}${K(f)?"px":"%"})`:f.size;return f.min?f.max?`min(${f.min}, max(${f.max}, ${m}))`:`min(${f.min}, ${m})`:f.max?`max(${f.max}, ${m})`:m}).join(" ");return x(()=>{const l=h();if(!l)return;const f=new ResizeObserver(u=>{for(let m of u)i(m.contentRect),e.onResize?.(m.contentRect,l)});f.observe(l),Le(()=>f.disconnect())}),P(ee(M,l=>{x(Ze(()=>b(l)?.size,()=>{a(f=>(f.set(l,0),f))}))})),x(()=>e.onTemplate?.(he())),w(ce,H({ref(l){var f=Ie(g,e);typeof f=="function"&&f(l)},get style(){return{display:"grid",...e.style,[`grid-template-${t.type}s`]:he()}}},n,{get children(){return M()}}))}function Ft(e){if(!ae())throw"Split.Pane should be used within a Split-component";return w(ce,e)}function Lt(e){const t=ae();if(!t)throw"Split.Handle should be used within a Split-component";const[n,r]=P(!1),i=w(ce,H(e,{get"data-active-handle"(){return n()||void 0},onPointerDown:async o=>{let c={x:0,y:0};r(!0);const s=t.dragHandleStart(ie(i));s&&(await $t(o,({delta:a})=>{const h=t.dragHandle(s,t.type==="column"?a.x+c.x:a.y+c.y);h===ne?c={x:0,y:0}:(c.x+=t.type==="column"?a.x:h,c.y+=t.type!=="column"?a.y:h)}),t.dragHandleEnd(),r(!1))}}));return Me.add(ie(i)),i}I.Handle=Lt;I.Pane=Ft;function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ve(Object(n),!0).forEach(function(r){Nt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function It(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Mt(e,t){if(e==null)return{};var n=It(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zt(e,t){return Dt(e)||Rt(e,t)||Ht(e,t)||Bt()}function Dt(e){if(Array.isArray(e))return e}function Rt(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,o=void 0;try{for(var c=e[Symbol.iterator](),s;!(r=(s=c.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(a){i=!0,o=a}finally{try{!r&&c.return!=null&&c.return()}finally{if(i)throw o}}return n}}function Ht(e,t){if(e){if(typeof e=="string")return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(e,t)}}function Pe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xe(Object(n),!0).forEach(function(r){Ut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(i,o){return o(i)},r)}}function k(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return t.apply(n,[].concat(i,s))}}}function Y(e){return{}.toString.call(e).includes("Object")}function qt(e){return!Object.keys(e).length}function q(e){return typeof e=="function"}function Wt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _t(e,t){return Y(t)||T("changeType"),Object.keys(t).some(function(n){return!Wt(e,n)})&&T("changeField"),t}function Vt(e){q(e)||T("selectorType")}function Kt(e){q(e)||Y(e)||T("handlerType"),Y(e)&&Object.values(e).some(function(t){return!q(t)})&&T("handlersType")}function Xt(e){e||T("initialIsRequired"),Y(e)||T("initialType"),qt(e)&&T("initialContent")}function Jt(e,t){throw new Error(e[t]||e.default)}var Yt={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},T=k(Jt)(Yt),X={changes:_t,selector:Vt,handler:Kt,initial:Xt};function Gt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};X.initial(e),X.handler(t);var n={current:e},r=k(en)(n,t),i=k(Zt)(n),o=k(X.changes)(e),c=k(Qt)(n);function s(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(g){return g};return X.selector(h),h(n.current)}function a(h){kt(r,i,o,c)(h)}return[s,a]}function Qt(e,t){return q(t)?t(e.current):t}function Zt(e,t){return e.current=Oe(Oe({},e.current),t),t}function en(e,t,n){return q(t)?t(e.current):Object.keys(n).forEach(function(r){var i;return(i=t[r])===null||i===void 0?void 0:i.call(t,e.current[r])}),n}var tn={create:Gt},nn={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function rn(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return t.apply(n,[].concat(i,s))}}}function on(e){return{}.toString.call(e).includes("Object")}function sn(e){return e||Se("configIsRequired"),on(e)||Se("configType"),e.urls?(cn(),{paths:{vs:e.urls.monacoBase}}):e}function cn(){console.warn(De.deprecation)}function an(e,t){throw new Error(e[t]||e.default)}var De={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Se=rn(an)(De),ln={config:sn},fn=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(o,c){return c(o)},i)}};function Re(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],Re(e[n],t[n]))}),be(be({},e),t)}var un={type:"cancelation",msg:"operation is manually canceled"};function Q(e){var t=!1,n=new Promise(function(r,i){e.then(function(o){return t?i(un):r(o)}),e.catch(i)});return n.cancel=function(){return t=!0},n}var dn=tn.create({config:nn,isInitialized:!1,resolve:null,reject:null,monaco:null}),He=zt(dn,2),_=He[0],G=He[1];function hn(e){var t=ln.config(e),n=t.monaco,r=Mt(t,["monaco"]);G(function(i){return{config:Re(i.config,r),monaco:n}})}function gn(){var e=_(function(t){var n=t.monaco,r=t.isInitialized,i=t.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!e.isInitialized){if(G({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Q(Z);if(window.monaco&&window.monaco.editor)return Be(window.monaco),e.resolve(window.monaco),Q(Z);fn(yn,pn)(wn)}return Q(Z)}function yn(e){return document.body.appendChild(e)}function mn(e){var t=document.createElement("script");return e&&(t.src=e),t}function pn(e){var t=_(function(r){var i=r.config,o=r.reject;return{config:i,reject:o}}),n=mn("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function wn(){var e=_(function(n){var r=n.config,i=n.resolve,o=n.reject;return{config:r,resolve:i,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){Be(n),e.resolve(n)},function(n){e.reject(n)})}function Be(e){_().monaco||G({monaco:e})}function vn(){return _(function(e){var t=e.monaco;return t})}var Z=new Promise(function(e,t){return G({resolve:e,reject:t})}),bn={config:hn,init:gn,__getMonacoInstance:vn};const Pn=`.repl {
  display: grid;
  grid-template-rows: auto 1fr 1fr;
  gap: 5px;
  height: 100%;
}

iframe {
  border: 1px solid black;
  width: 100%;
  height: 100%;
}
`,xn=`<script src="./main.ts" type="module"><\/script>
<link href="./index.css" rel="stylesheet"></link>
<div id="root"></div>
`,On=`import {
  createExtension,
  createFileSystem,
  isUrl,
  parseHtml,
  resolvePath,
  Transform,
  transformModulePaths,
} from '@bigmistqke/repl'
import { createSignal } from 'solid-js'
import html from 'solid-js/html'
import { render } from 'solid-js/web'
import ts from 'typescript'

function createRepl() {
  const transformJs: Transform = ({ path, source, fs }) => {
    return transformModulePaths(source, modulePath => {
      if (modulePath.startsWith('.')) {
        // Swap relative module-path out with their respective module-url
        const url = fs.url(resolvePath(path, modulePath))
        if (!url) throw 'url is undefined'
        return url
      } else if (isUrl(modulePath)) {
        // Return url directly
        return modulePath
      } else {
        // Wrap external modules with esm.sh
        return \`https://esm.sh/\${modulePath}\`
      }
    })!
  }

  return createFileSystem({
    css: createExtension({ type: 'css' }),
    js: createExtension({
      type: 'javascript',
      transform: transformJs,
    }),
    ts: createExtension({
      type: 'javascript',
      transform({ path, source, fs }) {
        return transformJs({ path, source: ts.transpile(source), fs })
      },
    }),
    html: createExtension({
      type: 'html',
      transform(config) {
        return (
          parseHtml(config)
            // Transform content of all \`<script type="module" />\` elements
            .transformModuleScriptContent(transformJs)
            // Bind relative \`src\`-attribute of all \`<script />\` elements
            .bindScriptSrc()
            // Bind relative \`href\`-attribute of all \`<link />\` elements
            .bindLinkHref()
            .toString()
        )
      },
    }),
  })
}

render(() => {
  const [selectedPath, setSelectedPath] = createSignal<string>('index.html')

  const repl = createRepl()

  repl.writeFile(
    'index.html',
    \`<head>
  <script src="./main.ts"><\/script>
<link rel="stylesheet" href="./index.css"></link>
</head>
<body>
hallo world 👋
</body>\`,
  )

  repl.writeFile('index.css', \`body { font-size: 32pt; }\`)

  repl.writeFile(
    'main.ts',
    \`function randomValue(){
  return 200 + Math.random() * 50
}
    
function randomColor(){
  document.body.style.background = \\\`rgb(\\\${randomValue()}, \\\${randomValue()}, \\\${randomValue()})\\\`
}    

requestAnimationFrame(randomColor)
setInterval(randomColor, 2000)\`,
  )

  const Button = (props: { path: string }) =>
    html\`<button onclick="\${() => setSelectedPath(props.path)}">\${props.path}</button>\`

  return html\`<div class="repl">
    <div style="display: flex; align-content: start; gap: 5px;">
      <\${Button} path="index.html" />
      <\${Button} path="index.css" />
      <\${Button} path="main.ts" />
    </div>
    <textarea
      oninput=\${e => repl.writeFile(selectedPath(), e.target.value)}
      value=\${() => repl.readFile(selectedPath())}
    ></textarea>
    <iframe src=\${() => repl.url('index.html')}></iframe>
  </div> \`
}, document.getElementById('root')!)
`,Sn={"index.css":Pn,"index.html":xn,"main.ts":On};function $n(){const e=new Worker("./assets/fs.worker.worker-proxy.js",{type:"module"});return tt(e)}function jn(e,t,n){const r=typeof e=="function"?e():e;return r?t(r):n?n():void 0}function Ue(e,t,n){return()=>jn(e,t,n)}function $e(...e){function t(){const n=new Array(e.length);for(let r=0;r<e.length;r++){const i=typeof e[r]=="function"?e[r]():e[r];if(!i)return;n[r]=i}return n}return t}function En(e,t){x(Ue(e,t))}function An(e,t){return Fe(Ue(e,t))}var Tn=W("<iframe>"),ke=W("<div>"),je=W("<button>"),Cn=W("<div><span>");gt(()=>{const[e,t]=P("main.ts"),n=Ce(e),[r,i]=P(),[o,c]=P({}),[s,a]=P(),h=new $n;return h.watchTsconfig(c),h.watchTypes(a),h.watchUrl("index.html",i),Object.entries(Sn).forEach(([g,d])=>h.writeFile(g,d)),w(I,{style:{height:"100vh"},get children(){return[w(I.Pane,{size:"150px",style:{display:"grid","align-content":"start"},get children(){return w(Ln,{fs:h,onPathSelect:t,isPathSelected:n})}}),w(Ee,{}),w(I.Pane,{style:{display:"grid"},get children(){return w(Fn,{fs:h,get path(){return e()},get types(){return s()},get tsconfig(){return o()}})}}),w(Ee,{}),w(I.Pane,{style:{display:"grid"},get children(){var g=Tn();return g.style.setProperty("height","100%"),g.style.setProperty("width","100%"),g.style.setProperty("border","none"),E(()=>J(g,"src",r())),g}})]}})},document.getElementById("root"));function Ee(){return w(I.Handle,{size:"10px",style:{display:"flex",padding:"0px 4px",cursor:"ew-resize"},get children(){var e=ke();return e.style.setProperty("background","black"),e.style.setProperty("flex","1"),e}})}function Fn(e){const[t,n]=P([]),[r]=nt(()=>bn.init()),[i,o]=P(),c=An($e(r,i),([s,a])=>s.editor.create(a,{value:"",language:"typescript",automaticLayout:!0}));return x(()=>e.fs.watchPaths(n)),En($e(r,c),([s,a])=>{const h=H({tsx:"typescript",ts:"typescript"},()=>e.languages);async function g(d){let y=await e.fs.$async.getType(d);const p=it(d);return p&&p in h&&(y=h[p]),y}x(()=>{a.onDidChangeModelContent(d=>{e.fs.writeFile(e.path,a.getModel().getValue())})}),x(ee(t,d=>{x(async()=>{const y=await g(d);if(y==="dir")return;const p=s.Uri.parse(`file:///${d}`),C=s.editor.getModel(p)||s.editor.createModel("",y,p);e.fs.watchFile(d,A=>{A!==C.getValue()&&C.setValue(A||"")}),Le(()=>C.dispose())})})),x(async()=>{const d=s.Uri.parse(`file:///${e.path}`);let y=await g(e.path);const p=s.editor.getModel(d)||s.editor.createModel("",y,d);a.setModel(p)}),x(()=>{e.tsconfig&&(s.languages.typescript.typescriptDefaults.setCompilerOptions(e.tsconfig),s.languages.typescript.javascriptDefaults.setCompilerOptions(e.tsconfig))}),x(ee(()=>Object.keys(e.types??{}),d=>{x(()=>{const y=e.types?.[d];if(!y)return;const p=`file:///${d}`;s.languages.typescript.typescriptDefaults.addExtraLib(y,p),s.languages.typescript.javascriptDefaults.addExtraLib(y,p)})}))}),(()=>{var s=ke();return oe(o,s),s.style.setProperty("overflow","hidden"),s})()}function Ln(e){function t(r){const[i,o]=P(!1),[c,s]=P([]);return x(()=>e.fs.watchDir(r.path,s)),[w(V,{get when(){return r.path},get children(){var a=Cn(),h=a.firstChild;return a.style.setProperty("display","grid"),a.style.setProperty("grid-template-columns","1fr 30px"),R(h,()=>r.name),R(a,w(V,{get when(){return c().length!==0},get children(){var g=je();return g.$$click=()=>o(d=>!d),g.style.setProperty("text-align","center"),R(g,()=>i()?"+":"-"),g}}),null),E(g=>(g=r.layer*10+"px")!=null?a.style.setProperty("padding-left",g):a.style.removeProperty("padding-left")),a}}),w(V,{get when(){return!i()},get children(){return w(rt,{get each(){return c()},children:a=>w(n,{get layer(){return r.layer+1},get path(){return a().path},get type(){return a().type}})})}})]}function n(r){const i=()=>{const o=r.path.split("/");return o[o.length-1]||""};return w(V,{get when(){return r.type==="dir"},get fallback(){return(()=>{var o=je();return o.$$click=()=>e.onPathSelect(r.path),R(o,i),E(c=>{var s=r.layer*10+"px",a=e.isPathSelected(r.path)?"underline":"none";return s!==c.e&&((c.e=s)!=null?o.style.setProperty("padding-left",s):o.style.removeProperty("padding-left")),a!==c.t&&((c.t=a)!=null?o.style.setProperty("text-decoration",a):o.style.removeProperty("text-decoration")),c},{e:void 0,t:void 0}),o})()},get children(){return w(t,{get layer(){return r.layer},get path(){return r.path},get name(){return i()}})}})}return w(n,{path:"",layer:0,type:"dir"})}Ne(["click"]);
