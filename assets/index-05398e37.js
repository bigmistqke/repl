const le=(e,t)=>e===t,q=Symbol("solid-proxy"),oe=typeof Proxy=="function",ie=Symbol("solid-track"),B={equals:le};let fe=he;const P=1,V=2,ce={owned:null,cleanups:null,context:null,owner:null},G={};var h=null;let Q=null,ye=null,d=null,y=null,k=null,H=0;function _(e,t){const r=d,n=h,u=e.length===0,o=t===void 0?n:t,l=u?ce:{owned:null,cleanups:null,context:o?o.context:null,owner:o},s=u?e:()=>e(()=>O(()=>K(l)));h=l,d=null;try{return M(s,!0)}finally{d=r,h=n}}function N(e,t){t=t?Object.assign({},B,t):B;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=u=>(typeof u=="function"&&(u=u(r.value)),de(r,u));return[ae.bind(r),n]}function se(e,t,r){const n=D(e,t,!0,P);I(n)}function ve(e,t,r){const n=D(e,t,!1,P);I(n)}function $e(e,t,r){fe=Oe;const n=D(e,t,!1,P);(!r||!r.render)&&(n.user=!0),k?k.push(n):I(n)}function L(e,t,r){r=r?Object.assign({},B,r):B;const n=D(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,I(n),ae.bind(n)}function me(e){return e&&typeof e=="object"&&"then"in e}function Ne(e,t,r){let n,u,o;typeof t=="function"?(n=e,u=t,o=r||{}):(n=!0,u=e,o=t||{});let l=null,s=G,i=!1,c="initialValue"in o,a=typeof n=="function"&&L(n);const f=new Set,[b,x]=(o.storage||N)(o.initialValue),[S,C]=N(void 0),[R,U]=N(void 0,{equals:!1}),[m,A]=N(c?"ready":"unresolved");function v(g,p,w,$){return l===g&&(l=null,$!==void 0&&(c=!0),(g===s||p===s)&&o.onHydrated&&queueMicrotask(()=>o.onHydrated($,{value:p})),s=G,E(p,w)),p}function E(g,p){M(()=>{p===void 0&&x(()=>g),A(p!==void 0?"errored":c?"ready":"unresolved"),C(p);for(const w of f.keys())w.decrement();f.clear()},!1)}function T(){const g=xe,p=b(),w=S();if(w!==void 0&&!l)throw w;return d&&!d.user&&g&&se(()=>{R(),l&&(g.resolved||f.has(g)||(g.increment(),f.add(g)))}),p}function F(g=!0){if(g!==!1&&i)return;i=!1;const p=a?a():n;if(p==null||p===!1){v(l,O(b));return}const w=s!==G?s:O(()=>u(p,{value:b(),refetching:g}));return me(w)?(l=w,"value"in w?(w.status==="success"?v(l,w.value,void 0,p):v(l,void 0,Z(w.value),p),w):(i=!0,queueMicrotask(()=>i=!1),M(()=>{A(c?"refreshing":"pending"),U()},!1),w.then($=>v(w,$,void 0,p),$=>v(w,void 0,Z($),p)))):(v(l,w,void 0,p),w)}return Object.defineProperties(T,{state:{get:()=>m()},error:{get:()=>S()},loading:{get(){const g=m();return g==="pending"||g==="refreshing"}},latest:{get(){if(!c)return T();const g=S();if(g&&!l)throw g;return b()}}}),a?se(()=>F(!1)):F(!1),[T,{refetch:F,mutate:x}]}function Te(e,t=le,r){const n=new Map,u=D(o=>{const l=e();for(const[s,i]of n.entries())if(t(s,l)!==t(s,o))for(const c of i.values())c.state=P,c.pure?y.push(c):k.push(c);return l},void 0,!0,P);return I(u),o=>{const l=d;if(l){let s;(s=n.get(o))?s.add(l):n.set(o,s=new Set([l])),re(()=>{s.delete(l),!s.size&&n.delete(o)})}return t(o,u.value)}}function _e(e){return M(e,!1)}function O(e){if(d===null)return e();const t=d;d=null;try{return e()}finally{d=t}}function Ke(e,t,r){const n=Array.isArray(e);let u,o=r&&r.defer;return l=>{let s;if(n){s=Array(e.length);for(let c=0;c<e.length;c++)s[c]=e[c]()}else s=e();if(o)return o=!1,l;const i=O(()=>t(s,u,l));return u=s,i}}function re(e){return h===null||(h.cleanups===null?h.cleanups=[e]:h.cleanups.push(e)),e}function De(){return d}function We(e,t){const r=Symbol("context");return{id:r,Provider:ke(r),defaultValue:e}}function qe(e){let t;return h&&h.context&&(t=h.context[e.id])!==void 0?t:e.defaultValue}function Ae(e){const t=L(e),r=L(()=>ee(t()));return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}let xe;function ae(){if(this.sources&&this.state)if(this.state===P)I(this);else{const e=y;y=null,M(()=>X(this),!1),y=e}if(d){const e=this.observers?this.observers.length:0;d.sources?(d.sources.push(this),d.sourceSlots.push(e)):(d.sources=[this],d.sourceSlots=[e]),this.observers?(this.observers.push(d),this.observerSlots.push(d.sources.length-1)):(this.observers=[d],this.observerSlots=[d.sources.length-1])}return this.value}function de(e,t,r){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&M(()=>{for(let u=0;u<e.observers.length;u+=1){const o=e.observers[u],l=Q&&Q.running;l&&Q.disposed.has(o),(l?!o.tState:!o.state)&&(o.pure?y.push(o):k.push(o),o.observers&&ge(o)),l||(o.state=P)}if(y.length>1e6)throw y=[],new Error},!1)),t}function I(e){if(!e.fn)return;K(e);const t=H;Se(e,e.value,t)}function Se(e,t,r){let n;const u=h,o=d;d=h=e;try{n=e.fn(t)}catch(l){return e.pure&&(e.state=P,e.owned&&e.owned.forEach(K),e.owned=null),e.updatedAt=r+1,pe(l)}finally{d=o,h=u}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?de(e,n):e.value=n,e.updatedAt=r)}function D(e,t,r,n=P,u){const o={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:h,context:h?h.context:null,pure:r};return h===null||h!==ce&&(h.owned?h.owned.push(o):h.owned=[o]),o}function z(e){if(e.state===0)return;if(e.state===V)return X(e);if(e.suspense&&O(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<H);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===P)I(e);else if(e.state===V){const n=y;y=null,M(()=>X(e,t[0]),!1),y=n}}function M(e,t){if(y)return e();let r=!1;t||(y=[]),k?r=!0:k=[],H++;try{const n=e();return Pe(r),n}catch(n){r||(k=null),y=null,pe(n)}}function Pe(e){if(y&&(he(y),y=null),e)return;const t=k;k=null,t.length&&M(()=>fe(t),!1)}function he(e){for(let t=0;t<e.length;t++)z(e[t])}function Oe(e){let t,r=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[r++]=n:z(n)}for(t=0;t<r;t++)z(e[t])}function X(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const n=e.sources[r];if(n.sources){const u=n.state;u===P?n!==t&&(!n.updatedAt||n.updatedAt<H)&&z(n):u===V&&X(n,t)}}}function ge(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=V,r.pure?y.push(r):k.push(r),r.observers&&ge(r))}}function K(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),n=e.sourceSlots.pop(),u=r.observers;if(u&&u.length){const o=u.pop(),l=r.observerSlots.pop();n<u.length&&(o.sourceSlots[l]=n,u[n]=o,r.observerSlots[n]=l)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)K(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)K(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Z(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function pe(e,t=h){throw Z(e)}function ee(e){if(typeof e=="function"&&!e.length)return ee(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const n=ee(e[r]);Array.isArray(n)?t.push.apply(t,n):t.push(n)}return t}return e}function ke(e,t){return function(n){let u;return ve(()=>u=O(()=>(h.context={...h.context,[e]:n.value},Ae(()=>n.children))),void 0),u}}const te=Symbol("fallback");function Y(e){for(let t=0;t<e.length;t++)e[t]()}function Be(e,t,r={}){let n=[],u=[],o=[],l=0,s=t.length>1?[]:null;return re(()=>Y(o)),()=>{let i=e()||[],c=i.length,a,f;return i[ie],O(()=>{let x,S,C,R,U,m,A,v,E;if(c===0)l!==0&&(Y(o),o=[],n=[],u=[],l=0,s&&(s=[])),r.fallback&&(n=[te],u[0]=_(T=>(o[0]=T,r.fallback())),l=1);else if(l===0){for(u=new Array(c),f=0;f<c;f++)n[f]=i[f],u[f]=_(b);l=c}else{for(C=new Array(c),R=new Array(c),s&&(U=new Array(c)),m=0,A=Math.min(l,c);m<A&&n[m]===i[m];m++);for(A=l-1,v=c-1;A>=m&&v>=m&&n[A]===i[v];A--,v--)C[v]=u[A],R[v]=o[A],s&&(U[v]=s[A]);for(x=new Map,S=new Array(v+1),f=v;f>=m;f--)E=i[f],a=x.get(E),S[f]=a===void 0?-1:a,x.set(E,f);for(a=m;a<=A;a++)E=n[a],f=x.get(E),f!==void 0&&f!==-1?(C[f]=u[a],R[f]=o[a],s&&(U[f]=s[a]),f=S[f],x.set(E,f)):o[a]();for(f=m;f<c;f++)f in C?(u[f]=C[f],o[f]=R[f],s&&(s[f]=U[f],s[f](f))):u[f]=_(b);u=u.slice(0,l=c),n=i.slice(0)}return u});function b(x){if(o[f]=x,s){const[S,C]=N(f);return s[f]=C,t(i[f],S)}return t(i[f])}}}function Ce(e,t,r={}){let n=[],u=[],o=[],l=[],s=0,i;return re(()=>Y(o)),()=>{const c=e()||[],a=c.length;return c[ie],O(()=>{if(a===0)return s!==0&&(Y(o),o=[],n=[],u=[],s=0,l=[]),r.fallback&&(n=[te],u[0]=_(b=>(o[0]=b,r.fallback())),s=1),u;for(n[0]===te&&(o[0](),o=[],n=[],u=[],s=0),i=0;i<a;i++)i<n.length&&n[i]!==c[i]?l[i](()=>c[i]):i>=n.length&&(u[i]=_(f));for(;i<n.length;i++)o[i]();return s=l.length=o.length=a,n=c.slice(0),u=u.slice(0,s)});function f(b){o[i]=b;const[x,S]=N(c[i]);return l[i]=S,t(x,i)}}}function Ve(e,t){return O(()=>e(t||{}))}function W(){return!0}const ne={get(e,t,r){return t===q?r:e.get(t)},has(e,t){return t===q?!0:e.has(t)},set:W,deleteProperty:W,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:W,deleteProperty:W}},ownKeys(e){return e.keys()}};function J(e){return(e=typeof e=="function"?e():e)?e:{}}function Ee(){for(let e=0,t=this.length;e<t;++e){const r=this[e]();if(r!==void 0)return r}}function ze(...e){let t=!1;for(let l=0;l<e.length;l++){const s=e[l];t=t||!!s&&q in s,e[l]=typeof s=="function"?(t=!0,L(s)):s}if(oe&&t)return new Proxy({get(l){for(let s=e.length-1;s>=0;s--){const i=J(e[s])[l];if(i!==void 0)return i}},has(l){for(let s=e.length-1;s>=0;s--)if(l in J(e[s]))return!0;return!1},keys(){const l=[];for(let s=0;s<e.length;s++)l.push(...Object.keys(J(e[s])));return[...new Set(l)]}},ne);const r={},n=Object.create(null);for(let l=e.length-1;l>=0;l--){const s=e[l];if(!s)continue;const i=Object.getOwnPropertyNames(s);for(let c=i.length-1;c>=0;c--){const a=i[c];if(a==="__proto__"||a==="constructor")continue;const f=Object.getOwnPropertyDescriptor(s,a);if(!n[a])n[a]=f.get?{enumerable:!0,configurable:!0,get:Ee.bind(r[a]=[f.get.bind(s)])}:f.value!==void 0?f:void 0;else{const b=r[a];b&&(f.get?b.push(f.get.bind(s)):f.value!==void 0&&b.push(()=>f.value))}}}const u={},o=Object.keys(n);for(let l=o.length-1;l>=0;l--){const s=o[l],i=n[s];i&&i.get?Object.defineProperty(u,s,i):u[s]=i?i.value:void 0}return u}function Xe(e,...t){if(oe&&q in e){const u=new Set(t.length>1?t.flat():t[0]),o=t.map(l=>new Proxy({get(s){return l.includes(s)?e[s]:void 0},has(s){return l.includes(s)&&s in e},keys(){return l.filter(s=>s in e)}},ne));return o.push(new Proxy({get(l){return u.has(l)?void 0:e[l]},has(l){return u.has(l)?!1:l in e},keys(){return Object.keys(e).filter(l=>!u.has(l))}},ne)),o}const r={},n=t.map(()=>({}));for(const u of Object.getOwnPropertyNames(e)){const o=Object.getOwnPropertyDescriptor(e,u),l=!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable;let s=!1,i=0;for(const c of t)c.includes(u)&&(s=!0,l?n[i][u]=o.value:Object.defineProperty(n[i],u,o)),++i;s||(l?r[u]=o.value:Object.defineProperty(r,u,o))}return[...n,r]}const je=e=>`Stale read from <${e}>.`;function Ye(e){const t="fallback"in e&&{fallback:()=>e.fallback};return L(Ce(()=>e.each,e.children,t||void 0))}function He(e){const t=e.keyed,r=L(()=>e.when,void 0,{equals:(n,u)=>t?n===u:!n==!u});return L(()=>{const n=r();if(n){const u=e.children;return typeof u=="function"&&u.length>0?O(()=>u(t?n:()=>{if(!O(r))throw je("Show");return e.when})):u}return e.fallback},void 0,void 0)}function Fe(e){return e.split("/").slice(-1)[0]?.split(".")[1]||""}function Me(e){return e.replace(/^\/+/,"")}function Ge(e,t){const r=Le(e),n=r?e:new URL(e,"http://example.com/"),u=new URL(t,n);return Me(r?u.href:u.pathname)}function Le(e){return e.startsWith("blob:")||e.startsWith("http:")||e.startsWith("https:")}var j="$WORKER_PROXY_CALLBACK",Ie=0,we=new Map;function ue(e){return new Proxy({},{get(t,r){return e(r)}})}function be(e){return Array.isArray(e)&&"$transferable"in e}function Qe(e){const t=typeof e=="string"?new Worker(e):e;let r=0;const n={},u=new EventTarget;function o(s,i,c){i&&be(i[0])?t.postMessage({topic:s,data:i[0],id:c},i[0].$transferables):t.postMessage({topic:s,data:i,id:c})}const l=ue(s=>(...i)=>(r++,o(s,i,r),new Promise((c,a)=>{n[r]={resolve:c,reject:a}})));return t.onmessage=({data:{topic:s,data:i,id:c,error:a,callback:f,args:b}})=>{if(f||b){we.get(f)?.(...b);return}if(n[c]){a?n[c].reject(a):n[c].resolve(i),delete n[c];return}u.dispatchEvent(new CustomEvent(s,{detail:i}))},ue(s=>{switch(s){case"$port":return()=>{const{port1:i,port2:c}=new MessageChannel;return t.postMessage({port:i},[i]),c};case"$async":return l;default:return(...i)=>{for(let c=0;c<i.length;c++){const a=i[c];if(typeof a=="function"){const f=Re(a);i[c]={[j]:f[j],auto:!0}}}return o(s,i)}}})}function Je(e){function t(n,u,o){u&&be(u[0])?self.postMessage({topic:n,data:u[0][0],id:o},"/",u[0][1]):self.postMessage({topic:n,data:u,id:o})}async function r({data:{topic:n,data:u,port:o,id:l}}){if(o){o.onmessage=r;return}for(let s=0;s<u.length;s++){const i=u[s];typeof i=="object"&&j in i&&i.auto&&(u[s]=(...c)=>Ue(i,...c))}if(l!==void 0){try{const s=await e[n](...u);t(n,s,l)}catch(s){self.postMessage({id:l,error:s})}return}e[n](...u)}return self.onmessage=r,e}function Re(e){let t=j in e?e[j]:void 0;return t||(t=++Ie,e[j]=t,we.set(t,e)),{[j]:t}}function Ue(e,...t){self.postMessage({callback:e[j],args:t})}export{q as $,Ye as I,He as S,ve as a,N as b,_ as c,Te as d,Ae as e,L as f,$e as g,Be as h,Ve as i,qe as j,Ke as k,We as l,ze as m,Qe as n,re as o,Ne as p,Fe as q,ie as r,Xe as s,De as t,O as u,_e as v,Me as w,Ge as x,Le as y,Je as z};
