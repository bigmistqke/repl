const fe=(e,t)=>e===t,q=Symbol("solid-proxy"),ce=Symbol("solid-track"),B={equals:fe};let ae=pe;const k=1,V=2,de={owned:null,cleanups:null,context:null,owner:null},Q={};var h=null;let J=null,ve=null,d=null,y=null,C=null,z=0;function K(e,t){const r=d,n=h,u=e.length===0,l=t===void 0?n:t,o=u?de:{owned:null,cleanups:null,context:l?l.context:null,owner:l},s=u?e:()=>e(()=>P(()=>F(o)));h=o,d=null;try{return j(s,!0)}finally{d=r,h=n}}function R(e,t){t=t?Object.assign({},B,t):B;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=u=>(typeof u=="function"&&(u=u(r.value)),ge(r,u));return[he.bind(r),n]}function le(e,t,r){const n=T(e,t,!0,k);M(n)}function me(e,t,r){const n=T(e,t,!1,k);M(n)}function Ie(e,t,r){ae=Ce;const n=T(e,t,!1,k);(!r||!r.render)&&(n.user=!0),C?C.push(n):M(n)}function L(e,t,r){r=r?Object.assign({},B,r):B;const n=T(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,M(n),he.bind(n)}function Ae(e){return e&&typeof e=="object"&&"then"in e}function Ue(e,t,r){let n,u,l;arguments.length===2&&typeof t=="object"||arguments.length===1?(n=!0,u=e,l=t||{}):(n=e,u=t,l=r||{});let o=null,s=Q,i=!1,f="initialValue"in l,a=typeof n=="function"&&L(n);const c=new Set,[w,x]=(l.storage||R)(l.initialValue),[S,E]=R(void 0),[I,U]=R(void 0,{equals:!1}),[m,A]=R(f?"ready":"unresolved");function v(g,p,b,N){return o===g&&(o=null,N!==void 0&&(f=!0),(g===s||p===s)&&l.onHydrated&&queueMicrotask(()=>l.onHydrated(N,{value:p})),s=Q,O(p,b)),p}function O(g,p){j(()=>{p===void 0&&x(()=>g),A(p!==void 0?"errored":f?"ready":"unresolved"),E(p);for(const b of c.keys())b.decrement();c.clear()},!1)}function $(){const g=Se,p=w(),b=S();if(b!==void 0&&!o)throw b;return d&&!d.user&&g&&le(()=>{I(),o&&(g.resolved||c.has(g)||(g.increment(),c.add(g)))}),p}function G(g=!0){if(g!==!1&&i)return;i=!1;const p=a?a():n;if(p==null||p===!1){v(o,P(w));return}const b=s!==Q?s:P(()=>u(p,{value:w(),refetching:g}));return Ae(b)?(o=b,"value"in b?(b.status==="success"?v(o,b.value,void 0,p):v(o,void 0,te(b.value),p),b):(i=!0,queueMicrotask(()=>i=!1),j(()=>{A(f?"refreshing":"pending"),U()},!1),b.then(N=>v(b,N,void 0,p),N=>v(b,void 0,te(N),p)))):(v(o,b,void 0,p),b)}return Object.defineProperties($,{state:{get:()=>m()},error:{get:()=>S()},loading:{get(){const g=m();return g==="pending"||g==="refreshing"}},latest:{get(){if(!f)return $();const g=S();if(g&&!o)throw g;return w()}}}),a?le(()=>G(!1)):G(!1),[$,{refetch:G,mutate:x}]}function Ne(e,t=fe,r){const n=new Map,u=T(l=>{const o=e();for(const[s,i]of n.entries())if(t(s,o)!==t(s,l))for(const f of i.values())f.state=k,f.pure?y.push(f):C.push(f);return o},void 0,!0,k);return M(u),l=>{const o=d;if(o){let s;(s=n.get(l))?s.add(o):n.set(l,s=new Set([o])),ue(()=>{s.delete(o),!s.size&&n.delete(l)})}return t(l,u.value)}}function Re(e){return j(e,!1)}function P(e){if(d===null)return e();const t=d;d=null;try{return e()}finally{d=t}}function _e(e,t,r){const n=Array.isArray(e);let u,l=r&&r.defer;return o=>{let s;if(n){s=Array(e.length);for(let f=0;f<e.length;f++)s[f]=e[f]()}else s=e();if(l)return l=!1,o;const i=P(()=>t(s,u,o));return u=s,i}}function ue(e){return h===null||(h.cleanups===null?h.cleanups=[e]:h.cleanups.push(e)),e}function $e(){return d}function Ke(e,t){const r=Symbol("context");return{id:r,Provider:Ee(r),defaultValue:e}}function Te(e){let t;return h&&h.context&&(t=h.context[e.id])!==void 0?t:e.defaultValue}function xe(e){const t=L(e),r=L(()=>ne(t()));return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}let Se;function he(){if(this.sources&&this.state)if(this.state===k)M(this);else{const e=y;y=null,j(()=>X(this),!1),y=e}if(d){const e=this.observers?this.observers.length:0;d.sources?(d.sources.push(this),d.sourceSlots.push(e)):(d.sources=[this],d.sourceSlots=[e]),this.observers?(this.observers.push(d),this.observerSlots.push(d.sources.length-1)):(this.observers=[d],this.observerSlots=[d.sources.length-1])}return this.value}function ge(e,t,r){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&j(()=>{for(let u=0;u<e.observers.length;u+=1){const l=e.observers[u],o=J&&J.running;o&&J.disposed.has(l),(o?!l.tState:!l.state)&&(l.pure?y.push(l):C.push(l),l.observers&&be(l)),o||(l.state=k)}if(y.length>1e6)throw y=[],new Error},!1)),t}function M(e){if(!e.fn)return;F(e);const t=z;ke(e,e.value,t)}function ke(e,t,r){let n;const u=h,l=d;d=h=e;try{n=e.fn(t)}catch(o){return e.pure&&(e.state=k,e.owned&&e.owned.forEach(F),e.owned=null),e.updatedAt=r+1,we(o)}finally{d=l,h=u}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?ge(e,n):e.value=n,e.updatedAt=r)}function T(e,t,r,n=k,u){const l={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:h,context:h?h.context:null,pure:r};return h===null||h!==de&&(h.owned?h.owned.push(l):h.owned=[l]),l}function H(e){if(e.state===0)return;if(e.state===V)return X(e);if(e.suspense&&P(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<z);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===k)M(e);else if(e.state===V){const n=y;y=null,j(()=>X(e,t[0]),!1),y=n}}function j(e,t){if(y)return e();let r=!1;t||(y=[]),C?r=!0:C=[],z++;try{const n=e();return Pe(r),n}catch(n){r||(C=null),y=null,we(n)}}function Pe(e){if(y&&(pe(y),y=null),e)return;const t=C;C=null,t.length&&j(()=>ae(t),!1)}function pe(e){for(let t=0;t<e.length;t++)H(e[t])}function Ce(e){let t,r=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[r++]=n:H(n)}for(t=0;t<r;t++)H(e[t])}function X(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const n=e.sources[r];if(n.sources){const u=n.state;u===k?n!==t&&(!n.updatedAt||n.updatedAt<z)&&H(n):u===V&&X(n,t)}}}function be(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=V,r.pure?y.push(r):C.push(r),r.observers&&be(r))}}function F(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),n=e.sourceSlots.pop(),u=r.observers;if(u&&u.length){const l=u.pop(),o=r.observerSlots.pop();n<u.length&&(l.sourceSlots[o]=n,u[n]=l,r.observerSlots[n]=o)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)F(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function te(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function we(e,t=h){throw te(e)}function ne(e){if(typeof e=="function"&&!e.length)return ne(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const n=ne(e[r]);Array.isArray(n)?t.push.apply(t,n):t.push(n)}return t}return e}function Ee(e,t){return function(n){let u;return me(()=>u=P(()=>(h.context={...h.context,[e]:n.value},xe(()=>n.children))),void 0),u}}const re=Symbol("fallback");function Y(e){for(let t=0;t<e.length;t++)e[t]()}function De(e,t,r={}){let n=[],u=[],l=[],o=0,s=t.length>1?[]:null;return ue(()=>Y(l)),()=>{let i=e()||[],f=i.length,a,c;return i[ce],P(()=>{let x,S,E,I,U,m,A,v,O;if(f===0)o!==0&&(Y(l),l=[],n=[],u=[],o=0,s&&(s=[])),r.fallback&&(n=[re],u[0]=K($=>(l[0]=$,r.fallback())),o=1);else if(o===0){for(u=new Array(f),c=0;c<f;c++)n[c]=i[c],u[c]=K(w);o=f}else{for(E=new Array(f),I=new Array(f),s&&(U=new Array(f)),m=0,A=Math.min(o,f);m<A&&n[m]===i[m];m++);for(A=o-1,v=f-1;A>=m&&v>=m&&n[A]===i[v];A--,v--)E[v]=u[A],I[v]=l[A],s&&(U[v]=s[A]);for(x=new Map,S=new Array(v+1),c=v;c>=m;c--)O=i[c],a=x.get(O),S[c]=a===void 0?-1:a,x.set(O,c);for(a=m;a<=A;a++)O=n[a],c=x.get(O),c!==void 0&&c!==-1?(E[c]=u[a],I[c]=l[a],s&&(U[c]=s[a]),c=S[c],x.set(O,c)):l[a]();for(c=m;c<f;c++)c in E?(u[c]=E[c],l[c]=I[c],s&&(s[c]=U[c],s[c](c))):u[c]=K(w);u=u.slice(0,o=f),n=i.slice(0)}return u});function w(x){if(l[c]=x,s){const[S,E]=R(c);return s[c]=E,t(i[c],S)}return t(i[c])}}}function Oe(e,t,r={}){let n=[],u=[],l=[],o=[],s=0,i;return ue(()=>Y(l)),()=>{const f=e()||[],a=f.length;return f[ce],P(()=>{if(a===0)return s!==0&&(Y(l),l=[],n=[],u=[],s=0,o=[]),r.fallback&&(n=[re],u[0]=K(w=>(l[0]=w,r.fallback())),s=1),u;for(n[0]===re&&(l[0](),l=[],n=[],u=[],s=0),i=0;i<a;i++)i<n.length&&n[i]!==f[i]?o[i](()=>f[i]):i>=n.length&&(u[i]=K(c));for(;i<n.length;i++)l[i]();return s=o.length=l.length=a,n=f.slice(0),u=u.slice(0,s)});function c(w){l[i]=w;const[x,S]=R(f[i]);return o[i]=S,t(x,i)}}}function We(e,t){return P(()=>e(t||{}))}function D(){return!0}const se={get(e,t,r){return t===q?r:e.get(t)},has(e,t){return t===q?!0:e.has(t)},set:D,deleteProperty:D,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:D,deleteProperty:D}},ownKeys(e){return e.keys()}};function Z(e){return(e=typeof e=="function"?e():e)?e:{}}function je(){for(let e=0,t=this.length;e<t;++e){const r=this[e]();if(r!==void 0)return r}}function qe(...e){let t=!1;for(let o=0;o<e.length;o++){const s=e[o];t=t||!!s&&q in s,e[o]=typeof s=="function"?(t=!0,L(s)):s}if(t)return new Proxy({get(o){for(let s=e.length-1;s>=0;s--){const i=Z(e[s])[o];if(i!==void 0)return i}},has(o){for(let s=e.length-1;s>=0;s--)if(o in Z(e[s]))return!0;return!1},keys(){const o=[];for(let s=0;s<e.length;s++)o.push(...Object.keys(Z(e[s])));return[...new Set(o)]}},se);const r={},n=Object.create(null);for(let o=e.length-1;o>=0;o--){const s=e[o];if(!s)continue;const i=Object.getOwnPropertyNames(s);for(let f=i.length-1;f>=0;f--){const a=i[f];if(a==="__proto__"||a==="constructor")continue;const c=Object.getOwnPropertyDescriptor(s,a);if(!n[a])n[a]=c.get?{enumerable:!0,configurable:!0,get:je.bind(r[a]=[c.get.bind(s)])}:c.value!==void 0?c:void 0;else{const w=r[a];w&&(c.get?w.push(c.get.bind(s)):c.value!==void 0&&w.push(()=>c.value))}}}const u={},l=Object.keys(n);for(let o=l.length-1;o>=0;o--){const s=l[o],i=n[s];i&&i.get?Object.defineProperty(u,s,i):u[s]=i?i.value:void 0}return u}function Be(e,...t){if(q in e){const u=new Set(t.length>1?t.flat():t[0]),l=t.map(o=>new Proxy({get(s){return o.includes(s)?e[s]:void 0},has(s){return o.includes(s)&&s in e},keys(){return o.filter(s=>s in e)}},se));return l.push(new Proxy({get(o){return u.has(o)?void 0:e[o]},has(o){return u.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!u.has(o))}},se)),l}const r={},n=t.map(()=>({}));for(const u of Object.getOwnPropertyNames(e)){const l=Object.getOwnPropertyDescriptor(e,u),o=!l.get&&!l.set&&l.enumerable&&l.writable&&l.configurable;let s=!1,i=0;for(const f of t)f.includes(u)&&(s=!0,o?n[i][u]=l.value:Object.defineProperty(n[i],u,l)),++i;s||(o?r[u]=l.value:Object.defineProperty(r,u,l))}return[...n,r]}const Le=e=>`Stale read from <${e}>.`;function Ve(e){const t="fallback"in e&&{fallback:()=>e.fallback};return L(Oe(()=>e.each,e.children,t||void 0))}function He(e){const t=e.keyed,r=L(()=>e.when,void 0,{equals:(n,u)=>t?n===u:!n==!u});return L(()=>{const n=r();if(n){const u=e.children;return typeof u=="function"&&u.length>0?P(()=>u(t?n:()=>{if(!P(r))throw Le("Show");return e.when})):u}return e.fallback},void 0,void 0)}function oe(e){return e[e.length-1]}function Xe(e,t){const r=Me(e),n=r?e:new URL(e,"http://example.com/"),u=new URL(t,n);return r?u.href:u.pathname}function Me(e){return e.startsWith("blob:")||e.startsWith("http:")||e.startsWith("https:")}function Ye(e){const t=oe(e.split("/"));return t?.includes(".")?oe(t.split(".")):void 0}var _="$WORKER_PROXY_CALLBACK",ee=0,ie=new Map;function W(e){return new Proxy({},{get(t,r){return e(r)}})}function ye(e){return e&&typeof e=="object"&&"$transfer"in e&&e.$transfer}function ze(e){const t=typeof e=="string"?new Worker(e):e;let r=0;const n={},u=new EventTarget;function l(s,i,f){if(ye(i[0])){const[a,c]=i[0];t.postMessage({topic:s,data:a,id:f},c)}else t.postMessage({topic:s,data:i,id:f})}const o=W(s=>(...i)=>(r++,l(s,i,r),new Promise((f,a)=>{n[r]={resolve:f,reject:a}})));return t.onmessage=({data:{topic:s,data:i,id:f,error:a,callback:c,args:w}})=>{if(c||w){ie.get(c)?.(...w);return}if(n[f]){a?n[f].reject(a):n[f].resolve(i),delete n[f];return}u.dispatchEvent(new CustomEvent(s,{detail:i}))},W(s=>{switch(s){case"$port":return()=>{const{port1:i,port2:f}=new MessageChannel;return t.postMessage({port:i},[i]),f};case"$async":return o;case"$on":return W(i=>f=>{const a=new AbortController;return u.addEventListener(i,c=>f(...c.detail),{signal:a.signal}),()=>a.abort()});default:return(...i)=>{for(let f=0;f<i.length;f++){const a=i[f];typeof a=="function"&&(_ in a||(ee++,ie.set(ee,a),a[_]=ee),i[f]={[_]:a[_]})}return l(s,i)}}})}function Fe(e){const t=typeof e=="function"?e(W(u=>(...l)=>r(u,l))):e;function r(u,l,o){ye(l[0])?self.postMessage({topic:u,data:l[0][0],id:o},"/",l[0][1]):self.postMessage({topic:u,data:l,id:o})}async function n({data:{topic:u,data:l,port:o,id:s}}){if(o){o.onmessage=n;return}for(let i=0;i<l.length;i++){const f=l[i];typeof f=="object"&&_ in f&&(l[i]=(...a)=>{self.postMessage({callback:f[_],args:a})})}if(s!==void 0){try{const i=await t[u](...l);r(u,i,s)}catch(i){self.postMessage({id:s,error:i})}return}t[u](...l)}return self.onmessage=n,e}export{q as $,Ve as I,He as S,me as a,R as b,K as c,Ne as d,xe as e,L as f,Ie as g,De as h,We as i,Te as j,_e as k,Ke as l,qe as m,ze as n,ue as o,Ue as p,Ye as q,ce as r,Be as s,$e as t,P as u,Re as v,Xe as w,Me as x,Fe as y};
