(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const s of c)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(c){const s={};return c.integrity&&(s.integrity=c.integrity),c.referrerPolicy&&(s.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?s.credentials="include":c.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(c){if(c.ep)return;c.ep=!0;const s=n(c);fetch(c.href,s)}})();const Fr=(t,e)=>t===e,we=Symbol("solid-proxy"),bn=Symbol("solid-track"),Ft={equals:Fr};let Ur=Qr;const Oe=1,Ut=2,zr={owned:null,cleanups:null,context:null,owner:null},cn={};var re=null;let ln=null,Js=null,ie=null,pe=null,ke=null,Qt=0;function Ve(t,e){const n=ie,r=re,c=t.length===0,s=e===void 0?r:e,a=c?zr:{owned:null,cleanups:null,context:s?s.context:null,owner:s},o=c?t:()=>t(()=>ce(()=>Zt(a)));re=a,ie=null;try{return Re(o,!0)}finally{ie=n,re=r}}function ue(t,e){e=e?Object.assign({},Ft,e):Ft;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=c=>(typeof c=="function"&&(c=c(n.value)),Yr(n,c));return[Vr.bind(n),r]}function Zn(t,e,n){const r=Ot(t,e,!0,Oe);Qe(r)}function _e(t,e,n){const r=Ot(t,e,!1,Oe);Qe(r)}function ve(t,e,n){Ur=ti;const r=Ot(t,e,!1,Oe);(!n||!n.render)&&(r.user=!0),ke?ke.push(r):Qe(r)}function de(t,e,n){n=n?Object.assign({},Ft,n):Ft;const r=Ot(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Qe(r),Vr.bind(r)}function Vs(t){return t&&typeof t=="object"&&"then"in t}function je(t,e,n){let r,c,s;arguments.length===2&&typeof e=="object"||arguments.length===1?(r=!0,c=t,s=e||{}):(r=t,c=e,s=n||{});let a=null,o=cn,f=!1,u="initialValue"in s,_=typeof r=="function"&&de(r);const d=new Set,[b,k]=(s.storage||ue)(s.initialValue),[v,O]=ue(void 0),[C,y]=ue(void 0,{equals:!1}),[A,S]=ue(u?"ready":"unresolved");function T(h,l,m,w){return a===h&&(a=null,w!==void 0&&(u=!0),(h===o||l===o)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(w,{value:l})),o=cn,g(l,m)),l}function g(h,l){Re(()=>{l===void 0&&k(()=>h),S(l!==void 0?"errored":u?"ready":"unresolved"),O(l);for(const m of d.keys())m.decrement();d.clear()},!1)}function i(){const h=Qs,l=b(),m=v();if(m!==void 0&&!a)throw m;return ie&&!ie.user&&h&&Zn(()=>{C(),a&&(h.resolved||d.has(h)||(h.increment(),d.add(h)))}),l}function p(h=!0){if(h!==!1&&f)return;f=!1;const l=_?_():r;if(l==null||l===!1){T(a,ce(b));return}const m=o!==cn?o:ce(()=>c(l,{value:b(),refetching:h}));return Vs(m)?(a=m,"value"in m?(m.status==="success"?T(a,m.value,void 0,l):T(a,void 0,vn(m.value),l),m):(f=!0,queueMicrotask(()=>f=!1),Re(()=>{S(u?"refreshing":"pending"),y()},!1),m.then(w=>T(m,w,void 0,l),w=>T(m,void 0,vn(w),l)))):(T(a,m,void 0,l),m)}return Object.defineProperties(i,{state:{get:()=>A()},error:{get:()=>v()},loading:{get(){const h=A();return h==="pending"||h==="refreshing"}},latest:{get(){if(!u)return i();const h=v();if(h&&!a)throw h;return b()}}}),_?Zn(()=>p(!1)):p(!1),[i,{refetch:p,mutate:k}]}function er(t,e=Fr,n){const r=new Map,c=Ot(s=>{const a=t();for(const[o,f]of r.entries())if(e(o,a)!==e(o,s))for(const u of f.values())u.state=Oe,u.pure?pe.push(u):ke.push(u);return a},void 0,!0,Oe);return Qe(c),s=>{const a=ie;if(a){let o;(o=r.get(s))?o.add(a):r.set(s,o=new Set([a])),Se(()=>{o.delete(a),!o.size&&r.delete(s)})}return e(s,c.value)}}function xn(t){return Re(t,!1)}function ce(t){if(ie===null)return t();const e=ie;ie=null;try{return t()}finally{ie=e}}function Hr(t,e,n){const r=Array.isArray(t);let c,s=n&&n.defer;return a=>{let o;if(r){o=Array(t.length);for(let u=0;u<t.length;u++)o[u]=t[u]()}else o=t();if(s)return s=!1,a;const f=ce(()=>e(o,c,a));return c=o,f}}function qr(t){ve(()=>ce(t))}function Se(t){return re===null||(re.cleanups===null?re.cleanups=[t]:re.cleanups.push(t)),t}function at(){return ie}function De(){return re}function Kr(t,e){const n=re,r=ie;re=t,ie=null;try{return Re(e,!0)}catch(c){$n(c)}finally{re=n,ie=r}}function Xr(t,e){const n=Symbol("context");return{id:n,Provider:ni(n),defaultValue:t}}function Jr(t){let e;return re&&re.context&&(e=re.context[t.id])!==void 0?e:t.defaultValue}function Ys(t){const e=de(t),n=de(()=>wn(e()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let Qs;function Vr(){if(this.sources&&this.state)if(this.state===Oe)Qe(this);else{const t=pe;pe=null,Re(()=>Ht(this),!1),pe=t}if(ie){const t=this.observers?this.observers.length:0;ie.sources?(ie.sources.push(this),ie.sourceSlots.push(t)):(ie.sources=[this],ie.sourceSlots=[t]),this.observers?(this.observers.push(ie),this.observerSlots.push(ie.sources.length-1)):(this.observers=[ie],this.observerSlots=[ie.sources.length-1])}return this.value}function Yr(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&Re(()=>{for(let c=0;c<t.observers.length;c+=1){const s=t.observers[c],a=ln&&ln.running;a&&ln.disposed.has(s),(a?!s.tState:!s.state)&&(s.pure?pe.push(s):ke.push(s),s.observers&&Zr(s)),a||(s.state=Oe)}if(pe.length>1e6)throw pe=[],new Error},!1)),e}function Qe(t){if(!t.fn)return;Zt(t);const e=Qt;Zs(t,t.value,e)}function Zs(t,e,n){let r;const c=re,s=ie;ie=re=t;try{r=t.fn(e)}catch(a){return t.pure&&(t.state=Oe,t.owned&&t.owned.forEach(Zt),t.owned=null),t.updatedAt=n+1,$n(a)}finally{ie=s,re=c}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?Yr(t,r):t.value=r,t.updatedAt=n)}function Ot(t,e,n,r=Oe,c){const s={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:re,context:re?re.context:null,pure:n};return re===null||re!==zr&&(re.owned?re.owned.push(s):re.owned=[s]),s}function zt(t){if(t.state===0)return;if(t.state===Ut)return Ht(t);if(t.suspense&&ce(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Qt);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===Oe)Qe(t);else if(t.state===Ut){const r=pe;pe=null,Re(()=>Ht(t,e[0]),!1),pe=r}}function Re(t,e){if(pe)return t();let n=!1;e||(pe=[]),ke?n=!0:ke=[],Qt++;try{const r=t();return ei(n),r}catch(r){n||(ke=null),pe=null,$n(r)}}function ei(t){if(pe&&(Qr(pe),pe=null),t)return;const e=ke;ke=null,e.length&&Re(()=>Ur(e),!1)}function Qr(t){for(let e=0;e<t.length;e++)zt(t[e])}function ti(t){let e,n=0;for(e=0;e<t.length;e++){const r=t[e];r.user?t[n++]=r:zt(r)}for(e=0;e<n;e++)zt(t[e])}function Ht(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const r=t.sources[n];if(r.sources){const c=r.state;c===Oe?r!==e&&(!r.updatedAt||r.updatedAt<Qt)&&zt(r):c===Ut&&Ht(r,e)}}}function Zr(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=Ut,n.pure?pe.push(n):ke.push(n),n.observers&&Zr(n))}}function Zt(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),c=n.observers;if(c&&c.length){const s=c.pop(),a=n.observerSlots.pop();r<c.length&&(s.sourceSlots[a]=r,c[r]=s,n.observerSlots[r]=a)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)Zt(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function vn(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function $n(t,e=re){throw vn(t)}function wn(t){if(typeof t=="function"&&!t.length)return wn(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=wn(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}function ni(t,e){return function(r){let c;return _e(()=>c=ce(()=>(re.context={...re.context,[t]:r.value},Ys(()=>r.children))),void 0),c}}const tr=Symbol("fallback");function nr(t){for(let e=0;e<t.length;e++)t[e]()}function ri(t,e,n={}){let r=[],c=[],s=[],a=[],o=0,f;return Se(()=>nr(s)),()=>{const u=t()||[],_=u.length;return u[bn],ce(()=>{if(_===0)return o!==0&&(nr(s),s=[],r=[],c=[],o=0,a=[]),n.fallback&&(r=[tr],c[0]=Ve(b=>(s[0]=b,n.fallback())),o=1),c;for(r[0]===tr&&(s[0](),s=[],r=[],c=[],o=0),f=0;f<_;f++)f<r.length&&r[f]!==u[f]?a[f](()=>u[f]):f>=r.length&&(c[f]=Ve(d));for(;f<r.length;f++)s[f]();return o=a.length=s.length=_,r=u.slice(0),c=c.slice(0,o)});function d(b){s[f]=b;const[k,v]=ue(u[f]);return a[f]=v,e(k,f)}}}function Ae(t,e){return ce(()=>t(e||{}))}function $t(){return!0}const Sn={get(t,e,n){return e===we?n:t.get(e)},has(t,e){return e===we?!0:t.has(e)},set:$t,deleteProperty:$t,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:$t,deleteProperty:$t}},ownKeys(t){return t.keys()}};function un(t){return(t=typeof t=="function"?t():t)?t:{}}function si(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function ct(...t){let e=!1;for(let a=0;a<t.length;a++){const o=t[a];e=e||!!o&&we in o,t[a]=typeof o=="function"?(e=!0,de(o)):o}if(e)return new Proxy({get(a){for(let o=t.length-1;o>=0;o--){const f=un(t[o])[a];if(f!==void 0)return f}},has(a){for(let o=t.length-1;o>=0;o--)if(a in un(t[o]))return!0;return!1},keys(){const a=[];for(let o=0;o<t.length;o++)a.push(...Object.keys(un(t[o])));return[...new Set(a)]}},Sn);const n={},r=Object.create(null);for(let a=t.length-1;a>=0;a--){const o=t[a];if(!o)continue;const f=Object.getOwnPropertyNames(o);for(let u=f.length-1;u>=0;u--){const _=f[u];if(_==="__proto__"||_==="constructor")continue;const d=Object.getOwnPropertyDescriptor(o,_);if(!r[_])r[_]=d.get?{enumerable:!0,configurable:!0,get:si.bind(n[_]=[d.get.bind(o)])}:d.value!==void 0?d:void 0;else{const b=n[_];b&&(d.get?b.push(d.get.bind(o)):d.value!==void 0&&b.push(()=>d.value))}}}const c={},s=Object.keys(r);for(let a=s.length-1;a>=0;a--){const o=s[a],f=r[o];f&&f.get?Object.defineProperty(c,o,f):c[o]=f?f.value:void 0}return c}function An(t,...e){if(we in t){const c=new Set(e.length>1?e.flat():e[0]),s=e.map(a=>new Proxy({get(o){return a.includes(o)?t[o]:void 0},has(o){return a.includes(o)&&o in t},keys(){return a.filter(o=>o in t)}},Sn));return s.push(new Proxy({get(a){return c.has(a)?void 0:t[a]},has(a){return c.has(a)?!1:a in t},keys(){return Object.keys(t).filter(a=>!c.has(a))}},Sn)),s}const n={},r=e.map(()=>({}));for(const c of Object.getOwnPropertyNames(t)){const s=Object.getOwnPropertyDescriptor(t,c),a=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let o=!1,f=0;for(const u of e)u.includes(c)&&(o=!0,a?r[f][c]=s.value:Object.defineProperty(r[f],c,s)),++f;o||(a?n[c]=s.value:Object.defineProperty(n,c,s))}return[...r,n]}const ii=t=>`Stale read from <${t}>.`;function rr(t){const e="fallback"in t&&{fallback:()=>t.fallback};return de(ri(()=>t.each,t.children,e||void 0))}function qt(t){const e=t.keyed,n=de(()=>t.when,void 0,{equals:(r,c)=>e?r===c:!r==!c});return de(()=>{const r=n();if(r){const c=t.children;return typeof c=="function"&&c.length>0?ce(()=>c(e?r:()=>{if(!ce(n))throw ii("Show");return t.when})):c}return t.fallback},void 0,void 0)}const oi=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],ai=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...oi]),ci=new Set(["innerHTML","textContent","innerText","children"]),li=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),ui=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function fi(t,e){const n=ui[t];return typeof n=="object"?n[e]?n.$:void 0:n}const hi=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),di={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function pi(t,e,n){let r=n.length,c=e.length,s=r,a=0,o=0,f=e[c-1].nextSibling,u=null;for(;a<c||o<s;){if(e[a]===n[o]){a++,o++;continue}for(;e[c-1]===n[s-1];)c--,s--;if(c===a){const _=s<r?o?n[o-1].nextSibling:n[s-o]:f;for(;o<s;)t.insertBefore(n[o++],_)}else if(s===o)for(;a<c;)(!u||!u.has(e[a]))&&e[a].remove(),a++;else if(e[a]===n[s-1]&&n[o]===e[c-1]){const _=e[--c].nextSibling;t.insertBefore(n[o++],e[a++].nextSibling),t.insertBefore(n[--s],_),e[c]=n[s]}else{if(!u){u=new Map;let d=o;for(;d<s;)u.set(n[d],d++)}const _=u.get(e[a]);if(_!=null)if(o<_&&_<s){let d=a,b=1,k;for(;++d<c&&d<s&&!((k=u.get(e[d]))==null||k!==_+b);)b++;if(b>_-o){const v=e[a];for(;o<_;)t.insertBefore(n[o++],v)}else t.replaceChild(n[o++],e[a++])}else a++;else e[a++].remove()}}}const sr="_$DX_DELEGATE";function Ln(t,e,n,r={}){let c;return Ve(s=>{c=s,e===document?t():jn(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{c(),e.textContent=""}}function Be(t,e,n){let r;const c=()=>{const a=document.createElement("template");return a.innerHTML=t,n?a.content.firstChild.firstChild:a.content.firstChild},s=e?()=>ce(()=>document.importNode(r||(r=c()),!0)):()=>(r||(r=c())).cloneNode(!0);return s.cloneNode=s,s}function Mn(t,e=window.document){const n=e[sr]||(e[sr]=new Set);for(let r=0,c=t.length;r<c;r++){const s=t[r];n.has(s)||(n.add(s),e.addEventListener(s,wi))}}function lt(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function gi(t,e,n,r){r==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r)}function dt(t,e){e==null?t.removeAttribute("class"):t.className=e}function mi(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const c=n[0];t.addEventListener(e,n[0]=s=>c.call(t,n[1],s))}else t.addEventListener(e,n)}function yi(t,e,n={}){const r=Object.keys(e||{}),c=Object.keys(n);let s,a;for(s=0,a=c.length;s<a;s++){const o=c[s];!o||o==="undefined"||e[o]||(ir(t,o,!1),delete n[o])}for(s=0,a=r.length;s<a;s++){const o=r[s],f=!!e[o];!o||o==="undefined"||n[o]===f||!f||(ir(t,o,!0),n[o]=f)}return n}function _i(t,e,n){if(!e)return n?lt(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let c,s;for(s in n)e[s]==null&&r.removeProperty(s),delete n[s];for(s in e)c=e[s],c!==n[s]&&(r.setProperty(s,c),n[s]=c);return n}function es(t,e={},n,r){const c={};return r||_e(()=>c.children=ut(t,e.children,c.children)),_e(()=>typeof e.ref=="function"&&yt(e.ref,t)),_e(()=>bi(t,e,n,!0,c,!0)),c}function yt(t,e,n){return ce(()=>t(e,n))}function jn(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return ut(t,e,r,n);_e(c=>ut(t,e(),c,n),r)}function bi(t,e,n,r,c={},s=!1){e||(e={});for(const a in c)if(!(a in e)){if(a==="children")continue;c[a]=or(t,a,null,c[a],n,s)}for(const a in e){if(a==="children"){r||ut(t,e.children);continue}const o=e[a];c[a]=or(t,a,o,c[a],n,s)}}function vi(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function ir(t,e,n){const r=e.trim().split(/\s+/);for(let c=0,s=r.length;c<s;c++)t.classList.toggle(r[c],n)}function or(t,e,n,r,c,s){let a,o,f,u,_;if(e==="style")return _i(t,n,r);if(e==="classList")return yi(t,n,r);if(n===r)return r;if(e==="ref")s||n(t);else if(e.slice(0,3)==="on:"){const d=e.slice(3);r&&t.removeEventListener(d,r),n&&t.addEventListener(d,n)}else if(e.slice(0,10)==="oncapture:"){const d=e.slice(10);r&&t.removeEventListener(d,r,!0),n&&t.addEventListener(d,n,!0)}else if(e.slice(0,2)==="on"){const d=e.slice(2).toLowerCase(),b=hi.has(d);if(!b&&r){const k=Array.isArray(r)?r[0]:r;t.removeEventListener(d,k)}(b||n)&&(mi(t,d,n,b),b&&Mn([d]))}else if(e.slice(0,5)==="attr:")lt(t,e.slice(5),n);else if((_=e.slice(0,5)==="prop:")||(f=ci.has(e))||!c&&((u=fi(e,t.tagName))||(o=ai.has(e)))||(a=t.nodeName.includes("-")))_&&(e=e.slice(5),o=!0),e==="class"||e==="className"?dt(t,n):a&&!o&&!f?t[vi(e)]=n:t[u||e]=n;else{const d=c&&e.indexOf(":")>-1&&di[e.split(":")[0]];d?gi(t,d,e,n):lt(t,li[e]||e,n)}return n}function wi(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[e];if(r&&!n.disabled){const c=n[`${e}Data`];if(c!==void 0?r.call(n,c,t):r.call(n,t),t.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function ut(t,e,n,r,c){for(;typeof n=="function";)n=n();if(e===n)return n;const s=typeof e,a=r!==void 0;if(t=a&&n[0]&&n[0].parentNode||t,s==="string"||s==="number"){if(s==="number"&&(e=e.toString(),e===n))return n;if(a){let o=n[0];o&&o.nodeType===3?o.data!==e&&(o.data=e):o=document.createTextNode(e),n=nt(t,n,r,o)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||s==="boolean")n=nt(t,n,r);else{if(s==="function")return _e(()=>{let o=e();for(;typeof o=="function";)o=o();n=ut(t,o,n,r)}),()=>n;if(Array.isArray(e)){const o=[],f=n&&Array.isArray(n);if(Tn(o,e,n,c))return _e(()=>n=ut(t,o,n,r,!0)),()=>n;if(o.length===0){if(n=nt(t,n,r),a)return n}else f?n.length===0?ar(t,o,r):pi(t,n,o):(n&&nt(t),ar(t,o));n=o}else if(e.nodeType){if(Array.isArray(n)){if(a)return n=nt(t,n,r,e);nt(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function Tn(t,e,n,r){let c=!1;for(let s=0,a=e.length;s<a;s++){let o=e[s],f=n&&n[t.length],u;if(!(o==null||o===!0||o===!1))if((u=typeof o)=="object"&&o.nodeType)t.push(o);else if(Array.isArray(o))c=Tn(t,o,f)||c;else if(u==="function")if(r){for(;typeof o=="function";)o=o();c=Tn(t,Array.isArray(o)?o:[o],Array.isArray(f)?f:[f])||c}else t.push(o),c=!0;else{const _=String(o);f&&f.nodeType===3&&f.data===_?t.push(f):t.push(document.createTextNode(_))}}return c}function ar(t,e,n=null){for(let r=0,c=e.length;r<c;r++)t.insertBefore(e[r],n)}function nt(t,e,n,r){if(n===void 0)return t.textContent="";const c=r||document.createTextNode("");if(e.length){let s=!1;for(let a=e.length-1;a>=0;a--){const o=e[a];if(c!==o){const f=o.parentNode===t;!s&&!a?f?t.replaceChild(c,o):t.insertBefore(c,n):f&&o.remove()}else s=!0}}else t.insertBefore(c,n);return[c]}var Dn=(t,e)=>{let n;const r=()=>clearTimeout(n);return De()&&Se(r),Object.assign((...s)=>{n!==void 0&&r(),n=setTimeout(()=>t(...s),e)},{clear:r})};function Gn(t){let e=0,n=!1;const[r,c]=ue(void 0,{equals:!1}),s=t(()=>{n=!0,c()});return()=>(n||(s(),r()),n?(n=!!e,!0):(at()&&(e++,Se(()=>e--)),!1))}class ts extends EventTarget{addEventListener(e,n,r){super.addEventListener(e,n,r)}removeEventListener(e,n,r){super.removeEventListener(e,n,r)}dispatchEvent(e){return super.dispatchEvent(e)}}class ns extends Event{constructor(e){super("url"),this.url=e}}class Bn extends ts{constructor(e,n,r){super(),this.runtime=e,this.path=n,[this.#e,this.#n]=ue(""),this.#r=()=>r!==void 0?r:!!e.config.controlled}#e;#n;#r;toJSON(){return this.get()}set(e){this.runtime.config.onFileChange?.(this.path,e),this.#r()||this.#n(e)}get(){return this.#r()?this.runtime.config.files[this.path]:this.#e()}get source(){return this.#r()?this.runtime.config.files[this.path]:this.#e()}moduleTransform(){const e=this.url;if(!e)throw`Currently module-url of ${this.path} is undefined.`;return e}}function Si(t,e){return`
import { dispose } from "@repl/std"
(() => {
  let stylesheet = document.querySelector('[data-repl-css-id="${t}"]');
  if(!stylesheet){
    stylesheet = document.createElement('style')
    stylesheet.setAttribute('data-repl-css-id', '${t}');
    document.head.appendChild(stylesheet)
    dispose('${t}', () => stylesheet.remove())
  }
  const styles = document.createTextNode(\`${e}\`)
  stylesheet.innerHTML = ''
  stylesheet.appendChild(styles)
})()`}class Ai extends Bn{jsFile;constructor(e,n){super(e,n),this.jsFile=e.fs.create(n.replace(".css",".js"));const r=Gn(c=>Dn(c,250));this.jsFile.addEventListener("url",c=>this.dispatchEvent(c)),ve(()=>{r()&&this.jsFile.set(Si(n,this.get()))})}generate(){return this.jsFile.generate()}get url(){return this.jsFile.generate()}}function Je(t,e,n){const r=typeof t=="function"?t():t;return r?e(r):n?n():void 0}function Kt(t,e,n){return()=>Je(t,e,n)}function Wn(t,e){const n=e.match(/\.\.\//g)?.length||0;return(n>0?[...t.split("/").slice(0,-(n+1)),...e.split("/").slice(n)]:[...t.split("/").slice(0,-1),...e.split("/").slice(1)]).join("/")}const Fn=t=>t.startsWith("blob:")||t.startsWith("http:")||t.startsWith("https:"),Un=t=>t.startsWith("."),Ti=/(?:@?[^@\/]*\/)?([^@\/]+)@([^\s\/]+)/,cr=t=>{const e=t.match(Ti);if(e){const n=e[1],r=e[2];return[n,r]}else return};class Ke extends Bn{constructor(e,n){super(e,n),this.runtime=e,this.path=n,[this.directDependencies,this.#e]=ue([]),[this.#t,this.#s]=ue([]);let r=!1;const c=Gn(a=>Dn(a,250)),[s]=je(()=>[this.get(),!r||c()],async([a])=>{r=!0;try{return Array.isArray(e.config.transform)?e.config.transform.reduce((o,f)=>f(o,n),a):e.config.transform(this.get(),this.path)}catch(o){console.error("error while transforming js",o)}});this.#r=de(a=>Je(s,o=>{const f=[],u=new Set(ce(this.directDependencies));try{return xn(()=>e.config.transformModulePaths(o,_=>{if(Fn(_))return _;const d=e.fs.alias[_];if(d||Un(_)){const b=e.fs.resolve(d||Wn(n,_));if(!b)throw`Could not resolve relative module-path to its virtual file. Are you sure ${_} exists?`;return f.push(b),u.delete(b),b.moduleTransform()}else return e.config.importExternalTypes&&e.types.import.fromPackageName(_),`${e.config.cdn}/${_}`}))}catch(_){return console.warn("error",_),a}finally{this.#e(f);for(const _ of u)this.#i(_)}},()=>a)),this.#n=de(a=>Je(this.generate.bind(this),o=>(this.dispatchEvent(new ns(o)),o),()=>a))}directDependencies;#e;#n;#r;#t;#s;onDependencyRemoved(e){this.#s(n=>[...n,e]),Se(()=>{this.#s(n=>{const r=n.findIndex(c=>c===e);return r!==-1?(n.splice(r,1),[...n]):n})})}#i(e){for(const n of this.#t())n(e)}resolveDependencies(){const e=new Set,n=[...this.directDependencies()];for(;n.length>0;){const r=n.pop();if(r&&!e.has(r)&&(e.add(r),r instanceof Ke))for(const c of r.directDependencies())e.has(c)||n.push(c)}return Array.from(e)}generate(){return Je(this.#r.bind(this),e=>URL.createObjectURL(new Blob([e],{type:"application/javascript"})))}get url(){return this.#n()}}const rs=(t,e)=>t.reduce((n,r,c)=>n+r+(e[c]||""),"");function ss(t,...e){const n=URL.createObjectURL(new Blob([rs(t,e)],{type:"text/html"}));return Se(()=>URL.revokeObjectURL(n)),n}function is(t,...e){const n=URL.createObjectURL(new Blob([rs(t,e)],{type:"text/javascript"}));return Se(()=>URL.revokeObjectURL(n)),n}class Ei extends Bn{#e;generate;constructor(e,n,r){super(e,n,r);const c=Gn(s=>Dn(s,250));this.generate=()=>{const s=this.get();if(!s)return;const a=Uint8Array.from(atob(s),o=>o.charCodeAt(0));return is`
const wasmCode = new Uint8Array([${a.toString()}]);
export default (imports) =>  WebAssembly.instantiate(wasmCode, imports).then(result => result.instance);
`},this.#e=de(s=>{if(!c())return s;const a=this.generate();return a?(this.dispatchEvent(new ns(a)),a):s})}get url(){return this.#e()}}const En=Symbol("store-raw"),st=Symbol("store-node"),Ne=Symbol("store-has"),os=Symbol("store-self");function as(t){let e=t[we];if(!e&&(Object.defineProperty(t,we,{value:e=new Proxy(t,Pi)}),!Array.isArray(t))){const n=Object.keys(t),r=Object.getOwnPropertyDescriptors(t);for(let c=0,s=n.length;c<s;c++){const a=n[c];r[a].get&&Object.defineProperty(t,a,{enumerable:r[a].enumerable,get:r[a].get.bind(e)})}}return e}function Xt(t){let e;return t!=null&&typeof t=="object"&&(t[we]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function vt(t,e=new Set){let n,r,c,s;if(n=t!=null&&t[En])return n;if(!Xt(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let a=0,o=t.length;a<o;a++)c=t[a],(r=vt(c,e))!==c&&(t[a]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const a=Object.keys(t),o=Object.getOwnPropertyDescriptors(t);for(let f=0,u=a.length;f<u;f++)s=a[f],!o[s].get&&(c=t[s],(r=vt(c,e))!==c&&(t[s]=r))}return t}function Jt(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function wt(t,e,n){if(t[e])return t[e];const[r,c]=ue(n,{equals:!1,internal:!0});return r.$=c,t[e]=r}function Ci(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===we||e===st||(delete n.value,delete n.writable,n.get=()=>t[we][e]),n}function cs(t){at()&&wt(Jt(t,st),os)()}function Oi(t){return cs(t),Reflect.ownKeys(t)}const Pi={get(t,e,n){if(e===En)return t;if(e===we)return n;if(e===bn)return cs(t),n;const r=Jt(t,st),c=r[e];let s=c?c():t[e];if(e===st||e===Ne||e==="__proto__")return s;if(!c){const a=Object.getOwnPropertyDescriptor(t,e);at()&&(typeof s!="function"||t.hasOwnProperty(e))&&!(a&&a.get)&&(s=wt(r,e,s)())}return Xt(s)?as(s):s},has(t,e){return e===En||e===we||e===bn||e===st||e===Ne||e==="__proto__"?!0:(at()&&wt(Jt(t,Ne),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:Oi,getOwnPropertyDescriptor:Ci};function Vt(t,e,n,r=!1){if(!r&&t[e]===n)return;const c=t[e],s=t.length;n===void 0?(delete t[e],t[Ne]&&t[Ne][e]&&c!==void 0&&t[Ne][e].$()):(t[e]=n,t[Ne]&&t[Ne][e]&&c===void 0&&t[Ne][e].$());let a=Jt(t,st),o;if((o=wt(a,e,c))&&o.$(()=>n),Array.isArray(t)&&t.length!==s){for(let f=t.length;f<s;f++)(o=a[f])&&o.$();(o=wt(a,"length",s))&&o.$(t.length)}(o=a[os])&&o.$()}function ls(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const c=n[r];Vt(t,c,e[c])}}function ki(t,e){if(typeof e=="function"&&(e=e(t)),e=vt(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){const c=e[n];t[n]!==c&&Vt(t,n,c)}Vt(t,"length",r)}else ls(t,e)}function pt(t,e,n=[]){let r,c=t;if(e.length>1){r=e.shift();const a=typeof r,o=Array.isArray(t);if(Array.isArray(r)){for(let f=0;f<r.length;f++)pt(t,[r[f]].concat(e),n);return}else if(o&&a==="function"){for(let f=0;f<t.length;f++)r(t[f],f)&&pt(t,[f].concat(e),n);return}else if(o&&a==="object"){const{from:f=0,to:u=t.length-1,by:_=1}=r;for(let d=f;d<=u;d+=_)pt(t,[d].concat(e),n);return}else if(e.length>1){pt(t[r],e,[r].concat(n));return}c=t[r],n=[r].concat(n)}let s=e[0];typeof s=="function"&&(s=s(c,n),s===c)||r===void 0&&s==null||(s=vt(s),r===void 0||Xt(c)&&Xt(s)&&!Array.isArray(s)?ls(c,s):Vt(t,r,s))}function St(...[t,e]){const n=vt(t||{}),r=Array.isArray(n),c=as(n);function s(...a){xn(()=>{r&&a.length===1?ki(n,a[0]):pt(n,a)})}return[c,s]}class Ni{#e;#n;constructor(){[this.#e,this.#n]=St({})}add(e,n){this.#n(e,n)}delete(e){this.#n(e,void 0)}get(e){return this.#e[e]}has(e){return e in this.#e}}class Ri{constructor(e){this.iframe=e;const n=e.contentWindow;if(!n)throw"contentWindow is not defined!";this.contentWindow=n}contentWindow;reloading=!1;injectModuleUrl(e){const n=this.contentWindow.document.createElement("script");return n.type="module",n.src=e,this.contentWindow.document.head.appendChild(n),()=>{this.contentWindow.document.head.removeChild(n),URL.revokeObjectURL(e)}}injectFile(e){return ve(Hr(()=>e.url,()=>Se(()=>this.dispose(e.path)))),e instanceof Ke&&e.onDependencyRemoved(n=>this.dispose(n.path)),Je(e.generate(),n=>this.injectModuleUrl(n))}dispose(e){const n=this.contentWindow.repl?.dispose;if(typeof n=="function")return n(e)}reload(){return this.contentWindow.location.reload(),this.reloading=!0,new Promise(e=>{const n=()=>{this.iframe.removeEventListener("load",n),this.reloading=!1};this.iframe.addEventListener("load",n)})}clearBody(){this.contentWindow.document.body.innerHTML=""}}class Ii{async parse(e){e.startsWith(".")&&(e=new URL(e,window.location.href.toString()).href);const n=await fetch(`${e}/package.json`).then(s=>s.json()),r=typeof n.exports=="string"?n.exports:this.resolveExportPath(e,n.exports,"default","import")||n.module||n.main;if(!r)throw new Error("No valid module entry found for script.");const c=typeof n.exports!="string"&&this.resolveExportPath(e,n.exports,"default","types")||n.types||n.typings;return{typesUrl:c&&new URL(c,`${e}/`).href,scriptUrl:new URL(r,`${e}/`).href,packageName:n.name}}resolveExportPath(e,n,r,c){if(!n)return;function s(a,o){if(a)return typeof a=="string"?a:s(a[o],o)||s(a.default,o)}return s(n[r],r)||s(n[c],c)}}const xi=`/**
 * Standard library that is included in each FileSystem, aliased to \`@repl/std\`
 */

const cleanups = new Map<string, () => void>()
/** Add function to clean-up side-effects after module is reload. */
export const dispose = (id: string, callback: () => void) => cleanups.set(id, callback)

// Extend the Window interface in the same file
declare global {
  interface Window {
    repl?: {
      dispose: (id?: string) => void
    }
  }
}

window.repl = {
  dispose(id?: string) {
    if (id) {
      cleanups.get(id)?.()
    } else {
      cleanups.forEach(cleanup => cleanup())
    }
  },
}
`;class $i extends Event{constructor(e){super("file"),this.file=e}}class Li extends ts{constructor(e){super(),this.runtime=e;const[n,r]=St({});this.#e=n,this.#n=r,[this.alias,this.setAlias]=St({"@repl/std":"@repl/std.ts"}),Se(()=>this.#r.forEach(c=>c()))}alias;setAlias;#e;#n;#r=[];initialize(e){const n={...e,"@repl/std.ts":xi};for(const[r,c]of Object.entries(n))this.create(r).set(c)}toJSON(){return{sources:Object.fromEntries(Object.entries(this.#e).map(([e,n])=>[e,n.toJSON()])),alias:this.alias}}addProject(e){Object.entries(e).forEach(([n,r])=>{this.create(n).set(r)})}create(e){let n=null;for(const c in this.runtime.extensions)e.endsWith(c)&&c.length>(n?.length||0)&&(n=c);if(n===null)throw"extension type is not supported";const r=new this.runtime.extensions[n](this.runtime,e);return this.#n(e,r),this.dispatchEvent(new $i(r)),r}has(e){return e in this.#e}get(e){return this.#e[e]}getOrCreate(e){return this.runtime.fs.get(e)||this.runtime.fs.create(e)}resolve(e){return this.#e[e]||this.#e[`${e}/index.ts`]||this.#e[`${e}/index.tsx`]||this.#e[`${e}/index.d.ts`]||this.#e[`${e}/index.js`]||this.#e[`${e}/index.jsx`]||this.#e[`${e}.ts`]||this.#e[`${e}.tsx`]||this.#e[`${e}.d.ts`]||this.#e[`${e}.js`]||this.#e[`${e}.jsx`]}all(){return Object.fromEntries(Object.entries(this.#e).filter(([e])=>e.split("/")[0]!=="node_modules"))}remove(e){this.#n({[e]:void 0})}}class Mi{constructor(e){this.runtime=e}packageJsonParser=new Ii;async fromPackageJson(e){const n=s=>Fn(s)?new URL(s).pathname:s,[r]=je(()=>this.packageJsonParser.parse(e)),[c]=je(r,async({scriptUrl:s,packageName:a})=>{const o={},f=async u=>{const _=n(u),d=await fetch(u).then(v=>{if(v.status!==200)throw new Error(`Error while loading ${u}: ${v.statusText}`);return v.text()}),b=[],k=await this.runtime.config.transformModulePaths(d,v=>(Un(v)&&b.push(f(Wn(u,v))),v));if(!k)throw new Error(`Transform returned undefined for ${_}`);await Promise.all(b),o[_]=k};return await f(s),this.runtime.fs.setAlias(a,`node_modules${n(s)}`),o});ve(Kt(r,({typesUrl:s,packageName:a})=>{s&&this.runtime.types.import.fromUrl(s,a)})),ve(Kt(c,s=>Object.entries(s).forEach(([a,o])=>{this.runtime.fs.create(`node_modules${a}`).set(o)})))}}function us(t,...e){return[`%c[REPL]%c ${t}`,"color: red","",...e]}class ji{constructor(e,n){this.runtime=e,this.typeRegistry=n}cachedUrls=new Set;cachedPackageNames=new Set;initialize(e){e.sources&&Object.keys(e.sources).forEach(n=>{this.cachedUrls.add(n)}),e.alias&&Object.entries(e.alias).forEach(([n])=>{this.cachedPackageNames.add(n)})}async fromUrl(e,n){const r=this.getVirtualPath(e);if(n&&this.cachedPackageNames.has(n)||this.cachedUrls.has(r))return;this.cachedUrls.add(r),n&&this.cachedPackageNames.add(n);const c=async s=>{const a=this.getVirtualPath(s);if(this.typeRegistry.has(a))return;this.typeRegistry.set(a,null);const o=await fetch(s).then(_=>(_.status,_.text())),f=[],u=await this.runtime.config.transformModulePaths(o,_=>{if(Un(_)){if(f.push(c(Wn(s,_))),_.endsWith(".js"))return _=_.replace(".js",".d.ts"),_}else if(Fn(_)){let d=this.getVirtualPath(_);return Je(cr(d),([b,k])=>{for(const v of Object.keys(this.typeRegistry.sources))if(Je(cr(v),([C,y])=>C===b?(k!==y&&(console.warn(`Conflicting version numbers: Overwriting version number of ${b} from ${k} to ${y}.
Accessed ${_} from ${s}.`),_=_.replace(k,y),d=d.replace(k,y)),!0):!1))break}),f.push(this.fromUrl(_)),this.typeRegistry.aliasPath(d,`file:///node_modules/${d}`),d}else f.push(this.fromPackageName(_));return _});if(!u)throw new Error(`Transform returned undefined for ${a}`);await Promise.all(f),this.typeRegistry.set(a,u)};await c(e),n&&(this.cachedPackageNames.add(n),this.typeRegistry.aliasPath(n,`file:///node_modules/${r}`))}async fromPackageName(e){if(this.cachedPackageNames.has(e))return;this.cachedPackageNames.add(e);const n=await fetch(`${this.runtime.config.cdn}/${e}`).then(c=>c.headers.get("X-TypeScript-Types")).catch(c=>{console.info(c)});if(!n){console.error(...us("no type url was found for package",e));return}const r=this.getVirtualPath(n);await this.fromUrl(n),this.typeRegistry.aliasPath(e,`file:///node_modules/${r}`)}getVirtualPath(e){return e.replace(`${this.runtime.config.cdn}/`,"").replace("http://","").split("/").slice(1).join("/")}}class Di{constructor(e){this.runtime=e,[this.sources,this.setSources]=St({}),[this.alias,this.setAlias]=St({}),this.import=new ji(e,this)}sources;setSources;alias;setAlias;import;toJSON(){return{alias:this.alias,sources:this.sources}}initialize(e){xn(()=>{e.sources&&this.setSources(e.sources),e.alias&&(this.setAlias(e.alias),Object.entries(e.alias).forEach(([n,r])=>{this.aliasPath(n,r[0])}))}),this.import.initialize(e)}aliasPath(e,n){this.setAlias(e,[n])}set(e,n){this.setSources(e,n)}has(e){return e in this.sources}}class Gi{config;fs;frames;types;import;get extensions(){return{css:Ai,js:Ke,jsx:Ke,ts:Ke,tsx:Ke,wasm:Ei,...this.config.extensions}}initialized=!1;constructor(e){this.config=ct({cdn:"https://esm.sh"},e),this.fs=new Li(this),this.frames=new Ni,this.import=new Mi(this),this.types=new Di(this)}toJSON(){return{files:this.fs.toJSON(),types:this.types.toJSON()}}initialize(){return this.config.files&&this.fs.initialize(this.config.files),this.initialized=!0,this}download(e="repl.config.json"){const n=this.toJSON(),r=new Blob([JSON.stringify(n)],{type:"text/json"}),c=document.createElement("a");c.download=e,c.href=window.URL.createObjectURL(r),c.dataset.downloadurl=["text/json",c.download,c.href].join(":");const s=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});c.dispatchEvent(s),c.remove()}getFile(e,n=!0){return this.fs.get(e)||ce(()=>n?this.fs.create(e):void 0)}setFile(e,n,r){return this.getFile(e,r)?.set(n)}}function Bi(t){const[e,n]=ue(!0);return ve(()=>e()&&t()),{stop:()=>n(!1),resume:()=>n(!0)}}function Wi(t){return class extends t{#e=new Set;createEffect(n){this.#i(n)}stopEffects(){this.#o()}#n(n){let r=null;r=Bi(()=>{r&&this.#e.add(r),ve(n),Se(()=>this.#e.delete(r))}),this.#e.add(r)}#r(){for(const n of this.#e)n.stop()}#t=null;#s=null;#i(n){if(!this.#t)Ve(r=>{this.#t=De(),this.#s=r,this.#i(n)});else{let r=De();for(;r&&r!==this.#t;)r=r?.owner??null;if(r===this.#t)return ve(n);Kr(this.#t,()=>ve(n))}}#o(){this.#s?.()}}}function Fi(t,e){let n=t,r;for(;n;){if(r=Object.getOwnPropertyDescriptor(n,e),r)return r.owner=n,r;n=n.__proto__}}const Lt=new WeakMap;function Ui(t,...e){const n=e.length?e:Object.keys(t).concat(Object.getOwnPropertySymbols(t));for(const r of n)fs(t,r);return t}let lr=!1;function zi(){if(lr)throw new Error('Export "createSignalAccessor" is internal to classy-solid only.');return lr=!0,fs}const Gt=new WeakMap;function Hi(t,e){return!!Gt.get(t)?.has(e)}function ur(t,e){Gt.has(t)||Gt.set(t,new Set),Gt.get(t).add(e)}const fr=new WeakSet;function fs(t,e,n=ce(()=>t[e]),r=!1){if(!r&&Lt.get(t)?.has(e)||t[we])return;let s=Fi(t,e),a,o;if(s){if(a=s.get,o=s.set,a&&fr.has(a))return;if(a||o){if(!a||!o){console.warn(`The \`@signal\` decorator was used on an accessor named "${e.toString()}" which had a getter or a setter, but not both. Reactivity on accessors works only when accessors have both get and set. In this case the decorator does not do anything.`);return}delete s.get,delete s.set}else{if(n=s.value,!s.writable){console.warn(`The \`@signal\` decorator was used on a property named "${e.toString()}" that is not writable. Reactivity is not enabled for non-writable properties.`);return}delete s.value,delete s.writable}}const f=ue(n,{equals:!1});s={configurable:!0,enumerable:!0,...s,get:a?function(){return f[0](),a.call(this)}:function(){return f[0]()},set:o?function(u){o.call(this,u),ur(this,e),typeof u=="function"?f[1](()=>u):f[1](u)}:function(u){ur(this,e),typeof u=="function"?f[1](()=>u):f[1](u)}},fr.add(s.get),Object.defineProperty(t,e,s),Lt.has(t)||Lt.set(t,new Set),Lt.get(t).add(e)}let en=new Map,_t=null;function qi(){if(_t)throw new Error("Attempted use of classy-solid internals.");return _t=Symbol(),_t}function Ki(t){if(t!==_t)throw new Error("Attempted use of classy-solid internals.");return en}function Xi(t){if(t!==_t)throw new Error("Attempted use of classy-solid internals.");en=new Map}function Ji(t){return"private"in t}function At(t,e){const{kind:n,name:r}=e,c=en;if(Ji(e)){if(e.private)throw new Error("@signal is not supported on private fields yet.");if(e.static)throw new Error("@signal is not supported on static fields yet.")}if(n==="field")return c.set(r,{initialValue:void 0}),function(s){return c.get(r).initialValue=s,s};if(n==="getter"||n==="setter")c.set(r,{initialValue:void 0});else throw new Error("The @signal decorator is only for use on fields, getters, and setters. Auto accessor support is coming next if there is demand for it.");Vi(c)}let fn=!1;function Vi(t){fn||(fn=!0,queueMicrotask(()=>{if(fn=!1,t===en)throw new Error(`Stray @signal-decorated properties detected: ${Array.from(t.keys()).join(", ")}. Did you forget to use the \`@reactive\` decorator on a class that has properties decorated with \`@signal\`?`)}))}const hr=qi(),Yi=zi(),dr=Object.prototype.hasOwnProperty;function Qi(t,e){if(typeof t!="function"||e&&e.kind!=="class")throw new TypeError("The @reactive decorator is only for use on classes.");const n=t,r=Ki(hr);Xi(hr);class c extends n{constructor(...a){let o;at()?ce(()=>o=Reflect.construct(n,a,new.target)):(super(...a),o=this);for(const[f,{initialValue:u}]of r){if(!(dr.call(o,f)||dr.call(n.prototype,f)))throw new Error(`Property "${f.toString()}" not found on instance of class decorated with \`@reactive\`. Did you forget to use the \`@reactive\` decorator on one of your classes that has a "${f.toString()}" property decorated with \`@signal\`?`);Yi(o,f,u,!0)}return o}}return c}var gt;let ft;const Zi=globalThis.HTMLElement??class{constructor(){throw new Error("@lume/element needs a DOM to operate with! If this code is running during server-side rendering, it means your app is trying to instantiate elements when it shouldn't be, and should be refactored to avoid doing that when no DOM is present.")}};let Ge=class extends Wi(Zi){static elementName="";static defineElement(e,n=customElements){if(e){if(n.get(e))return console.warn(`defineElement(): An element class was already defined for tag name ${e}.`),this;{const r=class extends this{};return r.elementName=e,n.define(e,r),r}}else return e=this.elementName,n.get(e)?(console.warn(`defineElement(): An element class was already defined for tag name ${e}.`),this):(n.define(e,this),this)}static observedAttributes;#e(){const e=Object.keys(this);this._preUpgradeValues=new Map;for(const n of e){const r=Object.getOwnPropertyDescriptor(this,n);"value"in r&&(delete this[n],this._preUpgradeValues.set(n,r.value),queueMicrotask(()=>{if(Hi(this,n))return;n in this.__proto__&&(this[n]=r.value)}))}}#n=this.#e();hasShadow=!0;__root=null;get root(){return this.hasShadow?this.__root?this.__root:this.shadowRoot?this.__root=this.shadowRoot:this.__root=this.attachShadow({mode:"open"}):this}set root(e){if(!this.hasShadow)throw new Error("Can not set root, element.hasShadow is false.");if(this.__root||this.shadowRoot)throw new Error("Element root can only be set once if there is no ShadowRoot.");this.__root=e}get styleRoot(){return this.root}attachShadow(e){return this.__root&&console.warn("Element already has a root defined."),this.__root=super.attachShadow(e)}#r;connectedCallback(){const e=this.template;e&&(this.#r=Ln(typeof e=="function"?e.bind(this):()=>e,this.root)),this.#a()}disconnectedCallback(){this.stopEffects(),this.#r?.(),this.#c()}static __styleRootNodeRefCountPerTagName=new WeakMap;#t=null;#s=e=>`${e} {
		display: block;
	}`;static __elementId=0;#i=gt.__elementId++;#o=null;#a(){ft=this.constructor;const e=typeof ft.css=="function"?ft.css=ft.css():ft.css||"",n=typeof this.css=="function"?this.css():this.css||"";if(this.hasShadow){const r=":host",c=document.createElement("style");c.innerHTML=`
				${this.#s(r)}
				${e}
				${n}
			`,this.styleRoot.appendChild(c)}else{const r=this.getRootNode();this.#t=r===document?document.head:r;let c=gt.__styleRootNodeRefCountPerTagName.get(this.#t);c||gt.__styleRootNodeRefCountPerTagName.set(this.#t,c={});const s=c[this.tagName]||0;if(c[this.tagName]=s+1,s===0){const a=this.tagName.toLowerCase(),o=document.createElement("style");o.innerHTML=`
					${this.#s(a)}
					${e&&e.replaceAll(":host",a)}
				`,o.id=this.tagName.toLowerCase(),this.#t.appendChild(o)}if(n){const a=this.tagName.toLowerCase()+"-"+this.#i;this.setAttribute(a,"");const o=this.#o=document.createElement("style");o.id=a,o.innerHTML=n.replaceAll(":host",`[${a}]`);const f=this.getRootNode();this.#t=f===document?document.head:f,this.#t.appendChild(o)}}}#c(){do{if(this.hasShadow)break;const e=gt.__styleRootNodeRefCountPerTagName.get(this.#t);if(!e)break;let n=e[this.tagName];if(n===void 0)break;e[this.tagName]=--n,n===0&&(delete e[this.tagName],this.#t.querySelector("#"+this.tagName)?.remove())}while(!1);this.#o&&this.#o.remove()}adoptedCallback(){}};gt=Ge;Symbol.metadata??=Symbol.for("Symbol.metadata");function eo(t,...e){let n="";for(let r=0;r<e.length;r++)n+=t[r]+String(e[r]);return n+t[t.length-1]}function to(t){return t.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}function no(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0,enumerable:!0})}const Cn=[];function Tt(t,e){if(arguments.length===2)return pr(t,e,void 0);const n=t;return(r,c)=>pr(r,c,n)}function pr(t,e,n={}){const{kind:r,name:c,private:s,static:a,metadata:o}=e,u=!(Object.hasOwn(o,"noSignal")&&o.noSignal||void 0)?.has(c);if(typeof c=="symbol")throw new Error("@attribute is not supported on symbol fields yet.");if(s)throw new Error("@attribute is not supported on private fields yet.");if(a)throw new Error("@attribute is not supported on static fields.");if(Cn.push(_=>hs(_,c,n)),r==="field"){const _=u?At(t,e):d=>d;return function(d){return d=_(d),"default"in n||(n.default=d),d}}else if(r==="getter"||r==="setter")u&&At(t,e);else throw new Error("@attribute is only for use on fields, getters, and setters. Auto accessor support is coming next if there is demand for it.")}function hs(t,e,n){if(!t.observedAttributes||!t.hasOwnProperty("observedAttributes")){const c=t.__proto__.observedAttributes;if(c&&!Array.isArray(c))throw new TypeError("observedAttributes is in the wrong format. Did you forget to decorate your custom element class with the `@element` decorator?");no(t,"observedAttributes",[...c||[]])}if(!Array.isArray(t.observedAttributes))throw new TypeError("observedAttributes is in the wrong format. Maybe you forgot to decorate your custom element class with the `@element` decorator.");const r=to(e);t.observedAttributes.includes(r)||t.observedAttributes.push(r),ro(t.prototype,r,e,n)}function ro(t,e,n,r){if(!t.__hasAttributeChangedCallback){t.__hasAttributeChangedCallback=!0;const c=t.attributeChangedCallback;t.attributeChangedCallback=function(s,a,o){c?c.call(this,s,a,o):t.__proto__?.attributeChangedCallback?.call(this,s,a,o);const f=this.__attributesToProps&&this.__attributesToProps[s];if(f){const u=f.attributeHandler;this[f.name]=u?o===null?"default"in u?u.default:null:u.from?u.from(o):o:o}}}t.hasOwnProperty("__attributesToProps")||Object.defineProperty(t,"__attributesToProps",{value:{__proto__:t.__attributesToProps||Object.prototype}}),t.__attributesToProps[e]={name:n,attributeHandler:r}}const so=t=>t;Tt.string=()=>({from:so});function ds(t,e){return Tt(Tt.string())(t,e)}const io=t=>+t;Tt.number=()=>({from:io});const oo=t=>t!=="false";Tt.boolean=()=>({from:oo});function zn(t,e){let n="",r=!!(e??!0);return typeof t=="string"?(n=t,(a,o)=>gr(a,o,n,r)):(r=!1,gr(t,e,n,r))}function gr(t,e,n,r){if(typeof t!="function"||e&&e.kind!=="class")throw new Error("@element is only for use on classes.");const{metadata:c={}}=e??{},s=Object.hasOwn(c,"noSignal")&&c.noSignal||void 0;let a=t;const o=a.observedAttributes;if(a.hasOwnProperty("elementName")?n=a.elementName||n:a.elementName=n,!Array.isArray(o)){if(o&&typeof o=="object"){a.observedAttributes=void 0;for(const d in o)hs(a,d,o[d])}}a=Qi(a,e);class f extends a{constructor(...b){super(...b),ce(()=>{ao(this);const k=[],v=f.prototype.__attributesToProps??{};for(const O of Object.values(v)){const C=O.name;!s?.has(C)&&k.push(C);const A=O.attributeHandler;A&&!("default"in A)&&(A.default=this[C])}k.length&&Ui(this,...k)})}}const u=[...Cn];Cn.length=0;function _(){for(const d of u)d(f);n&&r&&globalThis.window?.customElements?.define(n,f)}return e?.addInitializer?e.addInitializer(_):_(),f}function ao(t){if(t instanceof Ge)for(const[e,n]of t._preUpgradeValues){if(!(e in t))continue;t._preUpgradeValues.delete(e);const r=Object.getOwnPropertyDescriptor(t,e);r&&"value"in r&&delete t[e],t[e]=n}}const co=eo;var lo=Object.defineProperty,uo=(t,e,n)=>e in t?lo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fo=(t,e,n)=>(uo(t,typeof e!="symbol"?e+"":e,n),n);let ps;var ho=Be("<slot>");function gs(t,e,n,r,c,s){function a(v,O,C){return function(y,A){return C&&C(y),v[O].call(y,A)}}function o(v,O){for(var C=0;C<v.length;C++)v[C].call(O);return O}function f(v,O,C,y){if(typeof v!="function"&&(y||v!==void 0))throw new TypeError(O+" must "+(C||"be")+" a function"+(y?"":" or undefined"));return v}function u(v,O,C,y,A,S,T,g,i,p,h,l,m){function w(G){if(!m(G))throw new TypeError("Attempted to access private element on non-instance")}var E,P=O[0],I=O[3],$=!g;if(!$){C||Array.isArray(P)||(P=[P]);var R={},F=[],B=A===3?"get":A===4||l?"set":"value";p?(h||l?R={get:mr(function(){return I(this)},y,"get"),set:function(G){O[4](this,G)}}:R[B]=I,h||mr(R[B],y,A===2?"":B)):h||(R=Object.getOwnPropertyDescriptor(v,y))}for(var j=v,V=P.length-1;V>=0;V-=C?2:1){var te=P[V],Z=C?P[V-1]:void 0,X={},H={kind:["field","accessor","method","getter","setter","class"][A],name:y,metadata:S,addInitializer:function(G,z){if(G.v)throw Error("attempted to call addInitializer after decoration was finished");f(z,"An initializer","be",!0),T.push(z)}.bind(null,X)};try{if($)(E=f(te.call(Z,j,H),"class decorators","return"))&&(j=E);else{var K,ne;H.static=i,H.private=p,p?A===2?K=function(G){return w(G),R.value}:(A<4&&(K=a(R,"get",w)),A!==3&&(ne=a(R,"set",w))):(K=function(G){return G[y]},(A<2||A===4)&&(ne=function(G,z){G[y]=z}));var L=H.access={has:p?m.bind():function(G){return y in G}};if(K&&(L.get=K),ne&&(L.set=ne),j=te.call(Z,l?{get:R.get,set:R.set}:R[B],H),l){if(typeof j=="object"&&j)(E=f(j.get,"accessor.get"))&&(R.get=E),(E=f(j.set,"accessor.set"))&&(R.set=E),(E=f(j.init,"accessor.init"))&&F.push(E);else if(j!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(j,(h?"field":"method")+" decorators","return")&&(h?F.push(j):R[B]=j)}}finally{X.v=!0}}return(h||l)&&g.push(function(G,z){for(var ee=F.length-1;ee>=0;ee--)z=F[ee].call(G,z);return z}),h||$||(p?l?g.push(a(R,"get"),a(R,"set")):g.push(A===2?R[B]:a.call.bind(R[B])):Object.defineProperty(v,y,R)),j}function _(v,O){return Object.defineProperty(v,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:O})}if(arguments.length>=6)var d=s[Symbol.metadata||Symbol.for("Symbol.metadata")];var b=Object.create(d??null),k=function(v,O,C,y){var A,S,T=[],g=function(B){return mo(B)===v},i=new Map;function p(B){B&&T.push(o.bind(null,B))}for(var h=0;h<O.length;h++){var l=O[h];if(Array.isArray(l)){var m=l[1],w=l[2],E=l.length>3,P=16&m,I=!!(8&m),$=(m&=7)==0,R=w+"/"+I;if(!$&&!E){var F=i.get(R);if(F===!0||F===3&&m!==4||F===4&&m!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+w);i.set(R,!(m>2)||m)}u(I?v:v.prototype,l,P,E?"#"+w:po(w),m,y,I?S=S||[]:A=A||[],T,I,E,$,m===1,I&&E?g:C)}}return p(A),p(S),T}(t,e,c,b);return n.length||_(t,b),{e:k,get c(){var v=[];return n.length&&[_(u(t,[n],r,t.name,5,b,v),b),o.bind(null,v,t)]}}}function po(t){var e=go(t,"string");return typeof e=="symbol"?e:e+""}function go(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mr(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function mo(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}const Hn=class extends Ge{value=ps(this,void 0);template=()=>(()=>{var e=ho();return e._$owner=De(),e})()};[ps]=gs(Hn,[[At,0,"value"]],[],0,void 0,Ge).e;fo(Hn,"css",co`
    :host {
      display: contents;
    }
  `);let yr=Hn;function yo(t,e){let n,r;r=[zn(t)];let c;return[c,n]=gs(class extends yr{},[],r,0,void 0,yr).c,n(),function(o){let f=o.parentElement;for(;f;){if(f instanceof c)return()=>f.value;f=f.parentElement}if(e)return e;throw`Should use ${o.tagName} inside ${t} tag`}}const[_o,uc]=Ve(()=>{const[t,e]=ue();return[t,e]}),ms=yo("repl-runtime",_o);function ys(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var c=t.length;for(e=0;e<c;e++)t[e]&&(n=ys(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function bo(){for(var t,e,n=0,r="",c=arguments.length;n<c;n++)(t=arguments[n])&&(e=ys(t))&&(r&&(r+=" "),r+=e);return r}const vo="_repl_ogjuc_1",wo="_resizing_ogjuc_17",So="_editor_ogjuc_7",Ao="_frame_ogjuc_25",To={repl:vo,"editor-container":"_editor-container_ogjuc_7",resizing:wo,editor:So,frame:Ao};var _r=Object.freeze,Eo=Object.defineProperty,Co=(t,e)=>_r(Eo(t,"raw",{value:_r(e||t.slice())})),br,Oo=Be("<iframe>");function qn(t){const e=ko();return Ae(qn.Standalone,ct({runtime:e},t))}qn.Standalone=function(t){const e=ct({name:"default"},t),[,n]=An(e,["class"]),r=ss(br||(br=Co([`<!doctype html>
    <html lang="en">
      <meta charset="utf-8" />
      <title>DevTools</title>
      <style>
        @media (prefers-color-scheme: dark) {
          body {
            background-color: rgb(41 42 45);
          }
        }
      </style>
      <meta name="referrer" content="no-referrer" />
      <script src="https://unpkg.com/@ungap/custom-elements/es.js"><\/script>
      <script
        type="module"
        src="https://cdn.jsdelivr.net/npm/chii@1.8.0/public/front_end/entrypoints/chii_app/chii_app.js"
      ><\/script>
      <body class="undocked" id="-blink-dev-tools"></body>
    </html>`]))),c=is`
    import('https://cdn.jsdelivr.net/npm/chobitsu').then(shobitsu => {
      const sendToDevtools = (message) => {
        window.parent.postMessage(JSON.stringify(message), '*');
      };
      let id = 0;
      const sendToChobitsu = (message) => {
        message.id = 'tmp' + ++id;
        chobitsu.sendRawMessage(JSON.stringify(message));
      };
      chobitsu.setOnMessage((message) => {
        if (message.includes('"id":"tmp')) return;
        window.parent.postMessage(message, '*');
      });
      window.addEventListener('message', ({ data }) => {
        try {
          const { event, value } = data;
          if (event === 'DEV') {
            chobitsu.sendRawMessage(data.data);
          } else if (event === 'LOADED') {
            sendToDevtools({
              method: 'Page.frameNavigated',
              params: {
                frame: {
                  id: '1',
                  mimeType: 'text/html',
                  securityOrigin: location.origin,
                  url: location.href,
                },
                type: 'Navigation',
              },
            });
            sendToChobitsu({ method: 'Network.enable' });
            sendToDevtools({ method: 'Runtime.executionContextsCleared' });
            sendToChobitsu({ method: 'Runtime.enable' });
            sendToChobitsu({ method: 'Debugger.enable' });
            sendToChobitsu({ method: 'DOMStorage.enable' });
            sendToChobitsu({ method: 'DOM.enable' });
            sendToChobitsu({ method: 'CSS.enable' });
            sendToChobitsu({ method: 'Overlay.enable' });
            sendToDevtools({ method: 'DOM.documentUpdated' });
          }
        } catch (e) {
          console.error(e);
        }
      });
    })`,s=(()=>{var o=Oo();return es(o,ct({get src(){return`${r}#?embedded=${encodeURIComponent(location.origin)}`},get class(){return bo(e.class,To.frame)}},n),!1,!1),o})(),[a]=je(()=>t.runtime.frames.get(e.name),o=>o.contentWindow.document.readyState==="interactive"?o:new Promise(f=>{const u=()=>{f(o),o.contentWindow.removeEventListener("DOMContentLoaded",u)};o.contentWindow.addEventListener("DOMContentLoaded",u)}));return ve(Kt(a,o=>{const f=u=>{u.source===o.contentWindow&&s.contentWindow.postMessage(u.data,"*"),u.source===s.contentWindow&&o.contentWindow.postMessage({event:"DEV",data:u.data},"*")};window.addEventListener("message",f),Se(()=>window.removeEventListener("message",f))})),ve(Kt(a,o=>o.injectModuleUrl(c))),s};const Po=Xr(),ko=()=>{const t=Jr(Po);if(!t)throw"useRuntime should be used inside <Repl/>";return t};let _s,bs,vs;function No(t,e,n,r,c,s){function a(v,O,C){return function(y,A){return C&&C(y),v[O].call(y,A)}}function o(v,O){for(var C=0;C<v.length;C++)v[C].call(O);return O}function f(v,O,C,y){if(typeof v!="function"&&(y||v!==void 0))throw new TypeError(O+" must "+(C||"be")+" a function"+(y?"":" or undefined"));return v}function u(v,O,C,y,A,S,T,g,i,p,h,l,m){function w(G){if(!m(G))throw new TypeError("Attempted to access private element on non-instance")}var E,P=O[0],I=O[3],$=!g;if(!$){C||Array.isArray(P)||(P=[P]);var R={},F=[],B=A===3?"get":A===4||l?"set":"value";p?(h||l?R={get:vr(function(){return I(this)},y,"get"),set:function(G){O[4](this,G)}}:R[B]=I,h||vr(R[B],y,A===2?"":B)):h||(R=Object.getOwnPropertyDescriptor(v,y))}for(var j=v,V=P.length-1;V>=0;V-=C?2:1){var te=P[V],Z=C?P[V-1]:void 0,X={},H={kind:["field","accessor","method","getter","setter","class"][A],name:y,metadata:S,addInitializer:function(G,z){if(G.v)throw Error("attempted to call addInitializer after decoration was finished");f(z,"An initializer","be",!0),T.push(z)}.bind(null,X)};try{if($)(E=f(te.call(Z,j,H),"class decorators","return"))&&(j=E);else{var K,ne;H.static=i,H.private=p,p?A===2?K=function(G){return w(G),R.value}:(A<4&&(K=a(R,"get",w)),A!==3&&(ne=a(R,"set",w))):(K=function(G){return G[y]},(A<2||A===4)&&(ne=function(G,z){G[y]=z}));var L=H.access={has:p?m.bind():function(G){return y in G}};if(K&&(L.get=K),ne&&(L.set=ne),j=te.call(Z,l?{get:R.get,set:R.set}:R[B],H),l){if(typeof j=="object"&&j)(E=f(j.get,"accessor.get"))&&(R.get=E),(E=f(j.set,"accessor.set"))&&(R.set=E),(E=f(j.init,"accessor.init"))&&F.push(E);else if(j!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(j,(h?"field":"method")+" decorators","return")&&(h?F.push(j):R[B]=j)}}finally{X.v=!0}}return(h||l)&&g.push(function(G,z){for(var ee=F.length-1;ee>=0;ee--)z=F[ee].call(G,z);return z}),h||$||(p?l?g.push(a(R,"get"),a(R,"set")):g.push(A===2?R[B]:a.call.bind(R[B])):Object.defineProperty(v,y,R)),j}function _(v,O){return Object.defineProperty(v,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:O})}if(arguments.length>=6)var d=s[Symbol.metadata||Symbol.for("Symbol.metadata")];var b=Object.create(d??null),k=function(v,O,C,y){var A,S,T=[],g=function(B){return xo(B)===v},i=new Map;function p(B){B&&T.push(o.bind(null,B))}for(var h=0;h<O.length;h++){var l=O[h];if(Array.isArray(l)){var m=l[1],w=l[2],E=l.length>3,P=16&m,I=!!(8&m),$=(m&=7)==0,R=w+"/"+I;if(!$&&!E){var F=i.get(R);if(F===!0||F===3&&m!==4||F===4&&m!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+w);i.set(R,!(m>2)||m)}u(I?v:v.prototype,l,P,E?"#"+w:Ro(w),m,y,I?S=S||[]:A=A||[],T,I,E,$,m===1,I&&E?g:C)}}return p(A),p(S),T}(t,e,c,b);return n.length||_(t,b),{e:k,get c(){var v=[];return n.length&&[_(u(t,[n],r,t.name,5,b,v),b),o.bind(null,v,t)]}}}function Ro(t){var e=Io(t,"string");return typeof e=="symbol"?e:e+""}function Io(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vr(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function xo(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}bs=[zn("repl-devtools")];let ws;const $o=class extends Ge{name=vs(this,"default");template=()=>{const e=this,n=ms(this);return Ae(qt,{get when(){return n()},children:r=>Ae(qn.Standalone,{get name(){return e.name},get runtime(){return r()}})})}};({e:[vs],c:[ws,_s]}=No($o,[[ds,0,"name"]],bs,0,void 0,Ge));_s();function Lo(){customElements.get("repl-frame")||customElements.define("repl-frame",ws)}var hn;let wr,Ss,Sr,Ar,Tr;var Mo=Be("<iframe class=iframe>");function jo(t,e,n,r,c,s){function a(v,O,C){return function(y,A){return C&&C(y),v[O].call(y,A)}}function o(v,O){for(var C=0;C<v.length;C++)v[C].call(O);return O}function f(v,O,C,y){if(typeof v!="function"&&(y||v!==void 0))throw new TypeError(O+" must "+(C||"be")+" a function"+(y?"":" or undefined"));return v}function u(v,O,C,y,A,S,T,g,i,p,h,l,m){function w(G){if(!m(G))throw new TypeError("Attempted to access private element on non-instance")}var E,P=O[0],I=O[3],$=!g;if(!$){C||Array.isArray(P)||(P=[P]);var R={},F=[],B=A===3?"get":A===4||l?"set":"value";p?(h||l?R={get:Er(function(){return I(this)},y,"get"),set:function(G){O[4](this,G)}}:R[B]=I,h||Er(R[B],y,A===2?"":B)):h||(R=Object.getOwnPropertyDescriptor(v,y))}for(var j=v,V=P.length-1;V>=0;V-=C?2:1){var te=P[V],Z=C?P[V-1]:void 0,X={},H={kind:["field","accessor","method","getter","setter","class"][A],name:y,metadata:S,addInitializer:function(G,z){if(G.v)throw Error("attempted to call addInitializer after decoration was finished");f(z,"An initializer","be",!0),T.push(z)}.bind(null,X)};try{if($)(E=f(te.call(Z,j,H),"class decorators","return"))&&(j=E);else{var K,ne;H.static=i,H.private=p,p?A===2?K=function(G){return w(G),R.value}:(A<4&&(K=a(R,"get",w)),A!==3&&(ne=a(R,"set",w))):(K=function(G){return G[y]},(A<2||A===4)&&(ne=function(G,z){G[y]=z}));var L=H.access={has:p?m.bind():function(G){return y in G}};if(K&&(L.get=K),ne&&(L.set=ne),j=te.call(Z,l?{get:R.get,set:R.set}:R[B],H),l){if(typeof j=="object"&&j)(E=f(j.get,"accessor.get"))&&(R.get=E),(E=f(j.set,"accessor.set"))&&(R.set=E),(E=f(j.init,"accessor.init"))&&F.push(E);else if(j!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(j,(h?"field":"method")+" decorators","return")&&(h?F.push(j):R[B]=j)}}finally{X.v=!0}}return(h||l)&&g.push(function(G,z){for(var ee=F.length-1;ee>=0;ee--)z=F[ee].call(G,z);return z}),h||$||(p?l?g.push(a(R,"get"),a(R,"set")):g.push(A===2?R[B]:a.call.bind(R[B])):Object.defineProperty(v,y,R)),j}function _(v,O){return Object.defineProperty(v,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:O})}if(arguments.length>=6)var d=s[Symbol.metadata||Symbol.for("Symbol.metadata")];var b=Object.create(d??null),k=function(v,O,C,y){var A,S,T=[],g=function(B){return Bo(B)===v},i=new Map;function p(B){B&&T.push(o.bind(null,B))}for(var h=0;h<O.length;h++){var l=O[h];if(Array.isArray(l)){var m=l[1],w=l[2],E=l.length>3,P=16&m,I=!!(8&m),$=(m&=7)==0,R=w+"/"+I;if(!$&&!E){var F=i.get(R);if(F===!0||F===3&&m!==4||F===4&&m!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+w);i.set(R,!(m>2)||m)}u(I?v:v.prototype,l,P,E?"#"+w:Do(w),m,y,I?S=S||[]:A=A||[],T,I,E,$,m===1,I&&E?g:C)}}return p(A),p(S),T}(t,e,c,b);return n.length||_(t,b),{e:k,get c(){var v=[];return n.length&&[_(u(t,[n],r,t.name,5,b,v),b),o.bind(null,v,t)]}}}function Do(t){var e=Go(t,"string");return typeof e=="symbol"?e:e+""}function Go(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Er(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function Bo(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}function Wo(t){return t}class Fo extends Event{constructor(e){super("ready"),this.frame=e}}Ss=[zn("repl-frame")];let On;new class extends Wo{static[(hn=class extends Ge{name=Sr(this,"default");runtime=Ar(this,null);frame=Tr(this,null);template=()=>{const t=this,e=ms(this),n=()=>this.runtime===null?e():this.runtime;return(()=>{var r=Mo();return yt(c=>{qr(()=>{if(!c.contentWindow){console.error(...us("contentWindow is not defined on iframe:",c));return}const s=()=>{t.frame=new Ri(c),c.contentWindow?.removeEventListener("DOMContentLoaded",s),t.dispatchEvent(new Fo(t.frame))};c.contentWindow.addEventListener("DOMContentLoaded",s),t.createEffect(Hr(n,a=>{if(a){if(a.frames.has(t.name)){console.warn(`A frame with the same name already exist: ${t.name}`);return}a.frames.add(t.name,t.frame),Se(()=>a.frames.delete(t.name))}}))})},r),lt(r,"src",ss`<!doctype html>
          <html>
            <head>
              <meta charset="UTF-8" />
              <meta name="viewport" content="width=device-width, initial-scale=1.0" />
            </head>
            <body></body>
          </html>`),r})()}},{e:[Sr,Ar,Tr],c:[On,wr]}=jo(hn,[[ds,0,"name"],[At,0,"runtime"],[At,0,"frame"]],Ss,0,void 0,Ge),hn)];css=`
    :host {
      display: block;
      position: relative;

      & iframe {
        border: none;
        position: absolute;
        height: 100%;
        width: 100%;
      }
    }
  `;constructor(){super(On),wr()}};function Uo(){customElements.get("repl-frame")||customElements.define("repl-frame",On)}Uo();Lo();const zo="modulepreload",Ho=function(t,e){return new URL(t,e).href},Cr={},tn=function(e,n,r){if(!n||n.length===0)return e();const c=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Ho(s,r),s in Cr)return;Cr[s]=!0;const a=s.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!r)for(let _=c.length-1;_>=0;_--){const d=c[_];if(d.href===s&&(!a||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${o}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":zo,a||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),a)return new Promise((_,d)=>{u.addEventListener("load",_),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};async function qo(t){const e=await(t?.typescript||tn(()=>import("https://esm.sh/typescript"),[],import.meta.url));return function(n,r){const c=e.createSourceFile("",n,e.ScriptTarget.Latest,!0,e.ScriptKind.TS);let s=!1;const a=e.transform(c,[f=>{const u=_=>{if((e.isImportDeclaration(_)||e.isExportDeclaration(_))&&_.moduleSpecifier&&e.isStringLiteral(_.moduleSpecifier)){const d=e.isImportDeclaration(_),b=_.moduleSpecifier.text,k=r(_.moduleSpecifier.text);if(k===null){s=!0;return}if(_.moduleSpecifier.text=k,b!==_.moduleSpecifier.text)return s=!0,d?e.factory.updateImportDeclaration(_,_.modifiers,_.importClause,e.factory.createStringLiteral(k),_.assertClause):e.factory.updateExportDeclaration(_,_.modifiers,!1,_.exportClause,e.factory.createStringLiteral(k),_.assertClause)}return e.visitEachChild(_,u,f)};return _=>e.visitNode(_,u)}]);return a.transformed[0]?s?e.createPrinter({newLine:e.NewLineKind.LineFeed}).printFile(a.transformed[0]):n:void 0}}function Or({cdn:t,babel:e,items:n,type:r}){if(!n)return Promise.resolve([]);const c=r==="plugins"?e.availablePlugins:e.availablePresets;return Promise.all(n.map(async function(a){let o,f;if(typeof a=="string")o=a;else if(Array.isArray(a)&&typeof a[0]=="string")[o,f]=a;else return a;if(o in c)return f!==void 0?[c[o],f]:c[o];{const u=await tn(()=>import(`${t}/${o}`),[],import.meta.url).then(_=>_.default);return f!==void 0?[u,f]:u}}))}async function Ko(t){const e=t.cdn||"https://esm.sh",n=await(t.babel||tn(()=>import(`${e}/@babel/standalone`),[],import.meta.url)),[r,c]=await Promise.all([Or({cdn:e,babel:n,items:t.presets,type:"presets"}),Or({cdn:e,babel:n,items:t.plugins,type:"plugins"})]);return(s,a)=>{const o=n.transform(s,{presets:r,plugins:c}).code;if(!o)throw`Babel transform failed for file ${a} with source: 

 ${s}`;return o}}async function Xo(t){const e=await(t?.typescript||tn(()=>import("https://esm.sh/typescript"),[],import.meta.url));return(n,r)=>r.endsWith("ts")||r.endsWith("tsx")?e.transpile(n,t?.tsconfig):n}var Kn={exports:{}};Kn.exports;(function(t){var e=function(){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",s={};function a(f,u){if(!s[f]){s[f]={};for(var _=0;_<f.length;_++)s[f][f.charAt(_)]=_}return s[f][u]}var o={compressToBase64:function(f){if(f==null)return"";var u=o._compress(f,6,function(_){return r.charAt(_)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(f){return f==null?"":f==""?null:o._decompress(f.length,32,function(u){return a(r,f.charAt(u))})},compressToUTF16:function(f){return f==null?"":o._compress(f,15,function(u){return n(u+32)})+" "},decompressFromUTF16:function(f){return f==null?"":f==""?null:o._decompress(f.length,16384,function(u){return f.charCodeAt(u)-32})},compressToUint8Array:function(f){for(var u=o.compress(f),_=new Uint8Array(u.length*2),d=0,b=u.length;d<b;d++){var k=u.charCodeAt(d);_[d*2]=k>>>8,_[d*2+1]=k%256}return _},decompressFromUint8Array:function(f){if(f==null)return o.decompress(f);for(var u=new Array(f.length/2),_=0,d=u.length;_<d;_++)u[_]=f[_*2]*256+f[_*2+1];var b=[];return u.forEach(function(k){b.push(n(k))}),o.decompress(b.join(""))},compressToEncodedURIComponent:function(f){return f==null?"":o._compress(f,6,function(u){return c.charAt(u)})},decompressFromEncodedURIComponent:function(f){return f==null?"":f==""?null:(f=f.replace(/ /g,"+"),o._decompress(f.length,32,function(u){return a(c,f.charAt(u))}))},compress:function(f){return o._compress(f,16,function(u){return n(u)})},_compress:function(f,u,_){if(f==null)return"";var d,b,k={},v={},O="",C="",y="",A=2,S=3,T=2,g=[],i=0,p=0,h;for(h=0;h<f.length;h+=1)if(O=f.charAt(h),Object.prototype.hasOwnProperty.call(k,O)||(k[O]=S++,v[O]=!0),C=y+O,Object.prototype.hasOwnProperty.call(k,C))y=C;else{if(Object.prototype.hasOwnProperty.call(v,y)){if(y.charCodeAt(0)<256){for(d=0;d<T;d++)i=i<<1,p==u-1?(p=0,g.push(_(i)),i=0):p++;for(b=y.charCodeAt(0),d=0;d<8;d++)i=i<<1|b&1,p==u-1?(p=0,g.push(_(i)),i=0):p++,b=b>>1}else{for(b=1,d=0;d<T;d++)i=i<<1|b,p==u-1?(p=0,g.push(_(i)),i=0):p++,b=0;for(b=y.charCodeAt(0),d=0;d<16;d++)i=i<<1|b&1,p==u-1?(p=0,g.push(_(i)),i=0):p++,b=b>>1}A--,A==0&&(A=Math.pow(2,T),T++),delete v[y]}else for(b=k[y],d=0;d<T;d++)i=i<<1|b&1,p==u-1?(p=0,g.push(_(i)),i=0):p++,b=b>>1;A--,A==0&&(A=Math.pow(2,T),T++),k[C]=S++,y=String(O)}if(y!==""){if(Object.prototype.hasOwnProperty.call(v,y)){if(y.charCodeAt(0)<256){for(d=0;d<T;d++)i=i<<1,p==u-1?(p=0,g.push(_(i)),i=0):p++;for(b=y.charCodeAt(0),d=0;d<8;d++)i=i<<1|b&1,p==u-1?(p=0,g.push(_(i)),i=0):p++,b=b>>1}else{for(b=1,d=0;d<T;d++)i=i<<1|b,p==u-1?(p=0,g.push(_(i)),i=0):p++,b=0;for(b=y.charCodeAt(0),d=0;d<16;d++)i=i<<1|b&1,p==u-1?(p=0,g.push(_(i)),i=0):p++,b=b>>1}A--,A==0&&(A=Math.pow(2,T),T++),delete v[y]}else for(b=k[y],d=0;d<T;d++)i=i<<1|b&1,p==u-1?(p=0,g.push(_(i)),i=0):p++,b=b>>1;A--,A==0&&(A=Math.pow(2,T),T++)}for(b=2,d=0;d<T;d++)i=i<<1|b&1,p==u-1?(p=0,g.push(_(i)),i=0):p++,b=b>>1;for(;;)if(i=i<<1,p==u-1){g.push(_(i));break}else p++;return g.join("")},decompress:function(f){return f==null?"":f==""?null:o._decompress(f.length,32768,function(u){return f.charCodeAt(u)})},_decompress:function(f,u,_){var d=[],b=4,k=4,v=3,O="",C=[],y,A,S,T,g,i,p,h={val:_(0),position:u,index:1};for(y=0;y<3;y+=1)d[y]=y;for(S=0,g=Math.pow(2,2),i=1;i!=g;)T=h.val&h.position,h.position>>=1,h.position==0&&(h.position=u,h.val=_(h.index++)),S|=(T>0?1:0)*i,i<<=1;switch(S){case 0:for(S=0,g=Math.pow(2,8),i=1;i!=g;)T=h.val&h.position,h.position>>=1,h.position==0&&(h.position=u,h.val=_(h.index++)),S|=(T>0?1:0)*i,i<<=1;p=n(S);break;case 1:for(S=0,g=Math.pow(2,16),i=1;i!=g;)T=h.val&h.position,h.position>>=1,h.position==0&&(h.position=u,h.val=_(h.index++)),S|=(T>0?1:0)*i,i<<=1;p=n(S);break;case 2:return""}for(d[3]=p,A=p,C.push(p);;){if(h.index>f)return"";for(S=0,g=Math.pow(2,v),i=1;i!=g;)T=h.val&h.position,h.position>>=1,h.position==0&&(h.position=u,h.val=_(h.index++)),S|=(T>0?1:0)*i,i<<=1;switch(p=S){case 0:for(S=0,g=Math.pow(2,8),i=1;i!=g;)T=h.val&h.position,h.position>>=1,h.position==0&&(h.position=u,h.val=_(h.index++)),S|=(T>0?1:0)*i,i<<=1;d[k++]=n(S),p=k-1,b--;break;case 1:for(S=0,g=Math.pow(2,16),i=1;i!=g;)T=h.val&h.position,h.position>>=1,h.position==0&&(h.position=u,h.val=_(h.index++)),S|=(T>0?1:0)*i,i<<=1;d[k++]=n(S),p=k-1,b--;break;case 2:return C.join("")}if(b==0&&(b=Math.pow(2,v),v++),d[p])O=d[p];else if(p===k)O=A+A.charAt(0);else return null;C.push(O),d[k++]=A+O.charAt(0),b--,A=O,b==0&&(b=Math.pow(2,v),v++)}}};return o}();t!=null?t.exports=e:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return e})})(Kn);var Pr=Kn.exports;let dn="https://esm.sh";const pn={theme:{},grammar:{}};function As(t,e){switch(t){case"theme":return`${dn}/tm-themes/themes/${e}.json`;case"grammar":return`${dn}/tm-grammars/grammars/${e}.json`;case"oniguruma":return`${dn}/vscode-oniguruma/release/onig.wasm`}}async function Ts(t,e){if(e in pn[t])return pn[t][e];const n=As(t,e);return pn[t][e]=typeof n!="string"?n:fetch(n).then(r=>r.ok?r.json():null).catch(console.error)}var Jo=Object.defineProperty,Vo=(t,e,n)=>e in t?Jo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yo=(t,e,n)=>(Vo(t,typeof e!="symbol"?e+"":e,n),n),Qo=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Xe=(t,e,n)=>(Qo(t,e,"read from private field"),n?n.call(t):e.get(t)),Es=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},rt,mt;function Zo(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const c in r)if(c!=="default"&&!(c in t)){const s=Object.getOwnPropertyDescriptor(r,c);s&&Object.defineProperty(t,c,s.get?s:{enumerable:!0,get:()=>r[c]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var kr={equals:!1};function ea(t,e,n){let r=!1,c=!0;const[s,a]=ue(void 0,kr),o=de(f=>r?t(f):(c=!s(),f),e,kr);return()=>{r=!0,c&&(c=a());const f=o();return r=!1,f}}function Cs(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var c=t.length;for(e=0;e<c;e++)t[e]&&(n=Cs(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ta(){for(var t,e,n=0,r="",c=arguments.length;n<c;n++)(t=arguments[n])&&(e=Cs(t))&&(r&&(r+=" "),r+=e);return r}var Os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function na(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ps={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Os,()=>{return n={770:function(c,s,a){var o=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(s,"__esModule",{value:!0}),s.setDefaultDebugCall=s.createOnigScanner=s.createOnigString=s.loadWASM=s.OnigScanner=s.OnigString=void 0;const f=o(a(418));let u=null,_=!1;class d{static _utf8ByteLength(y){let A=0;for(let S=0,T=y.length;S<T;S++){const g=y.charCodeAt(S);let i=g,p=!1;if(g>=55296&&g<=56319&&S+1<T){const h=y.charCodeAt(S+1);h>=56320&&h<=57343&&(i=65536+(g-55296<<10)|h-56320,p=!0)}A+=i<=127?1:i<=2047?2:i<=65535?3:4,p&&S++}return A}constructor(y){const A=y.length,S=d._utf8ByteLength(y),T=S!==A,g=T?new Uint32Array(A+1):null;T&&(g[A]=S);const i=T?new Uint32Array(S+1):null;T&&(i[S]=A);const p=new Uint8Array(S);let h=0;for(let l=0;l<A;l++){const m=y.charCodeAt(l);let w=m,E=!1;if(m>=55296&&m<=56319&&l+1<A){const P=y.charCodeAt(l+1);P>=56320&&P<=57343&&(w=65536+(m-55296<<10)|P-56320,E=!0)}T&&(g[l]=h,E&&(g[l+1]=h),w<=127?i[h+0]=l:w<=2047?(i[h+0]=l,i[h+1]=l):w<=65535?(i[h+0]=l,i[h+1]=l,i[h+2]=l):(i[h+0]=l,i[h+1]=l,i[h+2]=l,i[h+3]=l)),w<=127?p[h++]=w:w<=2047?(p[h++]=192|(1984&w)>>>6,p[h++]=128|(63&w)>>>0):w<=65535?(p[h++]=224|(61440&w)>>>12,p[h++]=128|(4032&w)>>>6,p[h++]=128|(63&w)>>>0):(p[h++]=240|(1835008&w)>>>18,p[h++]=128|(258048&w)>>>12,p[h++]=128|(4032&w)>>>6,p[h++]=128|(63&w)>>>0),E&&l++}this.utf16Length=A,this.utf8Length=S,this.utf16Value=y,this.utf8Value=p,this.utf16OffsetToUtf8=g,this.utf8OffsetToUtf16=i}createString(y){const A=y._omalloc(this.utf8Length);return y.HEAPU8.set(this.utf8Value,A),A}}class b{constructor(y){if(this.id=++b.LAST_ID,!u)throw new Error("Must invoke loadWASM first.");this._onigBinding=u,this.content=y;const A=new d(y);this.utf16Length=A.utf16Length,this.utf8Length=A.utf8Length,this.utf16OffsetToUtf8=A.utf16OffsetToUtf8,this.utf8OffsetToUtf16=A.utf8OffsetToUtf16,this.utf8Length<1e4&&!b._sharedPtrInUse?(b._sharedPtr||(b._sharedPtr=u._omalloc(1e4)),b._sharedPtrInUse=!0,u.HEAPU8.set(A.utf8Value,b._sharedPtr),this.ptr=b._sharedPtr):this.ptr=A.createString(u)}convertUtf8OffsetToUtf16(y){return this.utf8OffsetToUtf16?y<0?0:y>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[y]:y}convertUtf16OffsetToUtf8(y){return this.utf16OffsetToUtf8?y<0?0:y>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[y]:y}dispose(){this.ptr===b._sharedPtr?b._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}s.OnigString=b,b.LAST_ID=0,b._sharedPtr=0,b._sharedPtrInUse=!1;class k{constructor(y,A){var S,T;if(!u)throw new Error("Must invoke loadWASM first.");const g=[],i=[];for(let E=0,P=y.length;E<P;E++){const I=new d(y[E]);g[E]=I.createString(u),i[E]=I.utf8Length}const p=u._omalloc(4*y.length);u.HEAPU32.set(g,p/4);const h=u._omalloc(4*y.length);u.HEAPU32.set(i,h/4),this._onigBinding=u,this._options=(S=A?.options)!==null&&S!==void 0?S:[10];const l=this.onigOptions(this._options),m=this.onigSyntax((T=A?.syntax)!==null&&T!==void 0?T:0),w=u._createOnigScanner(p,h,y.length,l,m);this._ptr=w;for(let E=0,P=y.length;E<P;E++)u._ofree(g[E]);u._ofree(h),u._ofree(p),w===0&&function(E){throw new Error(E.UTF8ToString(E._getLastOnigError()))}(u)}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(y,A,S){let T=_,g=this._options;if(Array.isArray(S)?(S.includes(25)&&(T=!0),g=g.concat(S)):typeof S=="boolean"&&(T=S),typeof y=="string"){y=new b(y);const i=this._findNextMatchSync(y,A,T,g);return y.dispose(),i}return this._findNextMatchSync(y,A,T,g)}_findNextMatchSync(y,A,S,T){const g=this._onigBinding,i=this.onigOptions(T);let p;if(p=S?g._findNextOnigScannerMatchDbg(this._ptr,y.id,y.ptr,y.utf8Length,y.convertUtf16OffsetToUtf8(A),i):g._findNextOnigScannerMatch(this._ptr,y.id,y.ptr,y.utf8Length,y.convertUtf16OffsetToUtf8(A),i),p===0)return null;const h=g.HEAPU32;let l=p/4;const m=h[l++],w=h[l++];let E=[];for(let P=0;P<w;P++){const I=y.convertUtf8OffsetToUtf16(h[l++]),$=y.convertUtf8OffsetToUtf16(h[l++]);E[P]={start:I,end:$,length:$-I}}return{index:m,captureIndices:E}}onigOptions(y){return y.map(A=>this.onigOption(A)).reduce((A,S)=>A|S,this._onigBinding.ONIG_OPTION_NONE)}onigSyntax(y){switch(y){case 0:return this._onigBinding.ONIG_SYNTAX_DEFAULT;case 1:return this._onigBinding.ONIG_SYNTAX_ASIS;case 2:return this._onigBinding.ONIG_SYNTAX_POSIX_BASIC;case 3:return this._onigBinding.ONIG_SYNTAX_POSIX_EXTENDED;case 4:return this._onigBinding.ONIG_SYNTAX_EMACS;case 5:return this._onigBinding.ONIG_SYNTAX_GREP;case 6:return this._onigBinding.ONIG_SYNTAX_GNU_REGEX;case 7:return this._onigBinding.ONIG_SYNTAX_JAVA;case 8:return this._onigBinding.ONIG_SYNTAX_PERL;case 9:return this._onigBinding.ONIG_SYNTAX_PERL_NG;case 10:return this._onigBinding.ONIG_SYNTAX_RUBY;case 11:return this._onigBinding.ONIG_SYNTAX_PYTHON;case 12:return this._onigBinding.ONIG_SYNTAX_ONIGURUMA}}onigOption(y){switch(y){case 1:return this._onigBinding.ONIG_OPTION_NONE;case 0:case 25:return this._onigBinding.ONIG_OPTION_DEFAULT;case 2:return this._onigBinding.ONIG_OPTION_IGNORECASE;case 3:return this._onigBinding.ONIG_OPTION_EXTEND;case 4:return this._onigBinding.ONIG_OPTION_MULTILINE;case 5:return this._onigBinding.ONIG_OPTION_SINGLELINE;case 6:return this._onigBinding.ONIG_OPTION_FIND_LONGEST;case 7:return this._onigBinding.ONIG_OPTION_FIND_NOT_EMPTY;case 8:return this._onigBinding.ONIG_OPTION_NEGATE_SINGLELINE;case 9:return this._onigBinding.ONIG_OPTION_DONT_CAPTURE_GROUP;case 10:return this._onigBinding.ONIG_OPTION_CAPTURE_GROUP;case 11:return this._onigBinding.ONIG_OPTION_NOTBOL;case 12:return this._onigBinding.ONIG_OPTION_NOTEOL;case 13:return this._onigBinding.ONIG_OPTION_CHECK_VALIDITY_OF_STRING;case 14:return this._onigBinding.ONIG_OPTION_IGNORECASE_IS_ASCII;case 15:return this._onigBinding.ONIG_OPTION_WORD_IS_ASCII;case 16:return this._onigBinding.ONIG_OPTION_DIGIT_IS_ASCII;case 17:return this._onigBinding.ONIG_OPTION_SPACE_IS_ASCII;case 18:return this._onigBinding.ONIG_OPTION_POSIX_IS_ASCII;case 19:return this._onigBinding.ONIG_OPTION_TEXT_SEGMENT_EXTENDED_GRAPHEME_CLUSTER;case 20:return this._onigBinding.ONIG_OPTION_TEXT_SEGMENT_WORD;case 21:return this._onigBinding.ONIG_OPTION_NOT_BEGIN_STRING;case 22:return this._onigBinding.ONIG_OPTION_NOT_END_STRING;case 23:return this._onigBinding.ONIG_OPTION_NOT_BEGIN_POSITION;case 24:return this._onigBinding.ONIG_OPTION_CALLBACK_EACH_MATCH}}}s.OnigScanner=k;let v=!1,O=null;s.loadWASM=function(C){if(v)return O;let y,A,S,T;if(v=!0,function(g){return typeof g.instantiator=="function"}(C))y=C.instantiator,A=C.print;else{let g;(function(i){return i.data!==void 0})(C)?(g=C.data,A=C.print):g=C,y=function(i){return typeof Response<"u"&&i instanceof Response}(g)?typeof WebAssembly.instantiateStreaming=="function"?function(i){return p=>WebAssembly.instantiateStreaming(i,p)}(g):function(i){return async p=>{const h=await i.arrayBuffer();return WebAssembly.instantiate(h,p)}}(g):function(i){return p=>WebAssembly.instantiate(i,p)}(g)}return O=new Promise((g,i)=>{S=g,T=i}),function(g,i,p,h){(0,f.default)({print:i,instantiateWasm:(l,m)=>{if(typeof performance>"u"){const w=()=>Date.now();l.env.emscripten_get_now=w,l.wasi_snapshot_preview1.emscripten_get_now=w}return g(l).then(w=>m(w.instance),h),{}}}).then(l=>{u=l,p()})}(y,A,S,T),O},s.createOnigString=function(C){return new b(C)},s.createOnigScanner=function(C){return new k(C)},s.setDefaultDebugCall=function(C){_=C}},418:c=>{var s=(typeof document<"u"&&document.currentScript&&document.currentScript.src,function(a={}){var o,f,u=a;u.ready=new Promise((N,x)=>{o=N,f=x});var _,d=Object.assign({},u);typeof read<"u"&&read,_=N=>{if(typeof readbuffer=="function")return new Uint8Array(readbuffer(N));let x=read(N,"binary");return typeof x=="object"||$(D),x;var D},typeof clearTimeout>"u"&&(globalThis.clearTimeout=N=>{}),typeof setTimeout>"u"&&(globalThis.setTimeout=N=>typeof N=="function"?N():$()),typeof scriptArgs<"u"&&scriptArgs,typeof onig_print<"u"&&(typeof console>"u"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr<"u"?printErr:onig_print);var b,k,v=u.print||console.log.bind(console),O=u.printErr||console.error.bind(console);Object.assign(u,d),d=null,u.arguments&&u.arguments,u.thisProgram&&u.thisProgram,u.quit&&u.quit,u.wasmBinary&&(b=u.wasmBinary),u.noExitRuntime,typeof WebAssembly!="object"&&$("no native wasm support detected");var C,y,A,S,T,g,i,p,h=!1;function l(){var N=k.buffer;u.HEAP8=C=new Int8Array(N),u.HEAP16=A=new Int16Array(N),u.HEAPU8=y=new Uint8Array(N),u.HEAPU16=S=new Uint16Array(N),u.HEAP32=T=new Int32Array(N),u.HEAPU32=g=new Uint32Array(N),u.HEAPF32=i=new Float32Array(N),u.HEAPF64=p=new Float64Array(N)}var m=[],w=[],E=[],P=0,I=null;function $(N){u.onAbort&&u.onAbort(N),O(N="Aborted("+N+")"),h=!0,N+=". Build with -sASSERTIONS for more info.";var x=new WebAssembly.RuntimeError(N);throw f(x),x}var R,F;function B(N){return N.startsWith("data:application/octet-stream;base64,")}function j(N){if(N==R&&b)return new Uint8Array(b);if(_)return _(N);throw"both async and sync fetching of the wasm failed"}function V(N,x,D){return function(M){return Promise.resolve().then(()=>j(M))}(N).then(M=>WebAssembly.instantiate(M,x)).then(M=>M).then(D,M=>{O(`failed to asynchronously prepare wasm: ${M}`),$(M)})}B(R="onig.wasm")||(F=R,R=u.locateFile?u.locateFile(F,""):""+F);var te=N=>{for(;N.length>0;)N.shift()(u)},Z=void 0,X=N=>{for(var x="",D=N;y[D];)x+=Z[y[D++]];return x},H={},K={},ne=void 0,L=N=>{throw new ne(N)},G=void 0,z=(N,x,D)=>{function M(Y){var J=D(Y);J.length!==N.length&&(le=>{throw new G(le)})("Mismatched type converter count");for(var Q=0;Q<N.length;++Q)ee(N[Q],J[Q])}N.forEach(function(Y){});var W=new Array(x.length),U=[],q=0;x.forEach((Y,J)=>{K.hasOwnProperty(Y)?W[J]=K[Y]:(U.push(Y),H.hasOwnProperty(Y)||(H[Y]=[]),H[Y].push(()=>{W[J]=K[Y],++q===U.length&&M(W)}))}),U.length===0&&M(W)};function ee(N,x,D={}){if(!("argPackAdvance"in x))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(M,W,U={}){var q=W.name;if(M||L(`type "${q}" must have a positive integer typeid pointer`),K.hasOwnProperty(M)){if(U.ignoreDuplicateRegistrations)return;L(`Cannot register type '${q}' twice`)}if(K[M]=W,H.hasOwnProperty(M)){var Y=H[M];delete H[M],Y.forEach(J=>J())}}(N,x,D)}function Ie(){this.allocated=[void 0],this.freelist=[]}var me=new Ie,Fe=()=>{for(var N=0,x=me.reserved;x<me.allocated.length;++x)me.allocated[x]!==void 0&&++N;return N},xe=N=>(N||L("Cannot use deleted val. handle = "+N),me.get(N).value),Ze=N=>{switch(N){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return me.allocate({refcount:1,value:N})}};function $e(N){return this.fromWireType(T[N>>2])}var Ue=(N,x)=>{switch(x){case 4:return function(D){return this.fromWireType(i[D>>2])};case 8:return function(D){return this.fromWireType(p[D>>3])};default:throw new TypeError(`invalid float width (${x}): ${N}`)}},ze=(N,x,D)=>{switch(x){case 1:return D?M=>C[M>>0]:M=>y[M>>0];case 2:return D?M=>A[M>>1]:M=>S[M>>1];case 4:return D?M=>T[M>>2]:M=>g[M>>2];default:throw new TypeError(`invalid integer width (${x}): ${N}`)}};function Le(N){return this.fromWireType(g[N>>2])}var be,He=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,et=(N,x,D)=>{for(var M=x+D,W=x;N[W]&&!(W>=M);)++W;if(W-x>16&&N.buffer&&He)return He.decode(N.subarray(x,W));for(var U="";x<W;){var q=N[x++];if(128&q){var Y=63&N[x++];if((224&q)!=192){var J=63&N[x++];if((q=(240&q)==224?(15&q)<<12|Y<<6|J:(7&q)<<18|Y<<12|J<<6|63&N[x++])<65536)U+=String.fromCharCode(q);else{var Q=q-65536;U+=String.fromCharCode(55296|Q>>10,56320|1023&Q)}}else U+=String.fromCharCode((31&q)<<6|Y)}else U+=String.fromCharCode(q)}return U},Pt=(N,x)=>N?et(y,N,x):"",qe=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,rn=(N,x)=>{for(var D=N,M=D>>1,W=M+x/2;!(M>=W)&&S[M];)++M;if((D=M<<1)-N>32&&qe)return qe.decode(y.subarray(N,D));for(var U="",q=0;!(q>=x/2);++q){var Y=A[N+2*q>>1];if(Y==0)break;U+=String.fromCharCode(Y)}return U},kt=(N,x,D)=>{if(D===void 0&&(D=2147483647),D<2)return 0;for(var M=x,W=(D-=2)<2*N.length?D/2:N.length,U=0;U<W;++U){var q=N.charCodeAt(U);A[x>>1]=q,x+=2}return A[x>>1]=0,x-M},sn=N=>2*N.length,tt=(N,x)=>{for(var D=0,M="";!(D>=x/4);){var W=T[N+4*D>>2];if(W==0)break;if(++D,W>=65536){var U=W-65536;M+=String.fromCharCode(55296|U>>10,56320|1023&U)}else M+=String.fromCharCode(W)}return M},Nt=(N,x,D)=>{if(D===void 0&&(D=2147483647),D<4)return 0;for(var M=x,W=M+D-4,U=0;U<N.length;++U){var q=N.charCodeAt(U);if(q>=55296&&q<=57343&&(q=65536+((1023&q)<<10)|1023&N.charCodeAt(++U)),T[x>>2]=q,(x+=4)+4>W)break}return T[x>>2]=0,x-M},qs=N=>{for(var x=0,D=0;D<N.length;++D){var M=N.charCodeAt(D);M>=55296&&M<=57343&&++D,x+=4}return x};be=()=>performance.now();var Ks=N=>{var x=(N-k.buffer.byteLength+65535)/65536;try{return k.grow(x),l(),1}catch{}},Xs=[null,[],[]];(()=>{for(var N=new Array(256),x=0;x<256;++x)N[x]=String.fromCharCode(x);Z=N})(),ne=u.BindingError=class extends Error{constructor(N){super(N),this.name="BindingError"}},G=u.InternalError=class extends Error{constructor(N){super(N),this.name="InternalError"}},Object.assign(Ie.prototype,{get(N){return this.allocated[N]},has(N){return this.allocated[N]!==void 0},allocate(N){var x=this.freelist.pop()||this.allocated.length;return this.allocated[x]=N,x},free(N){this.allocated[N]=void 0,this.freelist.push(N)}}),me.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),me.reserved=me.allocated.length,u.count_emval_handles=Fe;var Rt,Yn={_embind_register_bigint:(N,x,D,M,W)=>{},_embind_register_bool:(N,x,D,M)=>{ee(N,{name:x=X(x),fromWireType:function(W){return!!W},toWireType:function(W,U){return U?D:M},argPackAdvance:8,readValueFromPointer:function(W){return this.fromWireType(y[W])},destructorFunction:null})},_embind_register_constant:(N,x,D)=>{N=X(N),z([],[x],function(M){return M=M[0],u[N]=M.fromWireType(D),[]})},_embind_register_emval:(N,x)=>{ee(N,{name:x=X(x),fromWireType:D=>{var M=xe(D);return(W=>{W>=me.reserved&&--me.get(W).refcount==0&&me.free(W)})(D),M},toWireType:(D,M)=>Ze(M),argPackAdvance:8,readValueFromPointer:$e,destructorFunction:null})},_embind_register_float:(N,x,D)=>{ee(N,{name:x=X(x),fromWireType:M=>M,toWireType:(M,W)=>W,argPackAdvance:8,readValueFromPointer:Ue(x,D),destructorFunction:null})},_embind_register_integer:(N,x,D,M,W)=>{x=X(x);var U=J=>J;if(M===0){var q=32-8*D;U=J=>J<<q>>>q}var Y=x.includes("unsigned");ee(N,{name:x,fromWireType:U,toWireType:Y?function(J,Q){return this.name,Q>>>0}:function(J,Q){return this.name,Q},argPackAdvance:8,readValueFromPointer:ze(x,D,M!==0),destructorFunction:null})},_embind_register_memory_view:(N,x,D)=>{var M=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][x];function W(U){var q=g[U>>2],Y=g[U+4>>2];return new M(C.buffer,Y,q)}ee(N,{name:D=X(D),fromWireType:W,argPackAdvance:8,readValueFromPointer:W},{ignoreDuplicateRegistrations:!0})},_embind_register_std_string:(N,x)=>{var D=(x=X(x))==="std::string";ee(N,{name:x,fromWireType:M=>{var W,U=g[M>>2],q=M+4;if(D)for(var Y=q,J=0;J<=U;++J){var Q=q+J;if(J==U||y[Q]==0){var le=Pt(Y,Q-Y);W===void 0?W=le:(W+=String.fromCharCode(0),W+=le),Y=Q+1}}else{var oe=new Array(U);for(J=0;J<U;++J)oe[J]=String.fromCharCode(y[q+J]);W=oe.join("")}return Me(M),W},toWireType:(M,W)=>{var U;W instanceof ArrayBuffer&&(W=new Uint8Array(W));var q=typeof W=="string";q||W instanceof Uint8Array||W instanceof Uint8ClampedArray||W instanceof Int8Array||L("Cannot pass non-string to std::string"),U=D&&q?(oe=>{for(var ae=0,se=0;se<oe.length;++se){var Ee=oe.charCodeAt(se);Ee<=127?ae++:Ee<=2047?ae+=2:Ee>=55296&&Ee<=57343?(ae+=4,++se):ae+=3}return ae})(W):W.length;var Y=on(4+U+1),J=Y+4;if(g[Y>>2]=U,D&&q)((oe,ae,se,Ee)=>{if(!(Ee>0))return 0;for(var an=se,It=se+Ee-1,xt=0;xt<oe.length;++xt){var fe=oe.charCodeAt(xt);if(fe>=55296&&fe<=57343&&(fe=65536+((1023&fe)<<10)|1023&oe.charCodeAt(++xt)),fe<=127){if(se>=It)break;ae[se++]=fe}else if(fe<=2047){if(se+1>=It)break;ae[se++]=192|fe>>6,ae[se++]=128|63&fe}else if(fe<=65535){if(se+2>=It)break;ae[se++]=224|fe>>12,ae[se++]=128|fe>>6&63,ae[se++]=128|63&fe}else{if(se+3>=It)break;ae[se++]=240|fe>>18,ae[se++]=128|fe>>12&63,ae[se++]=128|fe>>6&63,ae[se++]=128|63&fe}}ae[se]=0})(W,y,J,U+1);else if(q)for(var Q=0;Q<U;++Q){var le=W.charCodeAt(Q);le>255&&(Me(J),L("String has UTF-16 code units that do not fit in 8 bits")),y[J+Q]=le}else for(Q=0;Q<U;++Q)y[J+Q]=W[Q];return M!==null&&M.push(Me,Y),Y},argPackAdvance:8,readValueFromPointer:Le,destructorFunction:M=>Me(M)})},_embind_register_std_wstring:(N,x,D)=>{var M,W,U,q,Y;D=X(D),x===2?(M=rn,W=kt,q=sn,U=()=>S,Y=1):x===4&&(M=tt,W=Nt,q=qs,U=()=>g,Y=2),ee(N,{name:D,fromWireType:J=>{for(var Q,le=g[J>>2],oe=U(),ae=J+4,se=0;se<=le;++se){var Ee=J+4+se*x;if(se==le||oe[Ee>>Y]==0){var an=M(ae,Ee-ae);Q===void 0?Q=an:(Q+=String.fromCharCode(0),Q+=an),ae=Ee+x}}return Me(J),Q},toWireType:(J,Q)=>{typeof Q!="string"&&L(`Cannot pass non-string to C++ string type ${D}`);var le=q(Q),oe=on(4+le+x);return g[oe>>2]=le>>Y,W(Q,oe+4,le+x),J!==null&&J.push(Me,oe),oe},argPackAdvance:8,readValueFromPointer:$e,destructorFunction:J=>Me(J)})},_embind_register_void:(N,x)=>{ee(N,{isVoid:!0,name:x=X(x),argPackAdvance:0,fromWireType:()=>{},toWireType:(D,M)=>{}})},emscripten_get_now:be,emscripten_memcpy_big:(N,x,D)=>y.copyWithin(N,x,x+D),emscripten_resize_heap:N=>{var x=y.length,D=2147483648;if((N>>>=0)>D)return!1;for(var M,W=1;W<=4;W*=2){var U=x*(1+.2/W);U=Math.min(U,N+100663296);var q=Math.min(D,(M=Math.max(N,U))+(65536-M%65536)%65536);if(Ks(q))return!0}return!1},fd_write:(N,x,D,M)=>{for(var W=0,U=0;U<D;U++){var q=g[x>>2],Y=g[x+4>>2];x+=8;for(var J=0;J<Y;J++)Q=N,le=y[q+J],oe=void 0,oe=Xs[Q],le===0||le===10?((Q===1?v:O)(et(oe,0)),oe.length=0):oe.push(le);W+=Y}var Q,le,oe;return g[M>>2]=W,0}},ye=function(){var N,x,D,M,W={env:Yn,wasi_snapshot_preview1:Yn};function U(q,Y){var J,Q=q.exports;return k=(ye=Q).memory,l(),ye.__indirect_function_table,J=ye.__wasm_call_ctors,w.unshift(J),function(le){if(P--,u.monitorRunDependencies&&u.monitorRunDependencies(P),P==0&&I){var oe=I;I=null,oe()}}(),Q}if(P++,u.monitorRunDependencies&&u.monitorRunDependencies(P),u.instantiateWasm)try{return u.instantiateWasm(W,U)}catch(q){O(`Module.instantiateWasm callback failed with error: ${q}`),f(q)}return(N=b,x=R,D=W,M=function(q){U(q.instance)},N||typeof WebAssembly.instantiateStreaming!="function"||B(x)||typeof fetch!="function"?V(x,D,M):fetch(x,{credentials:"same-origin"}).then(q=>WebAssembly.instantiateStreaming(q,D).then(M,function(Y){return O(`wasm streaming compile failed: ${Y}`),O("falling back to ArrayBuffer instantiation"),V(x,D,M)}))).catch(f),{}}(),on=N=>(on=ye.malloc)(N),Me=N=>(Me=ye.free)(N);function Qn(){function N(){Rt||(Rt=!0,u.calledRun=!0,h||(te(w),o(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),function(){if(u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;)x=u.postRun.shift(),E.unshift(x);var x;te(E)}()))}P>0||(function(){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)x=u.preRun.shift(),m.unshift(x);var x;te(m)}(),P>0||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),N()},1)):N()))}if(u._omalloc=N=>(u._omalloc=ye.omalloc)(N),u._ofree=N=>(u._ofree=ye.ofree)(N),u._getLastOnigError=()=>(u._getLastOnigError=ye.getLastOnigError)(),u._createOnigScanner=(N,x,D,M,W)=>(u._createOnigScanner=ye.createOnigScanner)(N,x,D,M,W),u._freeOnigScanner=N=>(u._freeOnigScanner=ye.freeOnigScanner)(N),u._findNextOnigScannerMatch=(N,x,D,M,W,U)=>(u._findNextOnigScannerMatch=ye.findNextOnigScannerMatch)(N,x,D,M,W,U),u._findNextOnigScannerMatchDbg=(N,x,D,M,W,U)=>(u._findNextOnigScannerMatchDbg=ye.findNextOnigScannerMatchDbg)(N,x,D,M,W,U),u.__embind_initialize_bindings=()=>(u.__embind_initialize_bindings=ye._embind_initialize_bindings)(),u.dynCall_jiji=(N,x,D,M,W)=>(u.dynCall_jiji=ye.dynCall_jiji)(N,x,D,M,W),u.UTF8ToString=Pt,I=function N(){Rt||Qn(),Rt||(I=N)},u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();return Qn(),a.ready});c.exports=s}},r={},function c(s){var a=r[s];if(a!==void 0)return a.exports;var o=r[s]={exports:{}};return n[s].call(o.exports,o,o.exports,c),o.exports}(770);var n,r})})(Ps);var Xn=Ps.exports;const ra=na(Xn),sa=Zo({__proto__:null,default:ra},[Xn]);var ks={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Os,()=>(()=>{var n={350:(c,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UseOnigurumaFindOptions=s.DebugFlags=void 0,s.DebugFlags={InDebugMode:typeof process<"u"&&!!{}.VSCODE_TEXTMATE_DEBUG},s.UseOnigurumaFindOptions=!1},442:(c,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.applyStateStackDiff=s.diffStateStacksRefEq=void 0;const o=a(391);s.diffStateStacksRefEq=function(f,u){let _=0;const d=[];let b=f,k=u;for(;b!==k;)b&&(!k||b.depth>=k.depth)?(_++,b=b.parent):(d.push(k.toStateStackFrame()),k=k.parent);return{pops:_,newFrames:d.reverse()}},s.applyStateStackDiff=function(f,u){let _=f;for(let d=0;d<u.pops;d++)_=_.parent;for(const d of u.newFrames)_=o.StateStackImpl.pushFrame(_,d);return _}},36:(c,s)=>{var a;Object.defineProperty(s,"__esModule",{value:!0}),s.toOptionalTokenType=s.EncodedTokenAttributes=void 0,(a=s.EncodedTokenAttributes||(s.EncodedTokenAttributes={})).toBinaryStr=function(o){return o.toString(2).padStart(32,"0")},a.print=function(o){const f=a.getLanguageId(o),u=a.getTokenType(o),_=a.getFontStyle(o),d=a.getForeground(o),b=a.getBackground(o);console.log({languageId:f,tokenType:u,fontStyle:_,foreground:d,background:b})},a.getLanguageId=function(o){return(255&o)>>>0},a.getTokenType=function(o){return(768&o)>>>8},a.containsBalancedBrackets=function(o){return(1024&o)!=0},a.getFontStyle=function(o){return(30720&o)>>>11},a.getForeground=function(o){return(16744448&o)>>>15},a.getBackground=function(o){return(4278190080&o)>>>24},a.set=function(o,f,u,_,d,b,k){let v=a.getLanguageId(o),O=a.getTokenType(o),C=a.containsBalancedBrackets(o)?1:0,y=a.getFontStyle(o),A=a.getForeground(o),S=a.getBackground(o);return f!==0&&(v=f),u!==8&&(O=u),_!==null&&(C=_?1:0),d!==-1&&(y=d),b!==0&&(A=b),k!==0&&(S=k),(v<<0|O<<8|C<<10|y<<11|A<<15|S<<24)>>>0},s.toOptionalTokenType=function(o){return o}},996:(c,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BasicScopeAttributesProvider=s.BasicScopeAttributes=void 0;const o=a(878);class f{constructor(b,k){this.languageId=b,this.tokenType=k}}s.BasicScopeAttributes=f;class u{constructor(b,k){this._getBasicScopeAttributes=new o.CachedFn(v=>{const O=this._scopeToLanguage(v),C=this._toStandardTokenType(v);return new f(O,C)}),this._defaultAttributes=new f(b,8),this._embeddedLanguagesMatcher=new _(Object.entries(k||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(b){return b===null?u._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(b)}_scopeToLanguage(b){return this._embeddedLanguagesMatcher.match(b)||0}_toStandardTokenType(b){const k=b.match(u.STANDARD_TOKEN_TYPE_REGEXP);if(!k)return 8;switch(k[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}}s.BasicScopeAttributesProvider=u,u._NULL_SCOPE_METADATA=new f(0,0),u.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/;class _{constructor(b){if(b.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(b);const k=b.map(([v,O])=>o.escapeRegExpCharacters(v));k.sort(),k.reverse(),this.scopesRegExp=new RegExp(`^((${k.join(")|(")}))($|\\.)`,"")}}match(b){if(!this.scopesRegExp)return;const k=b.match(this.scopesRegExp);return k?this.values.get(k[1]):void 0}}},947:(c,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LineTokens=s.BalancedBracketSelectors=s.StateStackImpl=s.AttributedScopeStack=s.Grammar=s.createGrammar=void 0;const o=a(350),f=a(36),u=a(736),_=a(44),d=a(792),b=a(583),k=a(878),v=a(996),O=a(47);function C(h,l,m,w,E){const P=u.createMatchers(l,y),I=d.RuleFactory.getCompiledRuleId(m,w,E.repository);for(const $ of P)h.push({debugSelector:l,matcher:$.matcher,ruleId:I,grammar:E,priority:$.priority})}function y(h,l){if(l.length<h.length)return!1;let m=0;return h.every(w=>{for(let E=m;E<l.length;E++)if(A(l[E],w))return m=E+1,!0;return!1})}function A(h,l){if(!h)return!1;if(h===l)return!0;const m=l.length;return h.length>m&&h.substr(0,m)===l&&h[m]==="."}s.createGrammar=function(h,l,m,w,E,P,I,$){return new S(h,l,m,w,E,P,I,$)};class S{constructor(l,m,w,E,P,I,$,R){if(this._rootScopeName=l,this.balancedBracketSelectors=I,this._onigLib=R,this._basicScopeAttributesProvider=new v.BasicScopeAttributesProvider(w,E),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=$,this._grammar=T(m,null),this._injections=null,this._tokenTypeMatchers=[],P)for(const F of Object.keys(P)){const B=u.createMatchers(F,y);for(const j of B)this._tokenTypeMatchers.push({matcher:j.matcher,type:P[F]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const l of this._ruleId2desc)l&&l.dispose()}createOnigScanner(l){return this._onigLib.createOnigScanner(l)}createOnigString(l){return this._onigLib.createOnigString(l)}getMetadataForScope(l){return this._basicScopeAttributesProvider.getBasicScopeAttributes(l)}_collectInjections(){const l=[],m=this._rootScopeName,w=(E=>E===this._rootScopeName?this._grammar:this.getExternalGrammar(E))(m);if(w){const E=w.injections;if(E)for(let I in E)C(l,I,E[I],this,w);const P=this._grammarRepository.injections(m);P&&P.forEach(I=>{const $=this.getExternalGrammar(I);if($){const R=$.injectionSelector;R&&C(l,R,$,this,$)}})}return l.sort((E,P)=>E.priority-P.priority),l}getInjections(){if(this._injections===null&&(this._injections=this._collectInjections(),o.DebugFlags.InDebugMode&&this._injections.length>0)){console.log(`Grammar ${this._rootScopeName} contains the following injections:`);for(const l of this._injections)console.log(`  - ${l.debugSelector}`)}return this._injections}registerRule(l){const m=++this._lastRuleId,w=l(d.ruleIdFromNumber(m));return this._ruleId2desc[m]=w,w}getRule(l){return this._ruleId2desc[d.ruleIdToNumber(l)]}getExternalGrammar(l,m){if(this._includedGrammars[l])return this._includedGrammars[l];if(this._grammarRepository){const w=this._grammarRepository.lookup(l);if(w)return this._includedGrammars[l]=T(w,m&&m.$base),this._includedGrammars[l]}}tokenizeLine(l,m,w=0){const E=this._tokenize(l,m,!1,w);return{tokens:E.lineTokens.getResult(E.ruleStack,E.lineLength),ruleStack:E.ruleStack,stoppedEarly:E.stoppedEarly}}tokenizeLine2(l,m,w=0){const E=this._tokenize(l,m,!0,w);return{tokens:E.lineTokens.getBinaryResult(E.ruleStack,E.lineLength),ruleStack:E.ruleStack,stoppedEarly:E.stoppedEarly}}_tokenize(l,m,w,E){let P;if(this._rootId===-1&&(this._rootId=d.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections()),m&&m!==i.NULL)P=!1,m.reset();else{P=!0;const B=this._basicScopeAttributesProvider.getDefaultAttributes(),j=this.themeProvider.getDefaults(),V=f.EncodedTokenAttributes.set(0,B.languageId,B.tokenType,null,j.fontStyle,j.foregroundId,j.backgroundId),te=this.getRule(this._rootId).getName(null,null);let Z;Z=te?g.createRootAndLookUpScopeName(te,V,this):g.createRoot("unknown",V),m=new i(null,this._rootId,-1,-1,!1,null,Z,Z)}l+=`
`;const I=this.createOnigString(l),$=I.content.length,R=new p(w,l,this._tokenTypeMatchers,this.balancedBracketSelectors),F=O._tokenizeString(this,I,P,0,m,R,!0,E);return _.disposeOnigString(I),{lineLength:$,lineTokens:R,ruleStack:F.stack,stoppedEarly:F.stoppedEarly}}}function T(h,l){return(h=k.clone(h)).repository=h.repository||{},h.repository.$self={$vscodeTextmateLocation:h.$vscodeTextmateLocation,patterns:h.patterns,name:h.scopeName},h.repository.$base=l||h.repository.$self,h}s.Grammar=S;class g{constructor(l,m,w){this.parent=l,this.scopePath=m,this.tokenAttributes=w}static fromExtension(l,m){let w=l,E=l?.scopePath??null;for(const P of m)E=b.ScopeStack.push(E,P.scopeNames),w=new g(w,E,P.encodedTokenAttributes);return w}static createRoot(l,m){return new g(null,new b.ScopeStack(null,l),m)}static createRootAndLookUpScopeName(l,m,w){const E=w.getMetadataForScope(l),P=new b.ScopeStack(null,l),I=w.themeProvider.themeMatch(P),$=g.mergeAttributes(m,E,I);return new g(null,P,$)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(l){return g.equals(this,l)}static equals(l,m){for(;;){if(l===m||!l&&!m)return!0;if(!l||!m||l.scopeName!==m.scopeName||l.tokenAttributes!==m.tokenAttributes)return!1;l=l.parent,m=m.parent}}static mergeAttributes(l,m,w){let E=-1,P=0,I=0;return w!==null&&(E=w.fontStyle,P=w.foregroundId,I=w.backgroundId),f.EncodedTokenAttributes.set(l,m.languageId,m.tokenType,null,E,P,I)}pushAttributed(l,m){if(l===null)return this;if(l.indexOf(" ")===-1)return g._pushAttributed(this,l,m);const w=l.split(/ /g);let E=this;for(const P of w)E=g._pushAttributed(E,P,m);return E}static _pushAttributed(l,m,w){const E=w.getMetadataForScope(m),P=l.scopePath.push(m),I=w.themeProvider.themeMatch(P),$=g.mergeAttributes(l.tokenAttributes,E,I);return new g(l,P,$)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(l){var m;const w=[];let E=this;for(;E&&E!==l;)w.push({encodedTokenAttributes:E.tokenAttributes,scopeNames:E.scopePath.getExtensionIfDefined(((m=E.parent)==null?void 0:m.scopePath)??null)}),E=E.parent;return E===l?w.reverse():void 0}}s.AttributedScopeStack=g;class i{constructor(l,m,w,E,P,I,$,R){this.parent=l,this.ruleId=m,this.beginRuleCapturedEOL=P,this.endRule=I,this.nameScopesList=$,this.contentNameScopesList=R,this._stackElementBrand=void 0,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=w,this._anchorPos=E}equals(l){return l!==null&&i._equals(this,l)}static _equals(l,m){return l===m||!!this._structuralEquals(l,m)&&g.equals(l.contentNameScopesList,m.contentNameScopesList)}static _structuralEquals(l,m){for(;;){if(l===m||!l&&!m)return!0;if(!l||!m||l.depth!==m.depth||l.ruleId!==m.ruleId||l.endRule!==m.endRule)return!1;l=l.parent,m=m.parent}}clone(){return this}static _reset(l){for(;l;)l._enterPos=-1,l._anchorPos=-1,l=l.parent}reset(){i._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(l,m,w,E,P,I,$){return new i(this,l,m,w,E,P,I,$)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(l){return l.getRule(this.ruleId)}toString(){const l=[];return this._writeString(l,0),"["+l.join(",")+"]"}_writeString(l,m){var w,E;return this.parent&&(m=this.parent._writeString(l,m)),l[m++]=`(${this.ruleId}, ${(w=this.nameScopesList)==null?void 0:w.toString()}, ${(E=this.contentNameScopesList)==null?void 0:E.toString()})`,m}withContentNameScopesList(l){return this.contentNameScopesList===l?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,l)}withEndRule(l){return this.endRule===l?this:new i(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,l,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(l){let m=this;for(;m&&m._enterPos===l._enterPos;){if(m.ruleId===l.ruleId)return!0;m=m.parent}return!1}toStateStackFrame(){var l,m,w;return{ruleId:d.ruleIdToNumber(this.ruleId),beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:((m=this.nameScopesList)==null?void 0:m.getExtensionIfDefined(((l=this.parent)==null?void 0:l.nameScopesList)??null))??[],contentNameScopesList:((w=this.contentNameScopesList)==null?void 0:w.getExtensionIfDefined(this.nameScopesList))??[]}}static pushFrame(l,m){const w=g.fromExtension(l?.nameScopesList??null,m.nameScopesList);return new i(l,d.ruleIdFromNumber(m.ruleId),m.enterPos??-1,m.anchorPos??-1,m.beginRuleCapturedEOL,m.endRule,w,g.fromExtension(w,m.contentNameScopesList))}}s.StateStackImpl=i,i.NULL=new i(null,0,0,0,!1,null,null,null),s.BalancedBracketSelectors=class{constructor(h,l){this.allowAny=!1,this.balancedBracketScopes=h.flatMap(m=>m==="*"?(this.allowAny=!0,[]):u.createMatchers(m,y).map(w=>w.matcher)),this.unbalancedBracketScopes=l.flatMap(m=>u.createMatchers(m,y).map(w=>w.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(h){for(const l of this.unbalancedBracketScopes)if(l(h))return!1;for(const l of this.balancedBracketScopes)if(l(h))return!0;return this.allowAny}};class p{constructor(l,m,w,E){this.balancedBracketSelectors=E,this._emitBinaryTokens=l,this._tokenTypeOverrides=w,o.DebugFlags.InDebugMode?this._lineText=m:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(l,m){this.produceFromScopes(l.contentNameScopesList,m)}produceFromScopes(l,m){var w;if(this._lastTokenEndIndex>=m)return;if(this._emitBinaryTokens){let P=l?.tokenAttributes??0,I=!1;if((w=this.balancedBracketSelectors)!=null&&w.matchesAlways&&(I=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const $=l?.getScopeNames()??[];for(const R of this._tokenTypeOverrides)R.matcher($)&&(P=f.EncodedTokenAttributes.set(P,0,f.toOptionalTokenType(R.type),null,-1,0,0));this.balancedBracketSelectors&&(I=this.balancedBracketSelectors.match($))}if(I&&(P=f.EncodedTokenAttributes.set(P,0,8,I,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===P)return void(this._lastTokenEndIndex=m);if(o.DebugFlags.InDebugMode){const $=l?.getScopeNames()??[];console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,m).replace(/\n$/,"\\n")+"|");for(let R=0;R<$.length;R++)console.log("      * "+$[R])}return this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(P),void(this._lastTokenEndIndex=m)}const E=l?.getScopeNames()??[];if(o.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,m).replace(/\n$/,"\\n")+"|");for(let P=0;P<E.length;P++)console.log("      * "+E[P])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:m,scopes:E}),this._lastTokenEndIndex=m}getResult(l,m){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===m-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(l,m),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(l,m){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===m-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(l,m),this._binaryTokens[this._binaryTokens.length-2]=0);const w=new Uint32Array(this._binaryTokens.length);for(let E=0,P=this._binaryTokens.length;E<P;E++)w[E]=this._binaryTokens[E];return w}}s.LineTokens=p},965:(c,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.parseInclude=s.TopLevelRepositoryReference=s.TopLevelReference=s.RelativeReference=s.SelfReference=s.BaseReference=s.ScopeDependencyProcessor=s.ExternalReferenceCollector=s.TopLevelRepositoryRuleReference=s.TopLevelRuleReference=void 0;const o=a(878);class f{constructor(i){this.scopeName=i}toKey(){return this.scopeName}}s.TopLevelRuleReference=f;class u{constructor(i,p){this.scopeName=i,this.ruleName=p}toKey(){return`${this.scopeName}#${this.ruleName}`}}s.TopLevelRepositoryRuleReference=u;class _{constructor(){this._references=[],this._seenReferenceKeys=new Set,this.visitedRule=new Set}get references(){return this._references}add(i){const p=i.toKey();this._seenReferenceKeys.has(p)||(this._seenReferenceKeys.add(p),this._references.push(i))}}function d(g,i,p,h){const l=p.lookup(g.scopeName);if(!l){if(g.scopeName===i)throw new Error(`No grammar provided for <${i}>`);return}const m=p.lookup(i);g instanceof f?k({baseGrammar:m,selfGrammar:l},h):b(g.ruleName,{baseGrammar:m,selfGrammar:l,repository:l.repository},h);const w=p.injections(g.scopeName);if(w)for(const E of w)h.add(new f(E))}function b(g,i,p){i.repository&&i.repository[g]&&v([i.repository[g]],i,p)}function k(g,i){g.selfGrammar.patterns&&Array.isArray(g.selfGrammar.patterns)&&v(g.selfGrammar.patterns,{...g,repository:g.selfGrammar.repository},i),g.selfGrammar.injections&&v(Object.values(g.selfGrammar.injections),{...g,repository:g.selfGrammar.repository},i)}function v(g,i,p){for(const h of g){if(p.visitedRule.has(h))continue;p.visitedRule.add(h);const l=h.repository?o.mergeObjects({},i.repository,h.repository):i.repository;Array.isArray(h.patterns)&&v(h.patterns,{...i,repository:l},p);const m=h.include;if(!m)continue;const w=T(m);switch(w.kind){case 0:k({...i,selfGrammar:i.baseGrammar},p);break;case 1:k(i,p);break;case 2:b(w.ruleName,{...i,repository:l},p);break;case 3:case 4:const E=w.scopeName===i.selfGrammar.scopeName?i.selfGrammar:w.scopeName===i.baseGrammar.scopeName?i.baseGrammar:void 0;if(E){const P={baseGrammar:i.baseGrammar,selfGrammar:E,repository:l};w.kind===4?b(w.ruleName,P,p):k(P,p)}else w.kind===4?p.add(new u(w.scopeName,w.ruleName)):p.add(new f(w.scopeName))}}}s.ExternalReferenceCollector=_,s.ScopeDependencyProcessor=class{constructor(g,i){this.repo=g,this.initialScopeName=i,this.seenFullScopeRequests=new Set,this.seenPartialScopeRequests=new Set,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new f(this.initialScopeName)]}processQueue(){const g=this.Q;this.Q=[];const i=new _;for(const p of g)d(p,this.initialScopeName,this.repo,i);for(const p of i.references)if(p instanceof f){if(this.seenFullScopeRequests.has(p.scopeName))continue;this.seenFullScopeRequests.add(p.scopeName),this.Q.push(p)}else{if(this.seenFullScopeRequests.has(p.scopeName)||this.seenPartialScopeRequests.has(p.toKey()))continue;this.seenPartialScopeRequests.add(p.toKey()),this.Q.push(p)}}};class O{constructor(){this.kind=0}}s.BaseReference=O;class C{constructor(){this.kind=1}}s.SelfReference=C;class y{constructor(i){this.ruleName=i,this.kind=2}}s.RelativeReference=y;class A{constructor(i){this.scopeName=i,this.kind=3}}s.TopLevelReference=A;class S{constructor(i,p){this.scopeName=i,this.ruleName=p,this.kind=4}}function T(g){if(g==="$base")return new O;if(g==="$self")return new C;const i=g.indexOf("#");if(i===-1)return new A(g);if(i===0)return new y(g.substring(1));{const p=g.substring(0,i),h=g.substring(i+1);return new S(p,h)}}s.TopLevelRepositoryReference=S,s.parseInclude=T},391:function(c,s,a){var o=this&&this.__createBinding||(Object.create?function(u,_,d,b){b===void 0&&(b=d),Object.defineProperty(u,b,{enumerable:!0,get:function(){return _[d]}})}:function(u,_,d,b){b===void 0&&(b=d),u[b]=_[d]}),f=this&&this.__exportStar||function(u,_){for(var d in u)d==="default"||Object.prototype.hasOwnProperty.call(_,d)||o(_,u,d)};Object.defineProperty(s,"__esModule",{value:!0}),f(a(947),s)},47:(c,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LocalStackElement=s._tokenizeString=void 0;const o=a(350),f=a(44),u=a(792),_=a(878);class d{constructor(S,T){this.stack=S,this.stoppedEarly=T}}function b(A,S,T,g,i,p,h,l){const m=S.content.length;let w=!1,E=-1;if(h){const $=function(R,F,B,j,V,te){let Z=V.beginRuleCapturedEOL?0:-1;const X=[];for(let H=V;H;H=H.pop()){const K=H.getRule(R);K instanceof u.BeginWhileRule&&X.push({rule:K,stack:H})}for(let H=X.pop();H;H=X.pop()){const{ruleScanner:K,findOptions:ne}=v(H.rule,R,H.stack.endRule,B,j===Z),L=K.findNextMatchSync(F,j,ne);if(o.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(K.toString())),!L){o.DebugFlags.InDebugMode&&console.log("  popping "+H.rule.debugName+" - "+H.rule.debugWhileRegExp),V=H.stack.pop();break}if(L.ruleId!==u.whileRuleId){V=H.stack.pop();break}L.captureIndices&&L.captureIndices.length&&(te.produce(H.stack,L.captureIndices[0].start),C(R,F,B,H.stack,te,H.rule.whileCaptures,L.captureIndices),te.produce(H.stack,L.captureIndices[0].end),Z=L.captureIndices[0].end,L.captureIndices[0].end>j&&(j=L.captureIndices[0].end,B=!1))}return{stack:V,linePos:j,anchorPosition:Z,isFirstLine:B}}(A,S,T,g,i,p);i=$.stack,g=$.linePos,T=$.isFirstLine,E=$.anchorPosition}const P=Date.now();for(;!w;){if(l!==0&&Date.now()-P>l)return new d(i,!0);I()}return new d(i,!1);function I(){o.DebugFlags.InDebugMode&&(console.log(""),console.log(`@@scanNext ${g}: |${S.content.substr(g).replace(/\n$/,"\\n")}|`));const $=function(j,V,te,Z,X,H){const K=function(ee,Ie,me,Fe,xe,Ze){const $e=xe.getRule(ee),{ruleScanner:Ue,findOptions:ze}=k($e,ee,xe.endRule,me,Fe===Ze);let Le=0;o.DebugFlags.InDebugMode&&(Le=_.performanceNow());const be=Ue.findNextMatchSync(Ie,Fe,ze);if(o.DebugFlags.InDebugMode){const He=_.performanceNow()-Le;He>5&&console.warn(`Rule ${$e.debugName} (${$e.id}) matching took ${He} against '${Ie}'`),console.log(`  scanning for (linePos: ${Fe}, anchorPosition: ${Ze})`),console.log(Ue.toString()),be&&console.log(`matched rule id: ${be.ruleId} from ${be.captureIndices[0].start} to ${be.captureIndices[0].end}`)}return be?{captureIndices:be.captureIndices,matchedRuleId:be.ruleId}:null}(j,V,te,Z,X,H),ne=j.getInjections();if(ne.length===0)return K;const L=function(ee,Ie,me,Fe,xe,Ze,$e){let Ue,ze=Number.MAX_VALUE,Le=null,be=0;const He=Ze.contentNameScopesList.getScopeNames();for(let et=0,Pt=ee.length;et<Pt;et++){const qe=ee[et];if(!qe.matcher(He))continue;const rn=Ie.getRule(qe.ruleId),{ruleScanner:kt,findOptions:sn}=k(rn,Ie,null,Fe,xe===$e),tt=kt.findNextMatchSync(me,xe,sn);if(!tt)continue;o.DebugFlags.InDebugMode&&(console.log(`  matched injection: ${qe.debugSelector}`),console.log(kt.toString()));const Nt=tt.captureIndices[0].start;if(!(Nt>=ze)&&(ze=Nt,Le=tt.captureIndices,Ue=tt.ruleId,be=qe.priority,ze===xe))break}return Le?{priorityMatch:be===-1,captureIndices:Le,matchedRuleId:Ue}:null}(ne,j,V,te,Z,X,H);if(!L)return K;if(!K)return L;const G=K.captureIndices[0].start,z=L.captureIndices[0].start;return z<G||L.priorityMatch&&z===G?L:K}(A,S,T,g,i,E);if(!$)return o.DebugFlags.InDebugMode&&console.log("  no more matches."),p.produce(i,m),void(w=!0);const R=$.captureIndices,F=$.matchedRuleId,B=!!(R&&R.length>0)&&R[0].end>g;if(F===u.endRuleId){const j=i.getRule(A);o.DebugFlags.InDebugMode&&console.log("  popping "+j.debugName+" - "+j.debugEndRegExp),p.produce(i,R[0].start),i=i.withContentNameScopesList(i.nameScopesList),C(A,S,T,i,p,j.endCaptures,R),p.produce(i,R[0].end);const V=i;if(i=i.parent,E=V.getAnchorPos(),!B&&V.getEnterPos()===g)return o.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),i=V,p.produce(i,m),void(w=!0)}else{const j=A.getRule(F);p.produce(i,R[0].start);const V=i,te=j.getName(S.content,R),Z=i.contentNameScopesList.pushAttributed(te,A);if(i=i.push(F,g,E,R[0].end===m,null,Z,Z),j instanceof u.BeginEndRule){const X=j;o.DebugFlags.InDebugMode&&console.log("  pushing "+X.debugName+" - "+X.debugBeginRegExp),C(A,S,T,i,p,X.beginCaptures,R),p.produce(i,R[0].end),E=R[0].end;const H=X.getContentName(S.content,R),K=Z.pushAttributed(H,A);if(i=i.withContentNameScopesList(K),X.endHasBackReferences&&(i=i.withEndRule(X.getEndWithResolvedBackReferences(S.content,R))),!B&&V.hasSameRuleAs(i))return o.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),i=i.pop(),p.produce(i,m),void(w=!0)}else if(j instanceof u.BeginWhileRule){const X=j;o.DebugFlags.InDebugMode&&console.log("  pushing "+X.debugName),C(A,S,T,i,p,X.beginCaptures,R),p.produce(i,R[0].end),E=R[0].end;const H=X.getContentName(S.content,R),K=Z.pushAttributed(H,A);if(i=i.withContentNameScopesList(K),X.whileHasBackReferences&&(i=i.withEndRule(X.getWhileWithResolvedBackReferences(S.content,R))),!B&&V.hasSameRuleAs(i))return o.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),i=i.pop(),p.produce(i,m),void(w=!0)}else{const X=j;if(o.DebugFlags.InDebugMode&&console.log("  matched "+X.debugName+" - "+X.debugMatchRegExp),C(A,S,T,i,p,X.captures,R),p.produce(i,R[0].end),i=i.pop(),!B)return o.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),i=i.safePop(),p.produce(i,m),void(w=!0)}}R[0].end>g&&(g=R[0].end,T=!1)}}function k(A,S,T,g,i){return o.UseOnigurumaFindOptions?{ruleScanner:A.compile(S,T),findOptions:O(g,i)}:{ruleScanner:A.compileAG(S,T,g,i),findOptions:0}}function v(A,S,T,g,i){return o.UseOnigurumaFindOptions?{ruleScanner:A.compileWhile(S,T),findOptions:O(g,i)}:{ruleScanner:A.compileWhileAG(S,T,g,i),findOptions:0}}function O(A,S){let T=0;return A||(T|=1),S||(T|=4),T}function C(A,S,T,g,i,p,h){if(p.length===0)return;const l=S.content,m=Math.min(p.length,h.length),w=[],E=h[0].end;for(let P=0;P<m;P++){const I=p[P];if(I===null)continue;const $=h[P];if($.length===0)continue;if($.start>E)break;for(;w.length>0&&w[w.length-1].endPos<=$.start;)i.produceFromScopes(w[w.length-1].scopes,w[w.length-1].endPos),w.pop();if(w.length>0?i.produceFromScopes(w[w.length-1].scopes,$.start):i.produce(g,$.start),I.retokenizeCapturedWithRuleId){const F=I.getName(l,h),B=g.contentNameScopesList.pushAttributed(F,A),j=I.getContentName(l,h),V=B.pushAttributed(j,A),te=g.push(I.retokenizeCapturedWithRuleId,$.start,-1,!1,null,B,V),Z=A.createOnigString(l.substring(0,$.end));b(A,Z,T&&$.start===0,$.start,te,i,!1,0),f.disposeOnigString(Z);continue}const R=I.getName(l,h);if(R!==null){const F=(w.length>0?w[w.length-1].scopes:g.contentNameScopesList).pushAttributed(R,A);w.push(new y(F,$.end))}}for(;w.length>0;)i.produceFromScopes(w[w.length-1].scopes,w[w.length-1].endPos),w.pop()}s._tokenizeString=b;class y{constructor(S,T){this.scopes=S,this.endPos=T}}s.LocalStackElement=y},974:(c,s)=>{function a(_,d){throw new Error("Near offset "+_.pos+": "+d+" ~~~"+_.source.substr(_.pos,50)+"~~~")}Object.defineProperty(s,"__esModule",{value:!0}),s.parseJSON=void 0,s.parseJSON=function(_,d,b){let k=new o(_),v=new f,O=0,C=null,y=[],A=[];function S(){y.push(O),A.push(C)}function T(){O=y.pop(),C=A.pop()}function g(i){a(k,i)}for(;u(k,v);){if(O===0){if(C!==null&&g("too many constructs in root"),v.type===3){C={},b&&(C.$vscodeTextmateLocation=v.toLocation(d)),S(),O=1;continue}if(v.type===2){C=[],S(),O=4;continue}g("unexpected token in root")}if(O===2){if(v.type===5){T();continue}if(v.type===7){O=3;continue}g("expected , or }")}if(O===1||O===3){if(O===1&&v.type===5){T();continue}if(v.type===1){let i=v.value;if(u(k,v)&&v.type===6||g("expected colon"),u(k,v)||g("expected value"),O=2,v.type===1){C[i]=v.value;continue}if(v.type===8){C[i]=null;continue}if(v.type===9){C[i]=!0;continue}if(v.type===10){C[i]=!1;continue}if(v.type===11){C[i]=parseFloat(v.value);continue}if(v.type===2){let p=[];C[i]=p,S(),O=4,C=p;continue}if(v.type===3){let p={};b&&(p.$vscodeTextmateLocation=v.toLocation(d)),C[i]=p,S(),O=1,C=p;continue}}g("unexpected token in dict")}if(O===5){if(v.type===4){T();continue}if(v.type===7){O=6;continue}g("expected , or ]")}if(O===4||O===6){if(O===4&&v.type===4){T();continue}if(O=5,v.type===1){C.push(v.value);continue}if(v.type===8){C.push(null);continue}if(v.type===9){C.push(!0);continue}if(v.type===10){C.push(!1);continue}if(v.type===11){C.push(parseFloat(v.value));continue}if(v.type===2){let i=[];C.push(i),S(),O=4,C=i;continue}if(v.type===3){let i={};b&&(i.$vscodeTextmateLocation=v.toLocation(d)),C.push(i),S(),O=1,C=i;continue}g("unexpected token in array")}g("unknown state")}return A.length!==0&&g("unclosed constructs"),C};class o{constructor(d){this.source=d,this.pos=0,this.len=d.length,this.line=1,this.char=0}}class f{constructor(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}toLocation(d){return{filename:d,line:this.line,char:this.char}}}function u(_,d){d.value=null,d.type=0,d.offset=-1,d.len=-1,d.line=-1,d.char=-1;let b,k=_.source,v=_.pos,O=_.len,C=_.line,y=_.char;for(;;){if(v>=O)return!1;if(b=k.charCodeAt(v),b!==32&&b!==9&&b!==13){if(b!==10)break;v++,C++,y=0}else v++,y++}if(d.offset=v,d.line=C,d.char=y,b===34){for(d.type=1,v++,y++;;){if(v>=O)return!1;if(b=k.charCodeAt(v),v++,y++,b!==92){if(b===34)break}else v++,y++}d.value=k.substring(d.offset+1,v-1).replace(/\\u([0-9A-Fa-f]{4})/g,(A,S)=>String.fromCodePoint(parseInt(S,16))).replace(/\\(.)/g,(A,S)=>{switch(S){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:a(_,"invalid escape sequence")}throw new Error("unreachable")})}else if(b===91)d.type=2,v++,y++;else if(b===123)d.type=3,v++,y++;else if(b===93)d.type=4,v++,y++;else if(b===125)d.type=5,v++,y++;else if(b===58)d.type=6,v++,y++;else if(b===44)d.type=7,v++,y++;else if(b===110){if(d.type=8,v++,y++,b=k.charCodeAt(v),b!==117||(v++,y++,b=k.charCodeAt(v),b!==108)||(v++,y++,b=k.charCodeAt(v),b!==108))return!1;v++,y++}else if(b===116){if(d.type=9,v++,y++,b=k.charCodeAt(v),b!==114||(v++,y++,b=k.charCodeAt(v),b!==117)||(v++,y++,b=k.charCodeAt(v),b!==101))return!1;v++,y++}else if(b===102){if(d.type=10,v++,y++,b=k.charCodeAt(v),b!==97||(v++,y++,b=k.charCodeAt(v),b!==108)||(v++,y++,b=k.charCodeAt(v),b!==115)||(v++,y++,b=k.charCodeAt(v),b!==101))return!1;v++,y++}else for(d.type=11;;){if(v>=O)return!1;if(b=k.charCodeAt(v),!(b===46||b>=48&&b<=57||b===101||b===69||b===45||b===43))break;v++,y++}return d.len=v-d.offset,d.value===null&&(d.value=k.substr(d.offset,d.len)),_.pos=v,_.line=C,_.char=y,!0}},787:function(c,s,a){var o=this&&this.__createBinding||(Object.create?function(O,C,y,A){A===void 0&&(A=y),Object.defineProperty(O,A,{enumerable:!0,get:function(){return C[y]}})}:function(O,C,y,A){A===void 0&&(A=y),O[A]=C[y]}),f=this&&this.__exportStar||function(O,C){for(var y in O)y==="default"||Object.prototype.hasOwnProperty.call(C,y)||o(C,O,y)};Object.defineProperty(s,"__esModule",{value:!0}),s.applyStateStackDiff=s.diffStateStacksRefEq=s.parseRawGrammar=s.INITIAL=s.Registry=void 0;const u=a(391),_=a(50),d=a(652),b=a(583),k=a(965),v=a(442);Object.defineProperty(s,"applyStateStackDiff",{enumerable:!0,get:function(){return v.applyStateStackDiff}}),Object.defineProperty(s,"diffStateStacksRefEq",{enumerable:!0,get:function(){return v.diffStateStacksRefEq}}),f(a(44),s),s.Registry=class{constructor(O){this._options=O,this._syncRegistry=new d.SyncRegistry(b.Theme.createFromRawTheme(O.theme,O.colorMap),O.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(O,C){this._syncRegistry.setTheme(b.Theme.createFromRawTheme(O,C))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(O,C,y){return this.loadGrammarWithConfiguration(O,C,{embeddedLanguages:y})}loadGrammarWithConfiguration(O,C,y){return this._loadGrammar(O,C,y.embeddedLanguages,y.tokenTypes,new u.BalancedBracketSelectors(y.balancedBracketSelectors||[],y.unbalancedBracketSelectors||[]))}loadGrammar(O){return this._loadGrammar(O,0,null,null,null)}async _loadGrammar(O,C,y,A,S){const T=new k.ScopeDependencyProcessor(this._syncRegistry,O);for(;T.Q.length>0;)await Promise.all(T.Q.map(g=>this._loadSingleGrammar(g.scopeName))),T.processQueue();return this._grammarForScopeName(O,C,y,A,S)}async _loadSingleGrammar(O){return this._ensureGrammarCache.has(O)||this._ensureGrammarCache.set(O,this._doLoadSingleGrammar(O)),this._ensureGrammarCache.get(O)}async _doLoadSingleGrammar(O){const C=await this._options.loadGrammar(O);if(C){const y=typeof this._options.getInjections=="function"?this._options.getInjections(O):void 0;this._syncRegistry.addGrammar(C,y)}}async addGrammar(O,C=[],y=0,A=null){return this._syncRegistry.addGrammar(O,C),await this._grammarForScopeName(O.scopeName,y,A)}_grammarForScopeName(O,C=0,y=null,A=null,S=null){return this._syncRegistry.grammarForScopeName(O,C,y,A,S)}},s.INITIAL=u.StateStackImpl.NULL,s.parseRawGrammar=_.parseRawGrammar},736:(c,s)=>{function a(o){return!!o&&!!o.match(/[\w\.:]+/)}Object.defineProperty(s,"__esModule",{value:!0}),s.createMatchers=void 0,s.createMatchers=function(o,f){const u=[],_=function(v){let O=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,C=O.exec(v);return{next:()=>{if(!C)return null;const y=C[0];return C=O.exec(v),y}}}(o);let d=_.next();for(;d!==null;){let v=0;if(d.length===2&&d.charAt(1)===":"){switch(d.charAt(0)){case"R":v=1;break;case"L":v=-1;break;default:console.log(`Unknown priority ${d} in scope selector`)}d=_.next()}let O=k();if(u.push({matcher:O,priority:v}),d!==",")break;d=_.next()}return u;function b(){if(d==="-"){d=_.next();const v=b();return O=>!!v&&!v(O)}if(d==="("){d=_.next();const v=function(){const O=[];let C=k();for(;C&&(O.push(C),d==="|"||d===",");){do d=_.next();while(d==="|"||d===",");C=k()}return y=>O.some(A=>A(y))}();return d===")"&&(d=_.next()),v}if(a(d)){const v=[];do v.push(d),d=_.next();while(a(d));return O=>f(v,O)}return null}function k(){const v=[];let O=b();for(;O;)v.push(O),O=b();return C=>v.every(y=>y(C))}}},44:(c,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.disposeOnigString=void 0,s.disposeOnigString=function(a){typeof a.dispose=="function"&&a.dispose()}},50:(c,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.parseRawGrammar=void 0;const o=a(69),f=a(350),u=a(974);s.parseRawGrammar=function(_,d=null){return d!==null&&/\.json$/.test(d)?(b=_,k=d,f.DebugFlags.InDebugMode?u.parseJSON(b,k,!0):JSON.parse(b)):function(v,O){return f.DebugFlags.InDebugMode?o.parseWithLocation(v,O,"$vscodeTextmateLocation"):o.parsePLIST(v)}(_,d);var b,k}},69:(c,s)=>{function a(o,f,u){const _=o.length;let d=0,b=1,k=0;function v(L){if(u===null)d+=L;else for(;L>0;)o.charCodeAt(d)===10?(d++,b++,k=0):(d++,k++),L--}function O(L){u===null?d=L:v(L-d)}function C(){for(;d<_;){let L=o.charCodeAt(d);if(L!==32&&L!==9&&L!==13&&L!==10)break;v(1)}}function y(L){return o.substr(d,L.length)===L&&(v(L.length),!0)}function A(L){let G=o.indexOf(L,d);O(G!==-1?G+L.length:_)}function S(L){let G=o.indexOf(L,d);if(G!==-1){let z=o.substring(d,G);return O(G+L.length),z}{let z=o.substr(d);return O(_),z}}_>0&&o.charCodeAt(0)===65279&&(d=1);let T=0,g=null,i=[],p=[],h=null;function l(L,G){i.push(T),p.push(g),T=L,g=G}function m(){if(i.length===0)return w("illegal state stack");T=i.pop(),g=p.pop()}function w(L){throw new Error("Near offset "+d+": "+L+" ~~~"+o.substr(d,50)+"~~~")}const E=function(){if(h===null)return w("missing <key>");let L={};u!==null&&(L[u]={filename:f,line:b,char:k}),g[h]=L,h=null,l(1,L)},P=function(){if(h===null)return w("missing <key>");let L=[];g[h]=L,h=null,l(2,L)},I=function(){let L={};u!==null&&(L[u]={filename:f,line:b,char:k}),g.push(L),l(1,L)},$=function(){let L=[];g.push(L),l(2,L)};function R(){if(T!==1)return w("unexpected </dict>");m()}function F(){return T===1||T!==2?w("unexpected </array>"):void m()}function B(L){if(T===1){if(h===null)return w("missing <key>");g[h]=L,h=null}else T===2?g.push(L):g=L}function j(L){if(isNaN(L))return w("cannot parse float");if(T===1){if(h===null)return w("missing <key>");g[h]=L,h=null}else T===2?g.push(L):g=L}function V(L){if(isNaN(L))return w("cannot parse integer");if(T===1){if(h===null)return w("missing <key>");g[h]=L,h=null}else T===2?g.push(L):g=L}function te(L){if(T===1){if(h===null)return w("missing <key>");g[h]=L,h=null}else T===2?g.push(L):g=L}function Z(L){if(T===1){if(h===null)return w("missing <key>");g[h]=L,h=null}else T===2?g.push(L):g=L}function X(L){if(T===1){if(h===null)return w("missing <key>");g[h]=L,h=null}else T===2?g.push(L):g=L}function H(){let L=S(">"),G=!1;return L.charCodeAt(L.length-1)===47&&(G=!0,L=L.substring(0,L.length-1)),{name:L.trim(),isClosed:G}}function K(L){if(L.isClosed)return"";let G=S("</");return A(">"),G.replace(/&#([0-9]+);/g,function(z,ee){return String.fromCodePoint(parseInt(ee,10))}).replace(/&#x([0-9a-f]+);/g,function(z,ee){return String.fromCodePoint(parseInt(ee,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(z){switch(z){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return z})}for(;d<_&&(C(),!(d>=_));){const L=o.charCodeAt(d);if(v(1),L!==60)return w("expected <");if(d>=_)return w("unexpected end of input");const G=o.charCodeAt(d);if(G===63){v(1),A("?>");continue}if(G===33){if(v(1),y("--")){A("-->");continue}A(">");continue}if(G===47){if(v(1),C(),y("plist")){A(">");continue}if(y("dict")){A(">"),R();continue}if(y("array")){A(">"),F();continue}return w("unexpected closed tag")}let z=H();switch(z.name){case"dict":T===1?E():T===2?I():(g={},u!==null&&(g[u]={filename:f,line:b,char:k}),l(1,g)),z.isClosed&&R();continue;case"array":T===1?P():T===2?$():(g=[],l(2,g)),z.isClosed&&F();continue;case"key":ne=K(z),T!==1?w("unexpected <key>"):h!==null?w("too many <key>"):h=ne;continue;case"string":B(K(z));continue;case"real":j(parseFloat(K(z)));continue;case"integer":V(parseInt(K(z),10));continue;case"date":te(new Date(K(z)));continue;case"data":Z(K(z));continue;case"true":K(z),X(!0);continue;case"false":K(z),X(!1);continue}if(!/^plist/.test(z.name))return w("unexpected opened tag "+z.name)}var ne;return g}Object.defineProperty(s,"__esModule",{value:!0}),s.parsePLIST=s.parseWithLocation=void 0,s.parseWithLocation=function(o,f,u){return a(o,f,u)},s.parsePLIST=function(o){return a(o,null,null)}},652:(c,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SyncRegistry=void 0;const o=a(391);s.SyncRegistry=class{constructor(f,u){this._onigLibPromise=u,this._grammars=new Map,this._rawGrammars=new Map,this._injectionGrammars=new Map,this._theme=f}dispose(){for(const f of this._grammars.values())f.dispose()}setTheme(f){this._theme=f}getColorMap(){return this._theme.getColorMap()}addGrammar(f,u){this._rawGrammars.set(f.scopeName,f),u&&this._injectionGrammars.set(f.scopeName,u)}lookup(f){return this._rawGrammars.get(f)}injections(f){return this._injectionGrammars.get(f)}getDefaults(){return this._theme.getDefaults()}themeMatch(f){return this._theme.match(f)}async grammarForScopeName(f,u,_,d,b){if(!this._grammars.has(f)){let k=this._rawGrammars.get(f);if(!k)return null;this._grammars.set(f,o.createGrammar(f,k,u,_,d,b,this,await this._onigLibPromise))}return this._grammars.get(f)}}},792:(c,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CompiledRule=s.RegExpSourceList=s.RegExpSource=s.RuleFactory=s.BeginWhileRule=s.BeginEndRule=s.IncludeOnlyRule=s.MatchRule=s.CaptureRule=s.Rule=s.ruleIdToNumber=s.ruleIdFromNumber=s.whileRuleId=s.endRuleId=void 0;const o=a(878),f=a(965),u=/\\(\d+)/,_=/\\(\d+)/g;s.endRuleId=-1,s.whileRuleId=-2,s.ruleIdFromNumber=function(g){return g},s.ruleIdToNumber=function(g){return g};class d{constructor(i,p,h,l){this.$location=i,this.id=p,this._name=h||null,this._nameIsCapturing=o.RegexSource.hasCaptures(this._name),this._contentName=l||null,this._contentNameIsCapturing=o.RegexSource.hasCaptures(this._contentName)}get debugName(){const i=this.$location?`${o.basename(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${i}`}getName(i,p){return this._nameIsCapturing&&this._name!==null&&i!==null&&p!==null?o.RegexSource.replaceCaptures(this._name,i,p):this._name}getContentName(i,p){return this._contentNameIsCapturing&&this._contentName!==null?o.RegexSource.replaceCaptures(this._contentName,i,p):this._contentName}}s.Rule=d;class b extends d{constructor(i,p,h,l,m){super(i,p,h,l),this.retokenizeCapturedWithRuleId=m}dispose(){}collectPatterns(i,p){throw new Error("Not supported!")}compile(i,p){throw new Error("Not supported!")}compileAG(i,p,h,l){throw new Error("Not supported!")}}s.CaptureRule=b;class k extends d{constructor(i,p,h,l,m){super(i,p,h,null),this._match=new A(l,this.id),this.captures=m,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(i,p){p.push(this._match)}compile(i,p){return this._getCachedCompiledPatterns(i).compile(i)}compileAG(i,p,h,l){return this._getCachedCompiledPatterns(i).compileAG(i,h,l)}_getCachedCompiledPatterns(i){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new S,this.collectPatterns(i,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}s.MatchRule=k;class v extends d{constructor(i,p,h,l,m){super(i,p,h,l),this.patterns=m.patterns,this.hasMissingPatterns=m.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(i,p){for(const h of this.patterns)i.getRule(h).collectPatterns(i,p)}compile(i,p){return this._getCachedCompiledPatterns(i).compile(i)}compileAG(i,p,h,l){return this._getCachedCompiledPatterns(i).compileAG(i,h,l)}_getCachedCompiledPatterns(i){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new S,this.collectPatterns(i,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}s.IncludeOnlyRule=v;class O extends d{constructor(i,p,h,l,m,w,E,P,I,$){super(i,p,h,l),this._begin=new A(m,this.id),this.beginCaptures=w,this._end=new A(E||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=P,this.applyEndPatternLast=I||!1,this.patterns=$.patterns,this.hasMissingPatterns=$.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(i,p){return this._end.resolveBackReferences(i,p)}collectPatterns(i,p){p.push(this._begin)}compile(i,p){return this._getCachedCompiledPatterns(i,p).compile(i)}compileAG(i,p,h,l){return this._getCachedCompiledPatterns(i,p).compileAG(i,h,l)}_getCachedCompiledPatterns(i,p){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new S;for(const h of this.patterns)i.getRule(h).collectPatterns(i,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,p):this._cachedCompiledPatterns.setSource(0,p)),this._cachedCompiledPatterns}}s.BeginEndRule=O;class C extends d{constructor(i,p,h,l,m,w,E,P,I){super(i,p,h,l),this._begin=new A(m,this.id),this.beginCaptures=w,this.whileCaptures=P,this._while=new A(E,s.whileRuleId),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=I.patterns,this.hasMissingPatterns=I.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(i,p){return this._while.resolveBackReferences(i,p)}collectPatterns(i,p){p.push(this._begin)}compile(i,p){return this._getCachedCompiledPatterns(i).compile(i)}compileAG(i,p,h,l){return this._getCachedCompiledPatterns(i).compileAG(i,h,l)}_getCachedCompiledPatterns(i){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new S;for(const p of this.patterns)i.getRule(p).collectPatterns(i,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(i,p){return this._getCachedCompiledWhilePatterns(i,p).compile(i)}compileWhileAG(i,p,h,l){return this._getCachedCompiledWhilePatterns(i,p).compileAG(i,h,l)}_getCachedCompiledWhilePatterns(i,p){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new S,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,p||""),this._cachedCompiledWhilePatterns}}s.BeginWhileRule=C;class y{static createCaptureRule(i,p,h,l,m){return i.registerRule(w=>new b(p,w,h,l,m))}static getCompiledRuleId(i,p,h){return i.id||p.registerRule(l=>{if(i.id=l,i.match)return new k(i.$vscodeTextmateLocation,i.id,i.name,i.match,y._compileCaptures(i.captures,p,h));if(i.begin===void 0){i.repository&&(h=o.mergeObjects({},h,i.repository));let m=i.patterns;return m===void 0&&i.include&&(m=[{include:i.include}]),new v(i.$vscodeTextmateLocation,i.id,i.name,i.contentName,y._compilePatterns(m,p,h))}return i.while?new C(i.$vscodeTextmateLocation,i.id,i.name,i.contentName,i.begin,y._compileCaptures(i.beginCaptures||i.captures,p,h),i.while,y._compileCaptures(i.whileCaptures||i.captures,p,h),y._compilePatterns(i.patterns,p,h)):new O(i.$vscodeTextmateLocation,i.id,i.name,i.contentName,i.begin,y._compileCaptures(i.beginCaptures||i.captures,p,h),i.end,y._compileCaptures(i.endCaptures||i.captures,p,h),i.applyEndPatternLast,y._compilePatterns(i.patterns,p,h))}),i.id}static _compileCaptures(i,p,h){let l=[];if(i){let m=0;for(const w in i){if(w==="$vscodeTextmateLocation")continue;const E=parseInt(w,10);E>m&&(m=E)}for(let w=0;w<=m;w++)l[w]=null;for(const w in i){if(w==="$vscodeTextmateLocation")continue;const E=parseInt(w,10);let P=0;i[w].patterns&&(P=y.getCompiledRuleId(i[w],p,h)),l[E]=y.createCaptureRule(p,i[w].$vscodeTextmateLocation,i[w].name,i[w].contentName,P)}}return l}static _compilePatterns(i,p,h){let l=[];if(i)for(let m=0,w=i.length;m<w;m++){const E=i[m];let P=-1;if(E.include){const I=f.parseInclude(E.include);switch(I.kind){case 0:case 1:P=y.getCompiledRuleId(h[E.include],p,h);break;case 2:let $=h[I.ruleName];$&&(P=y.getCompiledRuleId($,p,h));break;case 3:case 4:const R=I.scopeName,F=I.kind===4?I.ruleName:null,B=p.getExternalGrammar(R,h);if(B)if(F){let j=B.repository[F];j&&(P=y.getCompiledRuleId(j,p,B.repository))}else P=y.getCompiledRuleId(B.repository.$self,p,B.repository)}}else P=y.getCompiledRuleId(E,p,h);if(P!==-1){const I=p.getRule(P);let $=!1;if((I instanceof v||I instanceof O||I instanceof C)&&I.hasMissingPatterns&&I.patterns.length===0&&($=!0),$)continue;l.push(P)}}return{patterns:l,hasMissingPatterns:(i?i.length:0)!==l.length}}}s.RuleFactory=y;class A{constructor(i,p){if(i){const h=i.length;let l=0,m=[],w=!1;for(let E=0;E<h;E++)if(i.charAt(E)==="\\"&&E+1<h){const P=i.charAt(E+1);P==="z"?(m.push(i.substring(l,E)),m.push("$(?!\\n)(?<!\\n)"),l=E+2):P!=="A"&&P!=="G"||(w=!0),E++}this.hasAnchor=w,l===0?this.source=i:(m.push(i.substring(l,h)),this.source=m.join(""))}else this.hasAnchor=!1,this.source=i;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=p,this.hasBackReferences=u.test(this.source)}clone(){return new A(this.source,this.ruleId)}setSource(i){this.source!==i&&(this.source=i,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(i,p){let h=p.map(l=>i.substring(l.start,l.end));return _.lastIndex=0,this.source.replace(_,(l,m)=>o.escapeRegExpCharacters(h[parseInt(m,10)]||""))}_buildAnchorCache(){let i,p,h,l,m=[],w=[],E=[],P=[];for(i=0,p=this.source.length;i<p;i++)h=this.source.charAt(i),m[i]=h,w[i]=h,E[i]=h,P[i]=h,h==="\\"&&i+1<p&&(l=this.source.charAt(i+1),l==="A"?(m[i+1]="",w[i+1]="",E[i+1]="A",P[i+1]="A"):l==="G"?(m[i+1]="",w[i+1]="G",E[i+1]="",P[i+1]="G"):(m[i+1]=l,w[i+1]=l,E[i+1]=l,P[i+1]=l),i++);return{A0_G0:m.join(""),A0_G1:w.join(""),A1_G0:E.join(""),A1_G1:P.join("")}}resolveAnchors(i,p){return this.hasAnchor&&this._anchorCache?i?p?this._anchorCache.A1_G1:this._anchorCache.A1_G0:p?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source}}s.RegExpSource=A;class S{constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(i){this._items.push(i),this._hasAnchors=this._hasAnchors||i.hasAnchor}unshift(i){this._items.unshift(i),this._hasAnchors=this._hasAnchors||i.hasAnchor}length(){return this._items.length}setSource(i,p){this._items[i].source!==p&&(this._disposeCaches(),this._items[i].setSource(p))}compile(i){if(!this._cached){let p=this._items.map(h=>h.source);this._cached=new T(i,p,this._items.map(h=>h.ruleId))}return this._cached}compileAG(i,p,h){return this._hasAnchors?p?h?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(i,p,h)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(i,p,h)),this._anchorCache.A1_G0):h?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(i,p,h)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(i,p,h)),this._anchorCache.A0_G0):this.compile(i)}_resolveAnchors(i,p,h){let l=this._items.map(m=>m.resolveAnchors(p,h));return new T(i,l,this._items.map(m=>m.ruleId))}}s.RegExpSourceList=S;class T{constructor(i,p,h){this.regExps=p,this.rules=h,this.scanner=i.createOnigScanner(p)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const i=[];for(let p=0,h=this.rules.length;p<h;p++)i.push("   - "+this.rules[p]+": "+this.regExps[p]);return i.join(`
`)}findNextMatchSync(i,p,h){const l=this.scanner.findNextMatchSync(i,p,h);return l?{ruleId:this.rules[l.index],captureIndices:l.captureIndices}:null}}s.CompiledRule=T},583:(c,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ThemeTrieElement=s.ThemeTrieElementRule=s.ColorMap=s.fontStyleToString=s.ParsedThemeRule=s.parseTheme=s.StyleAttributes=s.ScopeStack=s.Theme=void 0;const o=a(878);class f{constructor(S,T,g){this._colorMap=S,this._defaults=T,this._root=g,this._cachedMatchRoot=new o.CachedFn(i=>this._root.match(i))}static createFromRawTheme(S,T){return this.createFromParsedTheme(b(S),T)}static createFromParsedTheme(S,T){return function(g,i){g.sort((P,I)=>{let $=o.strcmp(P.scope,I.scope);return $!==0?$:($=o.strArrCmp(P.parentScopes,I.parentScopes),$!==0?$:P.index-I.index)});let p=0,h="#000000",l="#ffffff";for(;g.length>=1&&g[0].scope==="";){let P=g.shift();P.fontStyle!==-1&&(p=P.fontStyle),P.foreground!==null&&(h=P.foreground),P.background!==null&&(l=P.background)}let m=new v(i),w=new d(p,m.getId(h),m.getId(l)),E=new y(new C(0,null,-1,0,0),[]);for(let P=0,I=g.length;P<I;P++){let $=g[P];E.insert(0,$.scope,$.parentScopes,$.fontStyle,m.getId($.foreground),m.getId($.background))}return new f(m,w,E)}(S,T)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(S){if(S===null)return this._defaults;const T=S.scopeName,g=this._cachedMatchRoot.get(T).find(i=>function(p,h){if(h.length===0)return!0;for(let l=0;l<h.length;l++){let m=h[l],w=!1;if(m===">"){if(l===h.length-1)return!1;m=h[++l],w=!0}for(;p&&!_(p.scopeName,m);){if(w)return!1;p=p.parent}if(!p)return!1;p=p.parent}return!0}(S.parent,i.parentScopes));return g?new d(g.fontStyle,g.foreground,g.background):null}}s.Theme=f;class u{constructor(S,T){this.parent=S,this.scopeName=T}static push(S,T){for(const g of T)S=new u(S,g);return S}static from(...S){let T=null;for(let g=0;g<S.length;g++)T=new u(T,S[g]);return T}push(S){return new u(this,S)}getSegments(){let S=this;const T=[];for(;S;)T.push(S.scopeName),S=S.parent;return T.reverse(),T}toString(){return this.getSegments().join(" ")}extends(S){return this===S||this.parent!==null&&this.parent.extends(S)}getExtensionIfDefined(S){const T=[];let g=this;for(;g&&g!==S;)T.push(g.scopeName),g=g.parent;return g===S?T.reverse():void 0}}function _(A,S){return S===A||A.startsWith(S)&&A[S.length]==="."}s.ScopeStack=u;class d{constructor(S,T,g){this.fontStyle=S,this.foregroundId=T,this.backgroundId=g}}function b(A){if(!A)return[];if(!A.settings||!Array.isArray(A.settings))return[];let S=A.settings,T=[],g=0;for(let i=0,p=S.length;i<p;i++){let h,l=S[i];if(!l.settings)continue;if(typeof l.scope=="string"){let P=l.scope;P=P.replace(/^[,]+/,""),P=P.replace(/[,]+$/,""),h=P.split(",")}else h=Array.isArray(l.scope)?l.scope:[""];let m=-1;if(typeof l.settings.fontStyle=="string"){m=0;let P=l.settings.fontStyle.split(" ");for(let I=0,$=P.length;I<$;I++)switch(P[I]){case"italic":m|=1;break;case"bold":m|=2;break;case"underline":m|=4;break;case"strikethrough":m|=8}}let w=null;typeof l.settings.foreground=="string"&&o.isValidHexColor(l.settings.foreground)&&(w=l.settings.foreground);let E=null;typeof l.settings.background=="string"&&o.isValidHexColor(l.settings.background)&&(E=l.settings.background);for(let P=0,I=h.length;P<I;P++){let $=h[P].trim().split(" "),R=$[$.length-1],F=null;$.length>1&&(F=$.slice(0,$.length-1),F.reverse()),T[g++]=new k(R,F,i,m,w,E)}}return T}s.StyleAttributes=d,s.parseTheme=b;class k{constructor(S,T,g,i,p,h){this.scope=S,this.parentScopes=T,this.index=g,this.fontStyle=i,this.foreground=p,this.background=h}}s.ParsedThemeRule=k,s.fontStyleToString=function(A){if(A===-1)return"not set";let S="";return 1&A&&(S+="italic "),2&A&&(S+="bold "),4&A&&(S+="underline "),8&A&&(S+="strikethrough "),S===""&&(S="none"),S.trim()};class v{constructor(S){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(S)){this._isFrozen=!0;for(let T=0,g=S.length;T<g;T++)this._color2id[S[T]]=T,this._id2color[T]=S[T]}else this._isFrozen=!1}getId(S){if(S===null)return 0;S=S.toUpperCase();let T=this._color2id[S];if(T)return T;if(this._isFrozen)throw new Error(`Missing color in color map - ${S}`);return T=++this._lastColorId,this._color2id[S]=T,this._id2color[T]=S,T}getColorMap(){return this._id2color.slice(0)}}s.ColorMap=v;const O=Object.freeze([]);class C{constructor(S,T,g,i,p){this.scopeDepth=S,this.parentScopes=T||O,this.fontStyle=g,this.foreground=i,this.background=p}clone(){return new C(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(S){let T=[];for(let g=0,i=S.length;g<i;g++)T[g]=S[g].clone();return T}acceptOverwrite(S,T,g,i){this.scopeDepth>S?console.log("how did this happen?"):this.scopeDepth=S,T!==-1&&(this.fontStyle=T),g!==0&&(this.foreground=g),i!==0&&(this.background=i)}}s.ThemeTrieElementRule=C;class y{constructor(S,T=[],g={}){this._mainRule=S,this._children=g,this._rulesWithParentScopes=T}static _cmpBySpecificity(S,T){if(S.scopeDepth!==T.scopeDepth)return T.scopeDepth-S.scopeDepth;let g=0,i=0;for(;S.parentScopes[g]===">"&&g++,T.parentScopes[i]===">"&&i++,!(g>=S.parentScopes.length||i>=T.parentScopes.length);){const p=T.parentScopes[i].length-S.parentScopes[g].length;if(p!==0)return p;g++,i++}return T.parentScopes.length-S.parentScopes.length}match(S){if(S!==""){let g,i,p=S.indexOf(".");if(p===-1?(g=S,i=""):(g=S.substring(0,p),i=S.substring(p+1)),this._children.hasOwnProperty(g))return this._children[g].match(i)}const T=this._rulesWithParentScopes.concat(this._mainRule);return T.sort(y._cmpBySpecificity),T}insert(S,T,g,i,p,h){if(T==="")return void this._doInsertHere(S,g,i,p,h);let l,m,w,E=T.indexOf(".");E===-1?(l=T,m=""):(l=T.substring(0,E),m=T.substring(E+1)),this._children.hasOwnProperty(l)?w=this._children[l]:(w=new y(this._mainRule.clone(),C.cloneArr(this._rulesWithParentScopes)),this._children[l]=w),w.insert(S+1,m,g,i,p,h)}_doInsertHere(S,T,g,i,p){if(T!==null){for(let h=0,l=this._rulesWithParentScopes.length;h<l;h++){let m=this._rulesWithParentScopes[h];if(o.strArrCmp(m.parentScopes,T)===0)return void m.acceptOverwrite(S,g,i,p)}g===-1&&(g=this._mainRule.fontStyle),i===0&&(i=this._mainRule.foreground),p===0&&(p=this._mainRule.background),this._rulesWithParentScopes.push(new C(S,T,g,i,p))}else this._mainRule.acceptOverwrite(S,g,i,p)}}s.ThemeTrieElement=y},878:(c,s)=>{function a(u){return Array.isArray(u)?function(_){let d=[];for(let b=0,k=_.length;b<k;b++)d[b]=a(_[b]);return d}(u):typeof u=="object"?function(_){let d={};for(let b in _)d[b]=a(_[b]);return d}(u):u}Object.defineProperty(s,"__esModule",{value:!0}),s.performanceNow=s.CachedFn=s.escapeRegExpCharacters=s.isValidHexColor=s.strArrCmp=s.strcmp=s.RegexSource=s.basename=s.mergeObjects=s.clone=void 0,s.clone=function(u){return a(u)},s.mergeObjects=function(u,..._){return _.forEach(d=>{for(let b in d)u[b]=d[b]}),u},s.basename=function u(_){const d=~_.lastIndexOf("/")||~_.lastIndexOf("\\");return d===0?_:~d==_.length-1?u(_.substring(0,_.length-1)):_.substr(1+~d)};let o=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g;function f(u,_){return u<_?-1:u>_?1:0}s.RegexSource=class{static hasCaptures(u){return u!==null&&(o.lastIndex=0,o.test(u))}static replaceCaptures(u,_,d){return u.replace(o,(b,k,v,O)=>{let C=d[parseInt(k||v,10)];if(!C)return b;{let y=_.substring(C.start,C.end);for(;y[0]===".";)y=y.substring(1);switch(O){case"downcase":return y.toLowerCase();case"upcase":return y.toUpperCase();default:return y}}})}},s.strcmp=f,s.strArrCmp=function(u,_){if(u===null&&_===null)return 0;if(!u)return-1;if(!_)return 1;let d=u.length,b=_.length;if(d===b){for(let k=0;k<d;k++){let v=f(u[k],_[k]);if(v!==0)return v}return 0}return d-b},s.isValidHexColor=function(u){return!!(/^#[0-9a-f]{6}$/i.test(u)||/^#[0-9a-f]{8}$/i.test(u)||/^#[0-9a-f]{3}$/i.test(u)||/^#[0-9a-f]{4}$/i.test(u))},s.escapeRegExpCharacters=function(u){return u.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},s.CachedFn=class{constructor(u){this.fn=u,this.cache=new Map}get(u){if(this.cache.has(u))return this.cache.get(u);const _=this.fn(u);return this.cache.set(u,_),_}},s.performanceNow=typeof performance>"u"?function(){return Date.now()}:function(){return performance.now()}}},r={};return function c(s){var a=r[s];if(a!==void 0)return a.exports;var o=r[s]={exports:{}};return n[s].call(o.exports,o,o.exports,c),o.exports}(787)})())})(ks);var Pn=ks.exports;function Nr(t,e,n){let r;_e(()=>{var c;const s=(c=e.style)==null?void 0:c[n];s!==r&&((r=s)!=null?t.style.setProperty(n,typeof s>"u"?null:s.toString()):t.style.removeProperty(n))})}function ia(t){let e=parseInt(t.slice(1),16),n=e>>16&255,r=e>>8&255,c=e&255;return[n,r,c]}function oa(t,e,n){const r=[t,e,n].map(c=>(c/=255,c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)));return r[0]*.2126+r[1]*.7152+r[2]*.0722}function aa(t,e,n){const r=typeof t=="function"?t():t;return r?e(r):n?n():void 0}function gn(t,e,n){return()=>aa(t,e,n)}function Rr(...t){function e(){const n=new Array(t.length);for(let r=0;r<t.length;r++){const c=typeof t[r]=="function"?t[r]():t[r];if(!c)return;n[r]=c}return n}return e}function ca(t){return t===0?1:Math.floor(Math.log10(Math.abs(t)))+1}function Ir(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function la(t){let e=0;for(const n of t)n.length>e&&(e=n.length);return e}class ua{constructor(){Es(this,rt,[])}peek(){return Xe(this,rt)[Xe(this,rt).length-1]}push(e){Xe(this,rt).push(e)}pop(){return Xe(this,rt).pop()}}rt=new WeakMap;var fa=Be("<pre part=line>"),ha=Be("<div part=root><code part=code></code><textarea part=textarea autocomplete=off inputmode=none></textarea><code aria-hidden>&nbsp;");const Ce=100,Mt=50,mn={},da=new Pn.Registry({onigLib:sa,loadGrammar:t=>Ts("grammar",t).then(e=>(e.scopeName=t,e))}),[pa]=Ve(()=>je(async()=>fetch(As("oniguruma",null)).then(t=>t.arrayBuffer()).then(t=>Xn.loadWASM(t)).then(()=>!0)));class ga{constructor(e){Yo(this,"themeData"),Es(this,mt,{}),this.themeData=e}resolveScope(e){const n=e.join("-");if(Xe(this,mt)[n])return Xe(this,mt)[n];let r={};for(let c=0;c<e.length;c++){const s=e[c];for(const a of this.themeData.tokenColors){const o=Array.isArray(a.scope)?a.scope:[a.scope];for(const f of o)s.startsWith(f||"")&&(r={...r,...a.settings})}}return Xe(this,mt)[n]=r}getBackgroundColor(){var e;return((e=this.themeData.colors)==null?void 0:e["editor.background"])||void 0}getForegroundColor(){var e;return((e=this.themeData.colors)==null?void 0:e["editor.foreground"])||void 0}}mt=new WeakMap;function ma(t,e){let n=!1;return t===e?!0:!t||!e?!1:(t.ruleId!==e.ruleId&&(n=!0),t.depth!==e.depth&&(n=!0),xr(t.nameScopesList,e.nameScopesList)||(n=!0),xr(t.contentNameScopesList,e.contentNameScopesList)||(n=!0),!n)}function xr(t,e){var n,r;return!t&&!e?!0:!(!t||!e||((n=t.scopePath)==null?void 0:n.scopeName)!==((r=e.scopePath)==null?void 0:r.scopeName)||t.tokenAttributes!==e.tokenAttributes)}const Ns=Xr(null);function ya(){const t=Jr(Ns);if(!t)throw"useTextarea should be used in a descendant of TmTextarea";return t}function _a(t){function e(n){const r=ya(),c=r.segments.peek(),[s,a]=ue(c?.stack||Pn.INITIAL,{equals:ma}),o=n.index*Ce,f=o+Ce,u=ea(gn(Rr(()=>r.tokenizer,()=>r.theme),([_,d])=>{let b=c?.stack||Pn.INITIAL;const k=r.lines.slice(o,f).map(v=>{const{ruleStack:O,tokens:C}=_.tokenizeLine(v,b);return b=O,C.map(y=>{const A=d.resolveScope(y.scopes),S=v.slice(y.startIndex,y.endIndex);return`<span style="${A.foreground?`color:${A.foreground};`:""}${A.fontStyle?`text-decoration:${A.fontStyle}`:""}">${Ir(S)}</span>`}).join("")});return a(b),k},()=>r.lines.slice(o,f).map(Ir)));return r.segments.push({get stack(){return s()}}),Se(()=>r.segments.pop()),Ae(qt,{get when(){return r.isSegmentVisible(n.index*Ce)},get children(){return Ae(rr,{get each(){return Array.from({length:Ce})},children:(_,d)=>Ae(qt,{get when(){return r.isVisible(n.index*Ce+d)},get children(){var b=fa();return _e(k=>{var v,O=t.line,C=(v=u())==null?void 0:v[d],y=n.index*Ce+d;return O!==k.e&&dt(b,k.e=O),C!==k.t&&(b.innerHTML=k.t=C),y!==k.a&&((k.a=y)!=null?b.style.setProperty("--tm-line-number",y):b.style.removeProperty("--tm-line-number")),k},{e:void 0,t:void 0,a:void 0}),b}})})}})}return function(r){const[c,s]=An(ct({editable:!0},r),["class","grammar","onInput","value","style","theme","editable","onScroll","textareaRef"]);let a;const[o,f]=ue(),[u,_]=ue(),[d,b]=ue(0),[k,v]=ue(r.value),[O]=je(Rr(()=>r.grammar,pa),async([l])=>l in mn?mn[l]:mn[l]=await da.loadGrammar(l)),[C]=je(()=>r.theme,async l=>Ts("theme",l).then(m=>new ga(m))),y=de(()=>k().split(`
`)),A=de(()=>la(y())),S=de(()=>{var l;return Math.floor(d()/(((l=o())==null?void 0:l.height)||1))}),T=de(()=>{var l,m;return Math.floor((d()+(((l=u())==null?void 0:l.height)||0))/(((m=o())==null?void 0:m.height)||1))}),g=de(()=>Math.floor(S()/Ce)),i=de(()=>Math.ceil(T()/Ce)),p=gn(C,l=>{const m=l.getBackgroundColor(),w=oa(...ia(m));return`rgba(98, 114, 164, ${w>.9?.1:w<.1?.25:.175})`}),h=gn(()=>c.style,l=>An(l,["width","height"])[1]);return qr(()=>new ResizeObserver(([l])=>_(l?.contentRect)).observe(a)),_e(()=>v(r.value)),_e(()=>{var l;return console.log((l=C())==null?void 0:l.getForegroundColor())}),Ae(Ns.Provider,{get value(){return{get viewport(){return u()},get character(){return o()},get scrollTop(){return d()},get lines(){return y()},get theme(){return C()},get tokenizer(){return O()},segments:new ua,isVisible:er(()=>[S(),T()],(l,[m,w])=>l>y().length-1?!1:l+Mt>m&&l-Mt<w),isSegmentVisible:er(()=>[g(),i()],l=>{const m=Math.floor((l-Mt)/Ce),w=Math.ceil((l+Mt)/Ce);return m<=g()&&w>=i()||m>=g()&&m<=i()||w>=g()&&w<=i()})}},get children(){var l=ha(),m=l.firstChild,w=m.nextSibling,E=w.nextSibling;l.addEventListener("scroll",I=>{var $;b(I.currentTarget.scrollTop),($=r.onScroll)==null||$.call(r,I)}),yt(I=>{a=I,Nr(I,r,"width"),Nr(I,r,"height")},l),es(l,ct({get class(){return ta(t.container,c.class)},get style(){var I,$,R,F;return{"--tm-background-color":(I=C())==null?void 0:I.getBackgroundColor(),"--tm-char-height":`${(($=o())==null?void 0:$.height)||0}px`,"--tm-char-width":`${((R=o())==null?void 0:R.width)||0}px`,"--tm-foreground-color":(F=C())==null?void 0:F.getForegroundColor(),"--tm-line-count":y().length,"--tm-line-size":A(),"--tm-selection-color":p(),"--tm-line-digits":ca(y().length),...h()}}},s),!1,!0),jn(m,Ae(rr,{get each(){return Array.from({length:Math.ceil(y().length/Ce)})},children:(I,$)=>Ae(e,{index:$})})),w.$$keydown=I=>{if(I.key==="Enter"){I.preventDefault();const $=a.scrollTop,R=I.currentTarget.selectionStart,F=I.currentTarget.selectionEnd,B=I.currentTarget.value;I.currentTarget.value=v(B.substring(0,R)+`
`+B.substring(F)),I.currentTarget.selectionStart=I.currentTarget.selectionEnd=R+1,a.scrollTop=$}},w.addEventListener("scroll",I=>{I.preventDefault(),I.stopPropagation()});var P=c.textareaRef;return typeof P=="function"?yt(P,w):c.textareaRef=w,lt(w,"spellcheck",!1),w.addEventListener("input",I=>{var $;const F=I.currentTarget.value;v(F),($=c.onInput)==null||$.call(c,I)}),yt(I=>{new ResizeObserver(([$])=>{const{height:R,width:F}=getComputedStyle($.target);f({height:Number(R.replace("px","")),width:Number(F.replace("px",""))})}).observe(I)},E),_e(I=>{var $=t.code,R=t.textarea,F=!c.editable,B=y().length,j=t.character;return $!==I.e&&dt(m,I.e=$),R!==I.t&&dt(w,I.t=R),F!==I.a&&(w.disabled=I.a=F),B!==I.o&&lt(w,"rows",I.o=B),j!==I.i&&dt(E,I.i=j),I},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),_e(()=>w.value=c.value),l}})}}Mn(["keydown"]);var ba=Object.defineProperty,va=(t,e,n)=>e in t?ba(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Te=(t,e,n)=>(va(t,typeof e!="symbol"?e+"":e,n),n),Jn=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},he=(t,e,n)=>(Jn(t,e,"read from private field"),n?n.call(t):e.get(t)),ge=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},it=(t,e,n,r)=>(Jn(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ot=(t,e,n)=>(Jn(t,e,"access private method"),n),kn,Rs,Is,Bt,Pe,Yt,Vn,Et,Nn,xs,Rn,$s;function wa(t){var e,n,r,c,s,a,o,f,u,_;return _=class extends t{constructor(){super(...arguments),ge(this,n),ge(this,r),ge(this,a),ge(this,f),ge(this,e,new Set),ge(this,c,null),ge(this,s,null)}createEffect(d){ot(this,a,o).call(this,d)}stopEffects(){ot(this,f,u).call(this)}},e=new WeakMap,n=new WeakSet,r=new WeakSet,c=new WeakMap,s=new WeakMap,a=new WeakSet,o=function(d){if(!he(this,c))Ve(b=>{it(this,c,De()),it(this,s,b),ot(this,a,o).call(this,d)});else{let b=De();for(;b&&b!==he(this,c);)b=b?.owner??null;if(b===he(this,c))return ve(d);Kr(he(this,c),()=>ve(d))}},f=new WeakSet,u=function(){var d;(d=he(this,s))==null||d.call(this)},_}function Sa(t,e){let n=t,r;for(;n;){if(r=Object.getOwnPropertyDescriptor(n,e),r)return r.owner=n,r;n=n.__proto__}}const jt=new WeakMap;function Aa(t,...e){const n=e.length?e:Object.keys(t).concat(Object.getOwnPropertySymbols(t));for(const r of n)Ls(t,r);return t}let $r=!1;function Ta(){if($r)throw new Error('Export "createSignalAccessor" is internal to classy-solid only.');return $r=!0,Ls}const Wt=new WeakMap;function Ea(t,e){var n;return!!((n=Wt.get(t))!=null&&n.has(e))}function Lr(t,e){Wt.has(t)||Wt.set(t,new Set),Wt.get(t).add(e)}const Mr=new WeakSet;function Ls(t,e,n=ce(()=>t[e]),r=!1){var c;if(!r&&((c=jt.get(t))!=null&&c.has(e))||t[we])return;let a=Sa(t,e),o,f;if(a){if(o=a.get,f=a.set,o&&Mr.has(o))return;if(o||f){if(!o||!f){console.warn(`The \`@signal\` decorator was used on an accessor named "${e.toString()}" which had a getter or a setter, but not both. Reactivity on accessors works only when accessors have both get and set. In this case the decorator does not do anything.`);return}delete a.get,delete a.set}else{if(n=a.value,!a.writable){console.warn(`The \`@signal\` decorator was used on a property named "${e.toString()}" that is not writable. Reactivity is not enabled for non-writable properties.`);return}delete a.value,delete a.writable}}const u=ue(n,{equals:!1});a={configurable:!0,enumerable:!0,...a,get:o?function(){return u[0](),o.call(this)}:function(){return u[0]()},set:f?function(_){f.call(this,_),Lr(this,e),typeof _=="function"?u[1](()=>_):u[1](_)}:function(_){Lr(this,e),typeof _=="function"?u[1](()=>_):u[1](_)}},Mr.add(a.get),Object.defineProperty(t,e,a),jt.has(t)||jt.set(t,new Set),jt.get(t).add(e)}let nn=new Map,bt=null;function Ca(){if(bt)throw new Error("Attempted use of classy-solid internals.");return bt=Symbol(),bt}function Oa(t){if(t!==bt)throw new Error("Attempted use of classy-solid internals.");return nn}function Pa(t){if(t!==bt)throw new Error("Attempted use of classy-solid internals.");nn=new Map}function ka(t){return"private"in t}function jr(t,e){const{kind:n,name:r}=e,c=nn;if(ka(e)){if(e.private)throw new Error("@signal is not supported on private fields yet.");if(e.static)throw new Error("@signal is not supported on static fields yet.")}if(n==="field")return c.set(r,{initialValue:void 0}),function(s){return c.get(r).initialValue=s,s};if(n==="getter"||n==="setter")c.set(r,{initialValue:void 0});else throw new Error("The @signal decorator is only for use on fields, getters, and setters. Auto accessor support is coming next if there is demand for it.");Na(c)}let yn=!1;function Na(t){yn||(yn=!0,queueMicrotask(()=>{if(yn=!1,t===nn)throw new Error(`Stray @signal-decorated properties detected: ${Array.from(t.keys()).join(", ")}. Did you forget to use the \`@reactive\` decorator on a class that has properties decorated with \`@signal\`?`)}))}const Dr=Ca(),Ra=Ta(),Gr=Object.prototype.hasOwnProperty;function Ia(t,e){if(typeof t!="function"||e&&e.kind!=="class")throw new TypeError("The @reactive decorator is only for use on classes.");const n=t,r=Oa(Dr);Pa(Dr);class c extends n{constructor(...a){let o;at()?ce(()=>o=Reflect.construct(n,a,new.target)):(super(...a),o=this);for(const[f,{initialValue:u}]of r){if(!(Gr.call(o,f)||Gr.call(n.prototype,f)))throw new Error(`Property "${f.toString()}" not found on instance of class decorated with \`@reactive\`. Did you forget to use the \`@reactive\` decorator on one of your classes that has a "${f.toString()}" property decorated with \`@signal\`?`);Ra(o,f,u,!0)}return o}}return c}var Ct;let ht;const xa=globalThis.HTMLElement??class{constructor(){throw new Error("@lume/element needs a DOM to operate with! If this code is running during server-side rendering, it means your app is trying to instantiate elements when it shouldn't be, and should be refactored to avoid doing that when no DOM is present.")}};class We extends wa(xa){constructor(){super(...arguments),ge(this,kn),ge(this,Nn),ge(this,Rn),ge(this,Is,ot(this,kn,Rs).call(this)),Te(this,"hasShadow",!0),Te(this,"__root",null),ge(this,Bt,void 0),ge(this,Pe,null),ge(this,Yt,e=>`${e} {
		display: block;
	}`),ge(this,Vn,Ct.__elementId++),ge(this,Et,null)}static defineElement(e,n=customElements){if(e){if(n.get(e))return console.warn(`defineElement(): An element class was already defined for tag name ${e}.`),this;{const r=class extends this{};return r.elementName=e,n.define(e,r),r}}else return e=this.elementName,n.get(e)?(console.warn(`defineElement(): An element class was already defined for tag name ${e}.`),this):(n.define(e,this),this)}get root(){return this.hasShadow?this.__root?this.__root:this.shadowRoot?this.__root=this.shadowRoot:this.__root=this.attachShadow({mode:"open"}):this}set root(e){if(!this.hasShadow)throw new Error("Can not set root, element.hasShadow is false.");if(this.__root||this.shadowRoot)throw new Error("Element root can only be set once if there is no ShadowRoot.");this.__root=e}get styleRoot(){return this.root}attachShadow(e){return this.__root&&console.warn("Element already has a root defined."),this.__root=super.attachShadow(e)}connectedCallback(){const e=this.template;e&&it(this,Bt,Ln(typeof e=="function"?e.bind(this):()=>e,this.root)),ot(this,Nn,xs).call(this)}disconnectedCallback(){var e;this.stopEffects(),(e=he(this,Bt))==null||e.call(this),ot(this,Rn,$s).call(this)}adoptedCallback(){}}kn=new WeakSet;Rs=function(){const t=Object.keys(this);this._preUpgradeValues=new Map;for(const e of t){const n=Object.getOwnPropertyDescriptor(this,e);"value"in n&&(delete this[e],this._preUpgradeValues.set(e,n.value),queueMicrotask(()=>{if(Ea(this,e))return;e in this.__proto__&&(this[e]=n.value)}))}};Is=new WeakMap;Bt=new WeakMap;Pe=new WeakMap;Yt=new WeakMap;Vn=new WeakMap;Et=new WeakMap;Nn=new WeakSet;xs=function(){ht=this.constructor;const t=typeof ht.css=="function"?ht.css=ht.css():ht.css||"",e=typeof this.css=="function"?this.css():this.css||"";if(this.hasShadow){const n=":host",r=document.createElement("style");r.innerHTML=`
				${he(this,Yt).call(this,n)}
				${t}
				${e}
			`,this.styleRoot.appendChild(r)}else{const n=this.getRootNode();it(this,Pe,n===document?document.head:n);let r=Ct.__styleRootNodeRefCountPerTagName.get(he(this,Pe));r||Ct.__styleRootNodeRefCountPerTagName.set(he(this,Pe),r={});const c=r[this.tagName]||0;if(r[this.tagName]=c+1,c===0){const s=this.tagName.toLowerCase(),a=document.createElement("style");a.innerHTML=`
					${he(this,Yt).call(this,s)}
					${t&&t.replaceAll(":host",s)}
				`,a.id=this.tagName.toLowerCase(),he(this,Pe).appendChild(a)}if(e){const s=this.tagName.toLowerCase()+"-"+he(this,Vn);this.setAttribute(s,"");const a=it(this,Et,document.createElement("style"));a.id=s,a.innerHTML=e.replaceAll(":host",`[${s}]`);const o=this.getRootNode();it(this,Pe,o===document?document.head:o),he(this,Pe).appendChild(a)}}};Rn=new WeakSet;$s=function(){do{if(this.hasShadow)break;const t=Ct.__styleRootNodeRefCountPerTagName.get(he(this,Pe));if(!t)break;let e=t[this.tagName];if(e===void 0)break;if(t[this.tagName]=--e,e===0){delete t[this.tagName];const n=he(this,Pe).querySelector("#"+this.tagName);n?.remove()}}while(!1);he(this,Et)&&he(this,Et).remove()};Te(We,"elementName","");Te(We,"observedAttributes");Te(We,"__styleRootNodeRefCountPerTagName",new WeakMap);Te(We,"__elementId",0);Ct=We;Symbol.metadata??(Symbol.metadata=Symbol.for("Symbol.metadata"));function $a(t){return t.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}function La(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0,enumerable:!0})}const In=[];function Ye(t,e){if(arguments.length===2)return Br(t,e,void 0);const n=t;return(r,c)=>Br(r,c,n)}function Br(t,e,n={}){const{kind:r,name:c,private:s,static:a,metadata:o}=e,f=Object.hasOwn(o,"noSignal")&&o.noSignal||void 0,u=!f?.has(c);if(typeof c=="symbol")throw new Error("@attribute is not supported on symbol fields yet.");if(s)throw new Error("@attribute is not supported on private fields yet.");if(a)throw new Error("@attribute is not supported on static fields.");if(In.push(_=>Ms(_,c,n)),r==="field"){const _=u?jr(t,e):d=>d;return function(d){return d=_(d),"default"in n||(n.default=d),d}}else if(r==="getter"||r==="setter")u&&jr(t,e);else throw new Error("@attribute is only for use on fields, getters, and setters. Auto accessor support is coming next if there is demand for it.")}function Ms(t,e,n){if(!t.observedAttributes||!t.hasOwnProperty("observedAttributes")){const c=t.__proto__.observedAttributes;if(c&&!Array.isArray(c))throw new TypeError("observedAttributes is in the wrong format. Did you forget to decorate your custom element class with the `@element` decorator?");La(t,"observedAttributes",[...c||[]])}if(!Array.isArray(t.observedAttributes))throw new TypeError("observedAttributes is in the wrong format. Maybe you forgot to decorate your custom element class with the `@element` decorator.");const r=$a(e);t.observedAttributes.includes(r)||t.observedAttributes.push(r),Ma(t.prototype,r,e,n)}function Ma(t,e,n,r){if(!t.__hasAttributeChangedCallback){t.__hasAttributeChangedCallback=!0;const c=t.attributeChangedCallback;t.attributeChangedCallback=function(s,a,o){var f,u;c?c.call(this,s,a,o):(u=(f=t.__proto__)==null?void 0:f.attributeChangedCallback)==null||u.call(this,s,a,o);const _=this.__attributesToProps&&this.__attributesToProps[s];if(_){const d=_.attributeHandler;this[_.name]=d?o===null?"default"in d?d.default:null:d.from?d.from(o):o:o}}}t.hasOwnProperty("__attributesToProps")||Object.defineProperty(t,"__attributesToProps",{value:{__proto__:t.__attributesToProps||Object.prototype}}),t.__attributesToProps[e]={name:n,attributeHandler:r}}const ja=t=>t;Ye.string=()=>({from:ja});function Dt(t,e){return Ye(Ye.string())(t,e)}const Da=t=>+t;Ye.number=()=>({from:Da});const Ga=t=>t!=="false";Ye.boolean=()=>({from:Ga});function Ba(t,e){return Ye(Ye.boolean())(t,e)}function Wa(t,e){let n="",r=!0;return n=t,(c,s)=>Fa(c,s,n,r)}function Fa(t,e,n,r){if(typeof t!="function"||e&&e.kind!=="class")throw new Error("@element is only for use on classes.");const{metadata:c={}}=e??{},s=Object.hasOwn(c,"noSignal")&&c.noSignal||void 0;let a=t;const o=a.observedAttributes;if(a.hasOwnProperty("elementName")?n=a.elementName||n:a.elementName=n,!Array.isArray(o)){if(o&&typeof o=="object"){a.observedAttributes=void 0;for(const d in o)Ms(a,d,o[d])}}a=Ia(a,e);class f extends a{constructor(...b){super(...b),ce(()=>{Ua(this);const k=[],v=f.prototype.__attributesToProps??{};for(const O of Object.values(v)){const C=O.name;!s?.has(C)&&k.push(C);const A=O.attributeHandler;A&&!("default"in A)&&(A.default=this[C])}k.length&&Aa(this,...k)})}}const u=[...In];In.length=0;function _(){var d,b;for(const k of u)k(f);n&&r&&((b=(d=globalThis.window)==null?void 0:d.customElements)==null||b.define(n,f))}return e?.addInitializer?e.addInitializer(_):_(),f}function Ua(t){if(t instanceof We)for(const[e,n]of t._preUpgradeValues){if(!(e in t))continue;t._preUpgradeValues.delete(e);const r=Object.getOwnPropertyDescriptor(t,e);r&&"value"in r&&delete t[e],t[e]=n}}const za=["container","code","line","character","textarea"],Ha=`:host {
  display: contents;

  & .container {
    all: inherit;
    display: flex;
    position: relative;
    box-sizing: border-box;
    background: var(--tm-background-color, inherit);
    overflow: auto;
    color: var(--tm-foreground-color, inherit);
  }
}

.container {
  --tm-min-height: calc(var(--tm-line-count) * var(--tm-char-height));
  --tm-min-width: calc(var(--tm-line-size) * 1ch);
  display: flex;
  position: relative;
  box-sizing: border-box;
  background-color: var(--tm-background-color);
  overflow: auto;
  color: var(--tm-foreground-color);
  font-size: 13px;

  & .code {
    display: block;
    position: absolute;
    z-index: 1;
    /* fixes color change when textarea is focused */
    backface-visibility: hidden;
    contain: layout;
    pointer-events: none;
    font-size: inherit;
    line-height: inherit;
    font-family: monospace;
    white-space: pre;

    & .line {
      position: absolute;
      top: calc(var(--tm-line-number) * var(--tm-char-height));
      margin: 0px;

      & span {
        margin: 0px;
        background: transparent !important;
      }
    }
  }

  & .character {
    position: absolute;
    align-self: start;
    visibility: hidden;
    pointer-events: none;
    font-size: inherit;
    line-height: inherit;
  }

  & .textarea {
    transition: color 0.5s;
    outline: none;
    border: none;
    background: transparent;
    padding: 0px;
    width: 100%;
    min-width: var(--tm-min-width);
    height: 100%;
    min-height: var(--tm-min-height);
    overflow: hidden;
    resize: none;
    color: transparent;
    caret-color: var(--tm-foreground-color);
    font-size: inherit;
    line-height: inherit;
    font-family: monospace;
    text-align: inherit;
    white-space: pre;
  }

  & .textarea::selection {
    background: var(--tm-selection-color);
  }
}
`,_n=new Map;function js(t){if(t instanceof CSSStyleSheet)return t;if(!_n.has(t)){const e=new CSSStyleSheet;e.replace(t),_n.set(t,e)}return _n.get(t)}let Ds,Gs,Bs,Ws,Fs,Us,zs;function qa(t,e,n,r,c,s){function a(v,O,C){return function(y,A){return C&&C(y),v[O].call(y,A)}}function o(v,O){for(var C=0;C<v.length;C++)v[C].call(O);return O}function f(v,O,C,y){if(typeof v!="function"&&(y||v!==void 0))throw new TypeError(O+" must "+(C||"be")+" a function"+(y?"":" or undefined"));return v}function u(v,O,C,y,A,S,T,g,i,p,h,l,m){function w(G){if(!m(G))throw new TypeError("Attempted to access private element on non-instance")}var E,P=O[0],I=O[3],$=!g;if(!$){C||Array.isArray(P)||(P=[P]);var R={},F=[],B=A===3?"get":A===4||l?"set":"value";p?(h||l?R={get:Wr(function(){return I(this)},y,"get"),set:function(G){O[4](this,G)}}:R[B]=I,h||Wr(R[B],y,A===2?"":B)):h||(R=Object.getOwnPropertyDescriptor(v,y))}for(var j=v,V=P.length-1;V>=0;V-=C?2:1){var te=P[V],Z=C?P[V-1]:void 0,X={},H={kind:["field","accessor","method","getter","setter","class"][A],name:y,metadata:S,addInitializer:function(G,z){if(G.v)throw Error("attempted to call addInitializer after decoration was finished");f(z,"An initializer","be",!0),T.push(z)}.bind(null,X)};try{if($)(E=f(te.call(Z,j,H),"class decorators","return"))&&(j=E);else{var K,ne;H.static=i,H.private=p,p?A===2?K=function(G){return w(G),R.value}:(A<4&&(K=a(R,"get",w)),A!==3&&(ne=a(R,"set",w))):(K=function(G){return G[y]},(A<2||A===4)&&(ne=function(G,z){G[y]=z}));var L=H.access={has:p?m.bind():function(G){return y in G}};if(K&&(L.get=K),ne&&(L.set=ne),j=te.call(Z,l?{get:R.get,set:R.set}:R[B],H),l){if(typeof j=="object"&&j)(E=f(j.get,"accessor.get"))&&(R.get=E),(E=f(j.set,"accessor.set"))&&(R.set=E),(E=f(j.init,"accessor.init"))&&F.push(E);else if(j!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else f(j,(h?"field":"method")+" decorators","return")&&(h?F.push(j):R[B]=j)}}finally{X.v=!0}}return(h||l)&&g.push(function(G,z){for(var ee=F.length-1;ee>=0;ee--)z=F[ee].call(G,z);return z}),h||$||(p?l?g.push(a(R,"get"),a(R,"set")):g.push(A===2?R[B]:a.call.bind(R[B])):Object.defineProperty(v,y,R)),j}function _(v,O){return Object.defineProperty(v,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:O})}if(arguments.length>=6)var d=s[Symbol.metadata||Symbol.for("Symbol.metadata")];var b=Object.create(d??null),k=function(v,O,C,y){var A,S,T=[],g=function(B){return Ja(B)===v},i=new Map;function p(B){B&&T.push(o.bind(null,B))}for(var h=0;h<O.length;h++){var l=O[h];if(Array.isArray(l)){var m=l[1],w=l[2],E=l.length>3,P=16&m,I=!!(8&m),$=(m&=7)==0,R=w+"/"+I;if(!$&&!E){var F=i.get(R);if(F===!0||F===3&&m!==4||F===4&&m!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+w);i.set(R,!(m>2)||m)}u(I?v:v.prototype,l,P,E?"#"+w:Ka(w),m,y,I?S=S||[]:A=A||[],T,I,E,$,m===1,I&&E?g:C)}}return p(A),p(S),T}(t,e,c,b);return n.length||_(t,b),{e:k,get c(){var v=[];return n.length&&[_(u(t,[n],r,t.name,5,b,v),b),o.bind(null,v,t)]}}}function Ka(t){var e=Xa(t,"string");return typeof e=="symbol"?e:e+""}function Xa(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Wr(t,e,n){typeof e=="symbol"&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch{}return t}function Ja(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}const Va=_a(Object.fromEntries(za.map(t=>[t,t]))),Ya=js(Ha);Gs=[Wa("tm-textarea")];let Hs;const Qa=class extends We{constructor(){super(...arguments),Te(this,"editable",Bs(this,!0)),Te(this,"grammar",Ws(this,"tsx")),Te(this,"stylesheet",Fs(this,"")),Te(this,"theme",Us(this,"dark-plus")),Te(this,"value",zs(this,"")),Te(this,"template",()=>{const e=this,n=this.shadowRoot.adoptedStyleSheets;return n.push(Ya),this.stylesheet&&n.push(js(this.stylesheet)),Ae(Va,{get grammar(){return e.grammar},get theme(){return e.theme},get value(){return e.value},get editable(){return e.editable},onInput:r=>e.value=r.currentTarget.value})})}};({e:[Bs,Ws,Fs,Us,zs],c:[Hs,Ds]}=qa(Qa,[[Ba,0,"editable"],[Dt,0,"grammar"],[Dt,0,"stylesheet"],[Dt,0,"theme"],[Dt,0,"value"]],Gs,0,void 0,We));Ds();function Za(){customElements.get("tm-textarea")||customElements.define("tm-textarea",Hs)}var ec=Be("<div>"),tc=Be("<tm-textarea theme=andromeeda>",!0,!1),nc=Be("<repl-frame>",!0,!1);Za();const rc={target:2,module:5,jsx:1,jsxImportSource:"solid-js",esModuleInterop:!0,allowSyntheticDefaultImports:!0,forceConsistentCasingInFileNames:!0,isolatedModules:!0,resolveJsonModule:!0,skipLibCheck:!0,strict:!0,noEmit:!1,outDir:"./dist"},sc=()=>{const[t]=je(async()=>{const[e,n]=await Promise.all([qo(),Promise.all([Xo({tsconfig:rc}),Ko({plugins:[["proposal-decorators",{version:"2023-11"}]],presets:["babel-preset-solid@1.8.22"]})])]),r=location.hash?JSON.parse(Pr.decompressFromEncodedURIComponent(location.hash.slice(1))):{"src/index.css":`body {
background: blue;
}
/* .test */
.button {
background: red;
}
  `,"src/index.tsx":`import { render } from "solid-js/web";
import { dispose } from "@repl/std";
import "solid-js/jsx-runtime";
import "./index.css";

function App() {
return (
  <button class="button" >
    hello
  </button>
);
}

dispose('src/index.tsx', render(() => <App />, document.body));`};return console.log(r),new Gi({importExternalTypes:!1,transformModulePaths:e,transform:n,files:r}).initialize()});return(()=>{var e=ec();return e.style.setProperty("display","flex"),e.style.setProperty("flex-direction","row"),e.style.setProperty("height","100%"),e.style.setProperty("overflow","hidden"),jn(e,Ae(qt,{get when(){return t()},children:n=>[(()=>{var r=tc();return r.$$input=c=>{n().setFile("src/index.tsx",c.currentTarget.value),location.hash=Pr.compressToEncodedURIComponent(JSON.stringify(n().fs.toJSON().sources))},r.style.setProperty("padding","20px"),r.style.setProperty("overflow","auto"),r.style.setProperty("flex","1"),r._$owner=De(),_e(()=>r.value=n().getFile("src/index.tsx").source),r})(),(()=>{var r=nc();return r.addEventListener("ready",({frame:c})=>{const s=n().getFile("src/index.tsx");let a;function o({url:f}){a?.(),f&&(c.clearBody(),a=c.injectModuleUrl(f))}s.addEventListener("url",o),o(s)}),r.style.setProperty("flex","1"),r._$owner=De(),r})()]})),e})()};Ln(()=>Ae(sc,{}),document.getElementById("root"));Mn(["input"]);
